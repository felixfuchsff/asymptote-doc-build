<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asymptote: asymptote/base/three.asy Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asymptote
   &#160;<span id="projectnumber">3.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0967d6863f9f3f70e6790853b0bdb9b1.html">asymptote</a></li><li class="navelem"><a class="el" href="dir_f33a22ab13494ccbd0ca2573fda959f2.html">base</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">three.asy</div>  </div>
</div><!--header-->
<div class="contents">
<a href="three_8asy.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="three_8asy.html#a5ab5427664790aae3d1de54c5765f23a">    1</a></span>&#160;<span class="keyword">private</span> <span class="keyword">import</span> <a class="code" href="three_8asy.html#a5ab5427664790aae3d1de54c5765f23a">math</a>;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno"><a class="line" href="three_8asy.html#a2de05e5be904aac76749da05fd7f1146">    3</a></span>&#160;<span class="keywordflow">if</span>(<a class="code" href="namespacesettings.html">settings</a>.v3d) <a class="code" href="namespacesettings.html">settings</a>.prc=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="three_8asy.html#a0958691311245113df870d6281727afd">    5</a></span>&#160;<span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#af4e47cf2c50325d066588ec09c67f371">prc0</a>() || <a class="code" href="namespacesettings.html">settings</a>.v3d) {</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="namespacesettings.html#a3e8010c886d3d487bee6d960bfc0723e">latex</a>()) {</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <a class="code" href="namespacesettings.html">settings</a>.prc=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <a class="code" href="namespacesettings.html">settings</a>.v3d=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  }</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    access <a class="code" href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b">embed</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <a class="code" href="plain__shipout_8asy.html#a423e0d3784cf809ce11394e3565ea26b">Embed</a>=<a class="code" href="plain__Label_8asy.html#aef6528128089731796126bb79b2554b3">embed</a>.embedplayer;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  }</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// Useful lossy PRC compression values.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="three_8asy.html#a6e962d69c03afcf13d612668ac46e57b">   17</a></span>&#160;restricted real <a class="code" href="three_8asy.html#a6e962d69c03afcf13d612668ac46e57b">Zero</a>=0;</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="three_8asy.html#a6b44b62eb2ab154030549fb3804ce7a8">   18</a></span>&#160;restricted real <a class="code" href="three_8asy.html#a6b44b62eb2ab154030549fb3804ce7a8">Single</a>=0.000001;</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="three_8asy.html#afbdf0675a7e647dbd93358876439d170">   19</a></span>&#160;restricted real <a class="code" href="three_8asy.html#afbdf0675a7e647dbd93358876439d170">Low</a>=0.0001;</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="three_8asy.html#ac5219ad03b683e4110fdd779932350b3">   20</a></span>&#160;restricted real <a class="code" href="three_8asy.html#ac5219ad03b683e4110fdd779932350b3">Medium</a>=0.001;</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="three_8asy.html#a87a5ef7618ae6611f9ab510375c8dfd5">   21</a></span>&#160;restricted real <a class="code" href="three_8asy.html#a87a5ef7618ae6611f9ab510375c8dfd5">High</a>=0.01;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="three_8asy.html#a230ae788e9424997f43f1dee2a944132">   23</a></span>&#160;restricted <span class="keywordtype">int</span> <a class="code" href="three_8asy.html#a230ae788e9424997f43f1dee2a944132">PRCsphere</a>=0;   <span class="comment">// Renders slowly but produces smaller PRC files.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="three_8asy.html#ac367fc571cbf4114b8f977c3c7ebec53">   24</a></span>&#160;restricted <span class="keywordtype">int</span> <a class="code" href="three_8asy.html#ac367fc571cbf4114b8f977c3c7ebec53">NURBSsphere</a>=1; <span class="comment">// Renders fast but produces larger PRC files.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="structinteraction.html">   26</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structinteraction.html">interaction</a></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="structinteraction.html#a72ef8e8630dc115d0969afb1bb0c833a">   28</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structinteraction.html#a72ef8e8630dc115d0969afb1bb0c833a">type</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="structinteraction.html#a666aa8997c9b1375f0c676d69be0608b">   29</a></span>&#160;  triple <a class="code" href="structinteraction.html#a666aa8997c9b1375f0c676d69be0608b">center</a>;  <span class="comment">// position to rotate billboard objects about</span></div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="structinteraction.html#ab1514c70020d58c465c09846c8a78ef9">   30</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structinteraction.html#ab1514c70020d58c465c09846c8a78ef9">targetsize</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="structinteraction.html#a7dde8aa95e90117a2a8f160529dc10f8">   31</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structinteraction.html">interaction</a> <a class="code" href="structinteraction.html#a7dde8aa95e90117a2a8f160529dc10f8">defaultinteraction</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="structinteraction.html#aac740fa6199e3920d151e4a7fa188198">   33</a></span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>(<a class="code" href="structinteraction.html">interaction</a> <a class="code" href="structinteraction.html">interaction</a>=<a class="code" href="structinteraction.html#a7dde8aa95e90117a2a8f160529dc10f8">defaultinteraction</a>,</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                     <span class="keywordtype">int</span> <a class="code" href="structinteraction.html#a72ef8e8630dc115d0969afb1bb0c833a">type</a>=<a class="code" href="structinteraction.html">interaction</a>.<a class="code" href="structinteraction.html#a72ef8e8630dc115d0969afb1bb0c833a">type</a>,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                     triple <a class="code" href="structinteraction.html#a666aa8997c9b1375f0c676d69be0608b">center</a>=<a class="code" href="structinteraction.html">interaction</a>.<a class="code" href="structinteraction.html#a666aa8997c9b1375f0c676d69be0608b">center</a>, <span class="keywordtype">bool</span> <a class="code" href="structinteraction.html#ab1514c70020d58c465c09846c8a78ef9">targetsize</a>=<a class="code" href="structinteraction.html">interaction</a>.<a class="code" href="structinteraction.html#ab1514c70020d58c465c09846c8a78ef9">targetsize</a>) {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    this.type=<a class="code" href="structinteraction.html#a72ef8e8630dc115d0969afb1bb0c833a">type</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    this.center=<a class="code" href="structinteraction.html#a666aa8997c9b1375f0c676d69be0608b">center</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    this.targetsize=<a class="code" href="structinteraction.html#ab1514c70020d58c465c09846c8a78ef9">targetsize</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="three_8asy.html#afd6625bdf41bc263cab2c344c2628d97">   42</a></span>&#160;<a class="code" href="structinteraction.html">interaction</a>.<a class="code" href="structinteraction.html#a7dde8aa95e90117a2a8f160529dc10f8">defaultinteraction</a>=<span class="keyword">new</span> <a class="code" href="three_8asy.html#ae25e8142eeea956e3b80e492fc89c4e5">interaction</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="three_8asy.html#ac10b37ed6384bd0b015e4caca6eda589">   44</a></span>&#160;restricted <a class="code" href="structinteraction.html">interaction</a> <a class="code" href="three_8asy.html#ac10b37ed6384bd0b015e4caca6eda589">Embedded</a>=<a class="code" href="three_8asy.html#ae25e8142eeea956e3b80e492fc89c4e5">interaction</a>();</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="three_8asy.html#ae808fcae7981b91babc3b7f7a4236192">   45</a></span>&#160;restricted <a class="code" href="structinteraction.html">interaction</a> <a class="code" href="three_8asy.html#ae808fcae7981b91babc3b7f7a4236192">Billboard</a>=<a class="code" href="three_8asy.html#ae25e8142eeea956e3b80e492fc89c4e5">interaction</a>(1);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structrender.html">   47</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrender.html">render</a></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structrender.html#aae585969b3a072887a2d16d8fb960705">   49</a></span>&#160;  real <a class="code" href="structrender.html#aae585969b3a072887a2d16d8fb960705">compression</a>;     <span class="comment">// lossy PRC compression parameter (0=no compression)</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structrender.html#adb1274ce52a0ae100b141b1f3eb85839">   50</a></span>&#160;  real <a class="code" href="structrender.html#adb1274ce52a0ae100b141b1f3eb85839">granularity</a>;     <span class="comment">// PRC rendering granularity</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structrender.html#aef18ed23f6452bff96d792943b4dd8a3">   52</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrender.html#aef18ed23f6452bff96d792943b4dd8a3">closed</a>;          <span class="comment">// use one-sided PRC rendering?</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structrender.html#ae8b60262da9a14f7f86cda727f4fe360">   54</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrender.html#ae8b60262da9a14f7f86cda727f4fe360">tessellate</a>;      <span class="comment">// use tessellated mesh to store straight patches</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structrender.html#add912c17887eece946eea8895f0104b1">   56</a></span>&#160;  <a class="code" href="structbool3.html">bool3</a> <a class="code" href="structrender.html#add912c17887eece946eea8895f0104b1">merge</a>;          <span class="comment">// merge PRC nodes before rendering, for faster but</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                        <span class="comment">// lower quality rendering (the value default means</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                        <span class="comment">// merge opaque patches only).</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structrender.html#aa50461c2d29e6aa6b73a41dcc0b09494">   60</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structrender.html#aa50461c2d29e6aa6b73a41dcc0b09494">sphere</a>;           <span class="comment">// PRC sphere type (PRCsphere or NURBSsphere).</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// General parameters:</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structrender.html#ad7b10b80e28f0a36cf1d63f34c71ae5b">   63</a></span>&#160;  real <a class="code" href="structrender.html#ad7b10b80e28f0a36cf1d63f34c71ae5b">margin</a>;          <span class="comment">// shrink amount for rendered OpenGL viewport, in bp.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structrender.html#a67199de9ebd4de57b65b1965d77ad31b">   64</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrender.html#a67199de9ebd4de57b65b1965d77ad31b">partnames</a>;       <span class="comment">// assign part name indices to compound objects</span></div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structrender.html#a99770ae7aa9852966ff08ef38d4a8695">   65</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrender.html#a99770ae7aa9852966ff08ef38d4a8695">defaultnames</a>;    <span class="comment">// assign default names to unnamed objects</span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="structrender.html#a7a59966bb9224345d729b9011d5da2de">   66</a></span>&#160;  <a class="code" href="structinteraction.html">interaction</a> <a class="code" href="structrender.html#a7a59966bb9224345d729b9011d5da2de">interaction</a>; <span class="comment">// billboard interaction mode</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structrender.html#afb7efd97dbc3f2dbd0d3cfe71131a7c4">   68</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html#afb7efd97dbc3f2dbd0d3cfe71131a7c4">defaultrender</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structrender.html#a547d6807fd63cc29078f32f489ccb307">   70</a></span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>(<a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=<a class="code" href="structrender.html#afb7efd97dbc3f2dbd0d3cfe71131a7c4">defaultrender</a>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                     real <a class="code" href="structrender.html#aae585969b3a072887a2d16d8fb960705">compression</a>=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#aae585969b3a072887a2d16d8fb960705">compression</a>,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                     real <a class="code" href="structrender.html#adb1274ce52a0ae100b141b1f3eb85839">granularity</a>=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#adb1274ce52a0ae100b141b1f3eb85839">granularity</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                     <span class="keywordtype">bool</span> <a class="code" href="structrender.html#aef18ed23f6452bff96d792943b4dd8a3">closed</a>=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#aef18ed23f6452bff96d792943b4dd8a3">closed</a>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                     <span class="keywordtype">bool</span> <a class="code" href="structrender.html#ae8b60262da9a14f7f86cda727f4fe360">tessellate</a>=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#ae8b60262da9a14f7f86cda727f4fe360">tessellate</a>,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                     <a class="code" href="structbool3.html">bool3</a> <a class="code" href="structrender.html#add912c17887eece946eea8895f0104b1">merge</a>=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#add912c17887eece946eea8895f0104b1">merge</a>,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                     <span class="keywordtype">int</span> <a class="code" href="structrender.html#aa50461c2d29e6aa6b73a41dcc0b09494">sphere</a>=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#aa50461c2d29e6aa6b73a41dcc0b09494">sphere</a>,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                     real <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#ad7b10b80e28f0a36cf1d63f34c71ae5b">margin</a>,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                     <span class="keywordtype">bool</span> <a class="code" href="structrender.html#a67199de9ebd4de57b65b1965d77ad31b">partnames</a>=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#a67199de9ebd4de57b65b1965d77ad31b">partnames</a>,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                     <span class="keywordtype">bool</span> <a class="code" href="structrender.html#a99770ae7aa9852966ff08ef38d4a8695">defaultnames</a>=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#a99770ae7aa9852966ff08ef38d4a8695">defaultnames</a>,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                     <a class="code" href="structinteraction.html">interaction</a> <a class="code" href="structinteraction.html">interaction</a>=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#a7a59966bb9224345d729b9011d5da2de">interaction</a>)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    this.compression=<a class="code" href="structrender.html#aae585969b3a072887a2d16d8fb960705">compression</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    this.granularity=<a class="code" href="structrender.html#adb1274ce52a0ae100b141b1f3eb85839">granularity</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    this.closed=<a class="code" href="structrender.html#aef18ed23f6452bff96d792943b4dd8a3">closed</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    this.tessellate=<a class="code" href="structrender.html#ae8b60262da9a14f7f86cda727f4fe360">tessellate</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    this.merge=<a class="code" href="structrender.html#add912c17887eece946eea8895f0104b1">merge</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    this.sphere=<a class="code" href="structrender.html#aa50461c2d29e6aa6b73a41dcc0b09494">sphere</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    this.margin=<a class="code" href="structrender.html#ad7b10b80e28f0a36cf1d63f34c71ae5b">margin</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    this.partnames=<a class="code" href="structrender.html#a67199de9ebd4de57b65b1965d77ad31b">partnames</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    this.defaultnames=<a class="code" href="structrender.html#a99770ae7aa9852966ff08ef38d4a8695">defaultnames</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    this.interaction=<a class="code" href="structrender.html#a7a59966bb9224345d729b9011d5da2de">interaction</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<a class="code" href="structrender.html">render</a> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>() {<span class="keywordflow">return</span> <a class="code" href="tube_8asy.html#a3aa19d4e0f2b0932b080b8dfb1c2e096">render</a>();}</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="three_8asy.html#a8fdd2b2b27b851b9a0d9f83c5b861da1">   96</a></span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="three_8asy.html#ae622fd3e0b25a8f9776f4be42b9bceea">   97</a></span>&#160;<a class="code" href="structrender.html">render</a> defaultrender=<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#afb7efd97dbc3f2dbd0d3cfe71131a7c4">defaultrender</a>=<span class="keyword">new</span> <a class="code" href="tube_8asy.html#a3aa19d4e0f2b0932b080b8dfb1c2e096">render</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;defaultrender.<a class="code" href="structrender.html#aae585969b3a072887a2d16d8fb960705">compression</a>=<a class="code" href="three_8asy.html#a87a5ef7618ae6611f9ab510375c8dfd5">High</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="three_8asy.html#a868092fd885ac3b55c43ebd27b4cf940">   99</a></span>&#160;defaultrender.<a class="code" href="structrender.html#adb1274ce52a0ae100b141b1f3eb85839">granularity</a>=<a class="code" href="three_8asy.html#ac5219ad03b683e4110fdd779932350b3">Medium</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;defaultrender.<a class="code" href="structrender.html#aef18ed23f6452bff96d792943b4dd8a3">closed</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="three_8asy.html#af143930f01fa2dd202afd1abb0502467">  101</a></span>&#160;defaultrender.<a class="code" href="structrender.html#ae8b60262da9a14f7f86cda727f4fe360">tessellate</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;defaultrender.<a class="code" href="structrender.html#add912c17887eece946eea8895f0104b1">merge</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="three_8asy.html#ae3f8bfe245d1811358fb1fb031908815">  103</a></span>&#160;defaultrender.<a class="code" href="structrender.html#ad7b10b80e28f0a36cf1d63f34c71ae5b">margin</a>=0.02;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;defaultrender.<a class="code" href="structrender.html#aa50461c2d29e6aa6b73a41dcc0b09494">sphere</a>=<a class="code" href="three_8asy.html#ac367fc571cbf4114b8f977c3c7ebec53">NURBSsphere</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;defaultrender.<a class="code" href="structrender.html#a67199de9ebd4de57b65b1965d77ad31b">partnames</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;defaultrender.<a class="code" href="structrender.html#a99770ae7aa9852966ff08ef38d4a8695">defaultnames</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="three_8asy.html#aa11b7e2da18cc264220a31770d01729c">  107</a></span>&#160;defaultrender.<a class="code" href="structrender.html#a7a59966bb9224345d729b9011d5da2de">interaction</a>=<a class="code" href="three_8asy.html#ac10b37ed6384bd0b015e4caca6eda589">Embedded</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="three_8asy.html#ad011ab9d1ca635a6f0a1cab7d95c2b6c">  109</a></span>&#160;real <a class="code" href="three_8asy.html#ad011ab9d1ca635a6f0a1cab7d95c2b6c">defaultshininess</a>=0.7;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="three_8asy.html#a3273bb4638145a17df2548a2b519a0ec">  110</a></span>&#160;real <a class="code" href="three_8asy.html#a3273bb4638145a17df2548a2b519a0ec">defaultmetallic</a>=0.0;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="three_8asy.html#a4412fbe290b815a868138db3e43edd51">  111</a></span>&#160;real <a class="code" href="three_8asy.html#a4412fbe290b815a868138db3e43edd51">defaultfresnel0</a>=0.04;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="three_8asy.html#a148d33e700f6eb5fa7b9316f69b6d404">  112</a></span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="three_8asy.html#ae25e8142eeea956e3b80e492fc89c4e5">  113</a></span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="three_8asy.html#a41b648be96938404cb7479427550f510">  115</a></span>&#160;real <a class="code" href="three_8asy.html#a41b648be96938404cb7479427550f510">angleprecision</a>=1<a class="code" href="geometry_8asy.html#aa7453a2639087da385aa95fdcdd725f4">e</a>-5; <span class="comment">// Precision for centering perspective projections.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="three_8asy.html#a08ce4bf58bf6d85ee17275ff1163e2fb">  116</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="three_8asy.html#a08ce4bf58bf6d85ee17275ff1163e2fb">maxangleiterations</a>=25;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="three_8asy.html#a00f9b2061b75145164991be26bece212">  117</a></span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="three_8asy.html#ab17dc7da202119a308b31b6f177a327a">  118</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="three_8asy.html#ab17dc7da202119a308b31b6f177a327a">defaultembed3Doptions</a>=<span class="stringliteral">&quot;3Dmenu&quot;</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="three_8asy.html#a0793b863a0694b2988852f61b387d14d">  119</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="three_8asy.html#a0793b863a0694b2988852f61b387d14d">defaultembed3Dscript</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="three_8asy.html#ac691e2730a5947d44e408a6e1948223a">  120</a></span>&#160;real <a class="code" href="three_8asy.html#ac691e2730a5947d44e408a6e1948223a">defaulteyetoview</a>=63<a class="code" href="plain__constants_8asy.html#a701f8a001c346353dc90bcae8cdbc2f8">mm</a>/1000<a class="code" href="plain__constants_8asy.html#a701f8a001c346353dc90bcae8cdbc2f8">mm</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="three_8asy.html#a183482bd3a0b727b4339dce71d714959">  122</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="three_8asy.html#a183482bd3a0b727b4339dce71d714959">partname</a>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>, <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#a67199de9ebd4de57b65b1965d77ad31b">partnames</a> ? <a class="code" href="namespacemem.html#a80d69dc16b59f697ff4f74adc111809a">string</a>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1) : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">  127</a></span>&#160;triple <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>=(0,0,0);</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">  128</a></span>&#160;triple <a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>=(1,0,0), <a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>=(0,1,0), <a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>=(0,0,1);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">// A translation in 3D space.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">  131</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][3]=<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][3]=<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][3]=<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">// Avoid two parentheses.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="three_8asy.html#a8afbad5a50ebeb2991b3ab429691df3f">  141</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(real <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, real <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>, real <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>((<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>,<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>));</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="three_8asy.html#a9f8cff209e2e26b7e526b7a98403bf77">  146</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="structevaluatedpoint.html">T</a>=<a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="structevaluatedpoint.html">T</a>[0][3]=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][3];</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="structevaluatedpoint.html">T</a>[1][3]=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][3];</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="structevaluatedpoint.html">T</a>[2][3]=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][3];</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a32c8ff06e7206680a924b3ba4f80b5a2">T</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">// A 3D scaling in the x direction.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="three_8asy.html#ad75c80188a531711e51712cf86c370d7">  156</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad75c80188a531711e51712cf86c370d7">xscale3</a>(real <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][0]=<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">// A 3D scaling in the y direction.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="three_8asy.html#aa962d35788e1d56ea71a63ee469ae0e2">  164</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#aa962d35788e1d56ea71a63ee469ae0e2">yscale3</a>(real <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][1]=<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">// A 3D scaling in the z direction.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="three_8asy.html#a0912952c82882677e2f45ceb808fbf4d">  172</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a0912952c82882677e2f45ceb808fbf4d">zscale3</a>(real <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][2]=<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">// A 3D scaling by s in the v direction.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="three_8asy.html#aa7b19ad43ffd9deb52d9eb4055c651bb">  180</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#aa7b19ad43ffd9deb52d9eb4055c651bb">scale</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, real <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a> -= 1;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> real[][] {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    {1+<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x^2, <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y, <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z, 0},</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      {<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y, 1+<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y^2, <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z, 0},</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        {<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z, <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z, 1+<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z^2, 0},</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;          {0, 0, 0, 1}};</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">// A transformation representing rotation by an angle in degrees about</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">// an axis v through the origin (in the right-handed direction).</span></div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="three_8asy.html#acc66c35faa330cfec81321634c133340">  193</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(real <a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>, triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a> == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) abort(<span class="stringliteral">&quot;cannot rotate about the zero vector&quot;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  real <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>=<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x, <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>=<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y, <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>=<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  real <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=Sin(<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>), <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>=Cos(<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>), <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=1-<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> real[][] {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>^2+<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,   <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>*<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>-<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>, <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>*<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>+<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>, 0},</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      {<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>*<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>+<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>, <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>^2+<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,   <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>*<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>-<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, 0},</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        {<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>*<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>-<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>, <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>*<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>+<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>^2+<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,   0},</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;          {0,         0,         0,         1}};</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">// A transformation representing rotation by an angle in degrees about</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">// the line u--v (in the right-handed direction).</span></div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="three_8asy.html#a0ece4e319766a4a1b972c773f4141ea1">  209</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(real <a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>, triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>, triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;{</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>)*<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>-<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>)*<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(-<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">// Reflects about the plane through u, v, and w.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="three_8asy.html#a234c53f773c9563f1c573961e480053a">  215</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a234c53f773c9563f1c573961e480053a">reflect</a>(triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>, triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, triple w)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  triple <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>-<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,w-<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>));</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    abort(<span class="stringliteral">&quot;points determining reflection plane cannot be colinear&quot;</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> real[][] {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    {1-2*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.x^2, -2*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.x*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.y, -2*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.x*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.z, <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.x},</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      {-2*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.x*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.y, 1-2*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.y^2, -2*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.y*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.z, <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.y},</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        {-2*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.x*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.z, -2*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.y*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.z, 1-2*<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.z^2, <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.z},</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;          {0, 0, 0, 1}</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }*<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(-<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">// Project u onto v.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">  230</a></span>&#160;triple <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>, triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">// Return a unit vector perpendicular to a given unit vector v.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="three_8asy.html#aa8391140ca5c4a284e82dfe80866854b">  237</a></span>&#160;triple <a class="code" href="three_8asy.html#aa8391140ca5c4a284e82dfe80866854b">perp</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  real <a class="code" href="namespacerun.html#a99dbffd093afaa0e3b3c901f991a2112">norm</a>=<a class="code" href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a>*<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>) &gt; <a class="code" href="namespacerun.html#a99dbffd093afaa0e3b3c901f991a2112">norm</a>) <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>) &gt; <a class="code" href="namespacerun.html#a99dbffd093afaa0e3b3c901f991a2112">norm</a>) ? <a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>) : <a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">// Return the transformation corresponding to moving the camera from the target</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">// (looking in the negative z direction) to the point &#39;eye&#39; (looking at target,</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">// orienting the camera so that direction &#39;up&#39; points upwards.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">// Since, in actuality, we are transforming the points instead of the camera,</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// we calculate the inverse matrix.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">// Based on the gluLookAt implementation in the OpenGL manual.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="three_8asy.html#add3ac243d40b0717b0196b13e23ce799">  252</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#add3ac243d40b0717b0196b13e23ce799">look</a>(triple eye, triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>, triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;{</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  triple <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>-eye);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a> == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>=-<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>; <span class="comment">// The eye is already at the origin: look down.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  triple <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// If the eye is pointing either directly up or down, there is no</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// preferred &quot;up&quot; direction.  Pick one arbitrarily.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a> != <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a> ? <a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>) : <a class="code" href="three_8asy.html#aa8391140ca5c4a284e82dfe80866854b">perp</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>={{ <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>.x,  <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>.y,  <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>.z, 0},</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                { <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.x,  <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.y,  <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.z, 0},</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                {-<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.x, -<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.y, -<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.z, 0},</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                {   0,    0,    0, 1}};</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>*<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(-eye);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">// Return a matrix to do perspective distortion based on a triple v.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="three_8asy.html#a679176903329024a179c6c97ac48eae4">  275</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a679176903329024a179c6c97ac48eae4">distort</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;{</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  real d=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">if</span>(d == 0) <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3][2]=-1/d;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3][3]=0;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="three_8asy.html#a099e62b7b7b192d4ff2cacc77195d025">  285</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a099e62b7b7b192d4ff2cacc77195d025">operator * </a>(<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.copy();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.absolute) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.camera=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.camera;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.normal=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*(<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>+<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.normal)-<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.normal=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.vector();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.calculate();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">// With this, save() and restore() in plain also save and restore the</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">// currentprojection.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="three_8asy.html#a2d9fb2c6f554e147a066dfeed2c71a8e">  303</a></span>&#160;<a class="code" href="three_8asy.html#a2d9fb2c6f554e147a066dfeed2c71a8e">addSaveFunction</a>(<span class="keyword">new</span> <a class="code" href="plain_8asy.html#a3e1325cc699bfc596435e05f86a26cc2">restoreThunk</a>() {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>.copy();</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> void() {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    };</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  });</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="three_8asy.html#a65916a952eaaf4aeccd2d3119d71e7ed">  310</a></span>&#160;pair <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.t);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="three_8asy.html#a46228f2561644667d514daf45114eff5">  315</a></span>&#160;pair <a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, triple <a class="code" href="structdir.html">dir</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>+0.5<a class="code" href="structdir.html">dir</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)-<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>-0.5*<a class="code" href="structdir.html">dir</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>));</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">// Uses the homogenous coordinate to perform perspective distortion.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">// When combined with a projection to the XY plane, this effectively maps</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">// points in three space to a plane through target and</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">// perpendicular to the vector camera-target.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="three_8asy.html#a608da67416508f65b940331a4e989fa8">  324</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a608da67416508f65b940331a4e989fa8">perspective</a>(triple <a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>, triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>, triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                       real <a class="code" href="plain__prethree_8asy.html#ac73adbe134768c893cc71f359afe30c8">zoom</a>=1, real <a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>=0, pair <a class="code" href="plain__prethree_8asy.html#a382b0b516d3dab1d4f2f8194a2019b90">viewportshift</a>=0,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                       <span class="keywordtype">bool</span> <a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>=<span class="keyword">true</span>, <span class="keywordtype">bool</span> <a class="code" href="plain__prethree_8asy.html#a24c7b1a6414d3920b271abf925483711">autoadjust</a>=<span class="keyword">true</span>,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                       <span class="keywordtype">bool</span> <a class="code" href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a>=<a class="code" href="plain__prethree_8asy.html#a24c7b1a6414d3920b271abf925483711">autoadjust</a>)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;{</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a> == <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    abort(<span class="stringliteral">&quot;camera cannot be at target&quot;</span>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>(<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>,<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>,<a class="code" href="plain__prethree_8asy.html#ac73adbe134768c893cc71f359afe30c8">zoom</a>,<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>,<a class="code" href="plain__prethree_8asy.html#a382b0b516d3dab1d4f2f8194a2019b90">viewportshift</a>,</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>,<a class="code" href="plain__prethree_8asy.html#a24c7b1a6414d3920b271abf925483711">autoadjust</a>,<a class="code" href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a>,</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    <span class="keyword">new</span> <a class="code" href="structtransformation.html">transformation</a>(triple <a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>, triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>, triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    {<span class="keywordflow">return</span> <a class="code" href="structtransformation.html">transformation</a>(<a class="code" href="three_8asy.html#add3ac243d40b0717b0196b13e23ce799">look</a>(<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>,<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>),</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                           <a class="code" href="three_8asy.html#a679176903329024a179c6c97ac48eae4">distort</a>(<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>-<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>));});</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="three_8asy.html#ab36a3a14cd4bf5585c763d45fd637141">  338</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a608da67416508f65b940331a4e989fa8">perspective</a>(real <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, real <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>, real <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>, triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>, triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                       real <a class="code" href="plain__prethree_8asy.html#ac73adbe134768c893cc71f359afe30c8">zoom</a>=1, real <a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>=0, pair <a class="code" href="plain__prethree_8asy.html#a382b0b516d3dab1d4f2f8194a2019b90">viewportshift</a>=0,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                       <span class="keywordtype">bool</span> <a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>=<span class="keyword">true</span>, <span class="keywordtype">bool</span> <a class="code" href="plain__prethree_8asy.html#a24c7b1a6414d3920b271abf925483711">autoadjust</a>=<span class="keyword">true</span>,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                       <span class="keywordtype">bool</span> <a class="code" href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a>=<a class="code" href="plain__prethree_8asy.html#a24c7b1a6414d3920b271abf925483711">autoadjust</a>)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a608da67416508f65b940331a4e989fa8">perspective</a>((<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>,<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>),<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>,<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>,<a class="code" href="plain__prethree_8asy.html#ac73adbe134768c893cc71f359afe30c8">zoom</a>,<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>,<a class="code" href="plain__prethree_8asy.html#a382b0b516d3dab1d4f2f8194a2019b90">viewportshift</a>,<a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>,</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                     <a class="code" href="plain__prethree_8asy.html#a24c7b1a6414d3920b271abf925483711">autoadjust</a>,<a class="code" href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">  347</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>(triple <a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>, triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>, triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                        real <a class="code" href="plain__prethree_8asy.html#ac73adbe134768c893cc71f359afe30c8">zoom</a>=1, pair <a class="code" href="plain__prethree_8asy.html#a382b0b516d3dab1d4f2f8194a2019b90">viewportshift</a>=0,</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                        <span class="keywordtype">bool</span> <a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>=<span class="keyword">true</span>, <span class="keywordtype">bool</span> <a class="code" href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a>=<span class="keyword">true</span>)</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>(<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>,<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>,<a class="code" href="plain__prethree_8asy.html#ac73adbe134768c893cc71f359afe30c8">zoom</a>,<a class="code" href="plain__prethree_8asy.html#a382b0b516d3dab1d4f2f8194a2019b90">viewportshift</a>,<a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    <a class="code" href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a>=<a class="code" href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a>,<span class="keyword">new</span> <a class="code" href="structtransformation.html">transformation</a>(triple <a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>, triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                                     triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                      <span class="keywordflow">return</span> <a class="code" href="structtransformation.html">transformation</a>(<a class="code" href="three_8asy.html#add3ac243d40b0717b0196b13e23ce799">look</a>(<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>,<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>));});</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="three_8asy.html#a4d261531cde90dd3d27986323cc4b9f4">  357</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>(real <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, real <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>, real <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>, triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>, real <a class="code" href="plain__prethree_8asy.html#ac73adbe134768c893cc71f359afe30c8">zoom</a>=1, pair <a class="code" href="plain__prethree_8asy.html#a382b0b516d3dab1d4f2f8194a2019b90">viewportshift</a>=0,</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                        <span class="keywordtype">bool</span> <a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>=<span class="keyword">true</span>, <span class="keywordtype">bool</span> <a class="code" href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a>=<span class="keyword">true</span>)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>((<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>,<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>),<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>,<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>,<a class="code" href="plain__prethree_8asy.html#ac73adbe134768c893cc71f359afe30c8">zoom</a>,<a class="code" href="plain__prethree_8asy.html#a382b0b516d3dab1d4f2f8194a2019b90">viewportshift</a>,<a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>,</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                      <a class="code" href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a>=<a class="code" href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">// Compute camera position with x axis below the horizontal at angle alpha,</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">// y axis below the horizontal at angle beta, and z axis up.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="three_8asy.html#ae61ba5e95b791bdf6d1ce6644ac97d2e">  367</a></span>&#160;triple <a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>(real <a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>, real <a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  real denom=<a class="code" href="texcolors_8asy.html#a8a9b0f63c23fd243b7e6baadcf0478b2">Tan</a>(<a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>+<a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  real Tanalpha=<a class="code" href="texcolors_8asy.html#a8a9b0f63c23fd243b7e6baadcf0478b2">Tan</a>(<a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  real Tanbeta=<a class="code" href="texcolors_8asy.html#a8a9b0f63c23fd243b7e6baadcf0478b2">Tan</a>(<a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">return</span> (sqrt(Tanalpha/denom),sqrt(Tanbeta/denom),sqrt(Tanalpha*Tanbeta));</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="three_8asy.html#a6936846cd33a964457792f5fdfa23c8a">  375</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a53f3ce9ff3df616eb44a3cd60e40e0b4">oblique</a>(real <a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>=45)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  real c2=Cos(<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>)^2;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  real s2=1-c2;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][2]=-c2;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][2]=-s2;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][2]=1;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][3]=-1;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>((c2,s2,1),<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=(0,0,1),</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    <span class="keyword">new</span> <a class="code" href="structtransformation.html">transformation</a>(triple,triple,triple) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                      <span class="keywordflow">return</span> <a class="code" href="structtransformation.html">transformation</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);});</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="three_8asy.html#acd7383a91643592c6956981cfe235b6e">  389</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ab243779d5c184c0e38d585bc27ea7a51">obliqueZ</a>(real <a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>=45) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a53f3ce9ff3df616eb44a3cd60e40e0b4">oblique</a>(<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>);}</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="three_8asy.html#a9d9c8519029c654341fc904c572f7e49">  391</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a7ab7d27df9eba0b3744763e1b779fbd5">obliqueX</a>(real <a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>=45)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  real c2=Cos(<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>)^2;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  real s2=1-c2;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][0]=-c2;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][0]=-s2;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][1]=0;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][1]=1;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][2]=1;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][2]=0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][0]=1;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][3]=-1;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>((1,c2,s2),<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=(1,0,0),</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    <span class="keyword">new</span> <a class="code" href="structtransformation.html">transformation</a>(triple,triple,triple) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                      <span class="keywordflow">return</span> <a class="code" href="structtransformation.html">transformation</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);});</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="three_8asy.html#a1adb0016fc989c271fed918d2b2bb9d0">  409</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a2e187de1e29110652cd7a9bdc4745acb">obliqueY</a>(real <a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>=45)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  real c2=Cos(<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>)^2;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  real s2=1-c2;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][1]=c2;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][1]=s2;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][2]=1;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][1]=-1;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][2]=0;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][3]=-1;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>((c2,-1,s2),<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=(0,-1,0),</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                    <span class="keyword">new</span> <a class="code" href="structtransformation.html">transformation</a>(triple,triple,triple) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                      <span class="keywordflow">return</span> <a class="code" href="structtransformation.html">transformation</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);});</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="three_8asy.html#a53f3ce9ff3df616eb44a3cd60e40e0b4">  425</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a53f3ce9ff3df616eb44a3cd60e40e0b4">oblique</a>=<a class="code" href="three_8asy.html#a53f3ce9ff3df616eb44a3cd60e40e0b4">oblique</a>();</div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="three_8asy.html#a7ab7d27df9eba0b3744763e1b779fbd5">  426</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a7ab7d27df9eba0b3744763e1b779fbd5">obliqueX</a>=<a class="code" href="three_8asy.html#a7ab7d27df9eba0b3744763e1b779fbd5">obliqueX</a>(), <a class="code" href="three_8asy.html#a2e187de1e29110652cd7a9bdc4745acb">obliqueY</a>=<a class="code" href="three_8asy.html#a2e187de1e29110652cd7a9bdc4745acb">obliqueY</a>(), <a class="code" href="three_8asy.html#ab243779d5c184c0e38d585bc27ea7a51">obliqueZ</a>=<a class="code" href="three_8asy.html#ab243779d5c184c0e38d585bc27ea7a51">obliqueZ</a>();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="three_8asy.html#a91e87defe143ed1fcddb707c568d0c53">  428</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a91e87defe143ed1fcddb707c568d0c53">LeftView</a>=<a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>(-<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>,<a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>=<span class="keyword">true</span>);</div>
<div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="three_8asy.html#af5b892ba4c2317293012f1691c11f808">  429</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#af5b892ba4c2317293012f1691c11f808">RightView</a>=<a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>(<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>,<a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>=<span class="keyword">true</span>);</div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="three_8asy.html#a04dd3c759085ab55136c0af8e6bad847">  430</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a04dd3c759085ab55136c0af8e6bad847">FrontView</a>=<a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>(-<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>=<span class="keyword">true</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="three_8asy.html#acdafb953bb894cd5384929f89b576bb2">  431</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#acdafb953bb894cd5384929f89b576bb2">BackView</a>=<a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>(<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>=<span class="keyword">true</span>);</div>
<div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="three_8asy.html#a090b38e905a42d66877194e8ea0657ff">  432</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a090b38e905a42d66877194e8ea0657ff">BottomView</a>=<a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>(-<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=-<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>=<span class="keyword">true</span>);</div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="three_8asy.html#aad9dbc63807ae89447641c1b757b08ff">  433</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#aad9dbc63807ae89447641c1b757b08ff">TopView</a>=<a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>(<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a>=<span class="keyword">true</span>);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">  435</a></span>&#160;<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>=<a class="code" href="three_8asy.html#a608da67416508f65b940331a4e989fa8">perspective</a>(5,4,2);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">  437</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>()</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  real[] <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>=_projection();</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>.length == 0 || <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[10] == 0.0) <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>=0;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[0] == 1 ?</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>((<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]),(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]),</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                 (<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]),<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a> += 2],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>])) :</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="three_8asy.html#a608da67416508f65b940331a4e989fa8">perspective</a>((<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]),(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]),</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                (<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]),<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]));</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">// Map pair z to a triple by inverting the projection P onto the</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">// plane perpendicular to normal and passing through point.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">  452</a></span>&#160;triple <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(pair <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>, triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>, triple <a class="code" href="structpoint.html">point</a>,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;              <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;{</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.t;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  real[][] <a class="code" href="geometry_8asy.html#acbd6122136afa26d486b9e9b39d079bb">A</a>={{<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][0]-<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.x*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3][0],<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][1]-<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.x*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3][1],<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][2]-<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.x*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3][2]},</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;              {<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][0]-<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.y*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3][0],<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][1]-<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.y*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3][1],<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][2]-<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.y*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3][2]},</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;              {<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>.x,<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>.y,<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>.z}};</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  real[] <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>={<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.x*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3][3]-<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][3],<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.y*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3][3]-<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][3],<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>,<a class="code" href="structpoint.html">point</a>)};</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  real[] <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>=<a class="code" href="three_8asy.html#a2d278ba4d3deaf95bb43407b62a65cf6">solve</a>(<a class="code" href="geometry_8asy.html#acbd6122136afa26d486b9e9b39d079bb">A</a>,<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,<a class="code" href="namespacesettings.html#a50ef98223a134d912af153f046a4dc92">warn</a>=<span class="keyword">false</span>);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.length &gt; 0 ? (<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>[0],<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>[1],<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>[2]) : <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.camera;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">// Map pair to a triple on the projection plane.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="three_8asy.html#a8dbc1a58ae68856772909b83da4e56e1">  465</a></span>&#160;triple <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(pair <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;{</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.normal,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">// Map pair dir to a triple direction at point v on the projection plane.</span></div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="three_8asy.html#a8d5814ed9a44531b808bd163606764b6">  471</a></span>&#160;triple <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(pair <a class="code" href="structdir.html">dir</a>, triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)+<a class="code" href="structdir.html">dir</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.normal,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="three_8asy.html#a640339e027bb365c02f39859f3e3cb16">  476</a></span>&#160;pair <a class="code" href="three_8asy.html#a640339e027bb365c02f39859f3e3cb16">xypart</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;{</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="structcontrol.html">  481</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcontrol.html">control</a> {</div>
<div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="structcontrol.html#a7be9f124f4b991427f35efd2f5c939a1">  482</a></span>&#160;  triple <a class="code" href="structcontrol.html#a7be9f124f4b991427f35efd2f5c939a1">post</a>,<a class="code" href="structcontrol.html#a825377c3fc7439e157fdd132c3a3cc46">pre</a>;</div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="structcontrol.html#a8fca8b52e7f818da5a8d4d65d1ab71a9">  483</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structcontrol.html#a8fca8b52e7f818da5a8d4d65d1ab71a9">active</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="structcontrol.html#a00b652361564f4b5610e07c555f079ee">  484</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structcontrol.html#a00b652361564f4b5610e07c555f079ee">straight</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="structcontrol.html#ad551ec86b1f7d508b398660e7fab6e0d">  485</a></span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>(triple <a class="code" href="structcontrol.html#a7be9f124f4b991427f35efd2f5c939a1">post</a>, triple <a class="code" href="structcontrol.html#a825377c3fc7439e157fdd132c3a3cc46">pre</a>, <span class="keywordtype">bool</span> <a class="code" href="structcontrol.html#a00b652361564f4b5610e07c555f079ee">straight</a>=<span class="keyword">false</span>) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    this.post=<a class="code" href="structcontrol.html#a7be9f124f4b991427f35efd2f5c939a1">post</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    this.pre=<a class="code" href="structcontrol.html#a825377c3fc7439e157fdd132c3a3cc46">pre</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="structcontrol.html#a8fca8b52e7f818da5a8d4d65d1ab71a9">active</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    this.straight=<a class="code" href="structcontrol.html#a00b652361564f4b5610e07c555f079ee">straight</a>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="three_8asy.html#a78d67b94700bbe5a6eada331dac49cb1">  493</a></span>&#160;<a class="code" href="structcontrol.html">control</a> <a class="code" href="three_8asy.html#a78d67b94700bbe5a6eada331dac49cb1">nocontrol</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="three_8asy.html#a912c2b2863a019b28d0b901b21bdb0c0">  495</a></span>&#160;<a class="code" href="structcontrol.html">control</a> <a class="code" href="three_8asy.html#a099e62b7b7b192d4ff2cacc77195d025">operator * </a>(<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, <a class="code" href="structcontrol.html">control</a> c)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <a class="code" href="structcontrol.html">control</a> <a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>.post=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.post;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>.pre=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.pre;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>.active=<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.active;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>.straight=<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.straight;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;}</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">  505</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a> <a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>, <a class="code" href="structcontrol.html">control</a> c)</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;{</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;.. controls &quot;</span>);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.post);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot; and &quot;</span>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.pre);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="structTension.html">  513</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structTension.html">Tension</a> {</div>
<div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="structTension.html#a0e6d2107875724a96b0c15890cb06625">  514</a></span>&#160;  real <a class="code" href="structTension.html#ae7765a90aa3b213428418e8a503d5ed1">out</a>,<a class="code" href="structTension.html#a0e6d2107875724a96b0c15890cb06625">in</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="structTension.html#ae05e5fccb06e8851bc24f77b883a0f08">  515</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structTension.html#ae05e5fccb06e8851bc24f77b883a0f08">atLeast</a>;</div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="structTension.html#a39cc749cf80094cc729450489a33a687">  516</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structTension.html#a39cc749cf80094cc729450489a33a687">active</a>;</div>
<div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="structTension.html#a643335cd121fa382645e7c944af3661a">  517</a></span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>(real <a class="code" href="structTension.html#ae7765a90aa3b213428418e8a503d5ed1">out</a>=1, real <a class="code" href="structTension.html#a0e6d2107875724a96b0c15890cb06625">in</a>=1, <span class="keywordtype">bool</span> <a class="code" href="structTension.html#ae05e5fccb06e8851bc24f77b883a0f08">atLeast</a>=<span class="keyword">false</span>,</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                     <span class="keywordtype">bool</span> <a class="code" href="structTension.html#a39cc749cf80094cc729450489a33a687">active</a>=<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    real check(real <a class="code" href="contour3_8asy.html#a65cb3f1ac9a58ad373c5c647d974d64e">val</a>) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="contour3_8asy.html#a65cb3f1ac9a58ad373c5c647d974d64e">val</a> &lt; 0.75) abort(<span class="stringliteral">&quot;tension cannot be less than 3/4&quot;</span>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="contour3_8asy.html#a65cb3f1ac9a58ad373c5c647d974d64e">val</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    this.out=check(<a class="code" href="structTension.html#ae7765a90aa3b213428418e8a503d5ed1">out</a>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    this.in=check(<a class="code" href="structTension.html#a0e6d2107875724a96b0c15890cb06625">in</a>);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    this.atLeast=<a class="code" href="structTension.html#ae05e5fccb06e8851bc24f77b883a0f08">atLeast</a>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    this.active=<a class="code" href="structTension.html#a39cc749cf80094cc729450489a33a687">active</a>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<a class="code" href="structTension.html">Tension</a> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>()</div>
<div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">  531</a></span>&#160;{</div>
<div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="three_8asy.html#a4156cfe0300377e9610f8631051c7e60">  532</a></span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a0e9f565c561ad6641ef71fdc4254f32d">Tension</a>();</div>
<div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="three_8asy.html#a13487881565a37773afa22d8f0f058d5">  533</a></span>&#160;}</div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="three_8asy.html#af359a1c0f523ae23f675a8943b299a62">  534</a></span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="three_8asy.html#ab777a134f994f499210b0c3017513ae9">  535</a></span>&#160;<a class="code" href="structTension.html">Tension</a> <a class="code" href="three_8asy.html#ab777a134f994f499210b0c3017513ae9">noTension</a>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<a class="code" href="three_8asy.html#ab777a134f994f499210b0c3017513ae9">noTension</a>.<a class="code" href="structTension.html#a39cc749cf80094cc729450489a33a687">active</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="three_8asy.html#acb4649ddea79aaa7ea3a1e129580a81c">  538</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a> <a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>, <a class="code" href="structTension.html">Tension</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;{</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;..tension &quot;</span>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>.atLeast) <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;atleast &quot;</span>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>.out);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot; and &quot;</span>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>.in);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="structdir.html">  547</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdir.html">dir</a> {</div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="structdir.html#abe05132bb579c96fe12d0d8757a37526">  548</a></span>&#160;  triple <a class="code" href="structdir.html#abe05132bb579c96fe12d0d8757a37526">dir</a>;</div>
<div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="structdir.html#a5e44cc87eaa306a1696a75d43d95ab6a">  549</a></span>&#160;  real <a class="code" href="structdir.html#a5e44cc87eaa306a1696a75d43d95ab6a">gamma</a>=1; <span class="comment">// endpoint curl</span></div>
<div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="structdir.html#a90a7b6b82b0605f11640ded0a88b3b88">  550</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structdir.html#a90a7b6b82b0605f11640ded0a88b3b88">Curl</a>;    <span class="comment">// curl specified</span></div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="structdir.html#ae673b8a90a96f2be1240b5a941cded47">  551</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structdir.html#ae673b8a90a96f2be1240b5a941cded47">active</a>() {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structdir.html">dir</a> != <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a> || <a class="code" href="structdir.html#a90a7b6b82b0605f11640ded0a88b3b88">Curl</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  }</div>
<div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="structdir.html#a68115fd3b9d1c256ddaa5370f6bc9845">  554</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdir.html#a68115fd3b9d1c256ddaa5370f6bc9845">init</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    this.dir=<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  }</div>
<div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="structdir.html#af2cf0d2d0c265b8cf336e8c26037b1b9">  557</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdir.html#af2cf0d2d0c265b8cf336e8c26037b1b9">init</a>(real <a class="code" href="structdir.html#a5e44cc87eaa306a1696a75d43d95ab6a">gamma</a>) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structdir.html#a5e44cc87eaa306a1696a75d43d95ab6a">gamma</a> &lt; 0) abort(<span class="stringliteral">&quot;curl cannot be less than 0&quot;</span>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    this.gamma=<a class="code" href="structdir.html#a5e44cc87eaa306a1696a75d43d95ab6a">gamma</a>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    this.Curl=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  }</div>
<div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="structdir.html#a8dd32a6728f1490b3a2f7701a908337c">  562</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdir.html#a8dd32a6728f1490b3a2f7701a908337c">init</a>(<a class="code" href="structdir.html">dir</a> d) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="structdir.html">dir</a>=d.<a class="code" href="structdir.html#abe05132bb579c96fe12d0d8757a37526">dir</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="structdir.html#a5e44cc87eaa306a1696a75d43d95ab6a">gamma</a>=d.<a class="code" href="structdir.html#a5e44cc87eaa306a1696a75d43d95ab6a">gamma</a>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="structdir.html#a90a7b6b82b0605f11640ded0a88b3b88">Curl</a>=d.<a class="code" href="structdir.html#a90a7b6b82b0605f11640ded0a88b3b88">Curl</a>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  }</div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="structdir.html#a394be0f147d56eaa5308a431db508977">  567</a></span>&#160;  <span class="keywordtype">void</span> <span class="keywordflow">default</span>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="structdir.html#ae673b8a90a96f2be1240b5a941cded47">active</a>()) <a class="code" href="structdir.html#a68115fd3b9d1c256ddaa5370f6bc9845">init</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  }</div>
<div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="structdir.html#a8a2fb268099a6d8dd94a7592874dbf76">  570</a></span>&#160;  <span class="keywordtype">void</span> <span class="keywordflow">default</span>(<a class="code" href="structdir.html">dir</a> d) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="structdir.html#ae673b8a90a96f2be1240b5a941cded47">active</a>()) <a class="code" href="structdir.html#a68115fd3b9d1c256ddaa5370f6bc9845">init</a>(d);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div>
<div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="structdir.html#a2b2ece9d30ec0c13f9ebfd7a02b3e288">  573</a></span>&#160;  <a class="code" href="structdir.html">dir</a> <a class="code" href="structdir.html#a2b2ece9d30ec0c13f9ebfd7a02b3e288">copy</a>() {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="structdir.html">dir</a> d=<span class="keyword">new</span> <a class="code" href="structdir.html#abe05132bb579c96fe12d0d8757a37526">dir</a>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    d.<a class="code" href="structdir.html#a68115fd3b9d1c256ddaa5370f6bc9845">init</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">return</span> d;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a> <a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>, <a class="code" href="structdir.html">dir</a> d)</div>
<div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">  581</a></span>&#160;{</div>
<div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="three_8asy.html#a3abd8e7267de24b912bbcfc3e796edb9">  582</a></span>&#160;  <span class="keywordflow">if</span>(d.<a class="code" href="structdir.html#abe05132bb579c96fe12d0d8757a37526">dir</a> != <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) {</div>
<div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="three_8asy.html#ad0d0db5661e5fcf8200a60b729edf44f">  583</a></span>&#160;    <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;{&quot;</span>); <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(d.<a class="code" href="structdir.html#abe05132bb579c96fe12d0d8757a37526">dir</a>)); <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(d.<a class="code" href="structdir.html#a90a7b6b82b0605f11640ded0a88b3b88">Curl</a>) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;{curl &quot;</span>); <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,d.<a class="code" href="structdir.html#a5e44cc87eaa306a1696a75d43d95ab6a">gamma</a>); <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  }</div>
<div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="three_8asy.html#ac6377edc985886e8714e157e3625f9e6">  587</a></span>&#160;}</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="three_8asy.html#a33881f1567928d20e4a2db82ba4cebe7">  589</a></span>&#160;<a class="code" href="structdir.html">dir</a> <a class="code" href="three_8asy.html#a099e62b7b7b192d4ff2cacc77195d025">operator * </a>(<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, <a class="code" href="structdir.html">dir</a> d)</div>
<div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="three_8asy.html#a1323b0925025c7c44e65eccf517771d4">  590</a></span>&#160;{</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="structdir.html">dir</a> <a class="code" href="geometry_8asy.html#a5e0608bee06090712681b5b1ad6ae040">D</a>=d.<a class="code" href="structdir.html#a2b2ece9d30ec0c13f9ebfd7a02b3e288">copy</a>();</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <a class="code" href="geometry_8asy.html#a5e0608bee06090712681b5b1ad6ae040">D</a>.<a class="code" href="structline.html#a4b7ef2c5a3a6b1f30ba3a06db5c8e2fd">init</a>(<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="plain__prethree_8asy.html#a7c6c921e205569b3a459069750b5d5f2">shiftless</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)*d.<a class="code" href="structdir.html#abe05132bb579c96fe12d0d8757a37526">dir</a>));</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a5e0608bee06090712681b5b1ad6ae040">D</a>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="three_8asy.html#a5fe1f513ab181cdc3b982b796d1affaa">  595</a></span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">  596</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">checkEmpty</a>(<span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> == 0)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    abort(<span class="stringliteral">&quot;nullpath3 has no points&quot;</span>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;}</div>
<div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="three_8asy.html#a21d009ea5eaf7c307c46afb31f1f4805">  600</a></span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="three_8asy.html#af65bbba9f42cea8e903a1e504700fe04">  601</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="three_8asy.html#af65bbba9f42cea8e903a1e504700fe04">adjustedIndex</a>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>, <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>, <span class="keywordtype">bool</span> cycles)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;{</div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="three_8asy.html#a543788dc2215b9d89581bf66ea736ba4">  603</a></span>&#160;  <a class="code" href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">checkEmpty</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">if</span>(cycles)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> % <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;</div>
<div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="three_8asy.html#acfed03444f0149a1c833c006d6d9991a">  606</a></span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; 0)</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &gt;= <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="structflatguide3.html">  614</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structflatguide3.html">flatguide3</a> {</div>
<div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="structflatguide3.html#a18f91385defcb01e91d81fcccf791229">  615</a></span>&#160;  triple[] <a class="code" href="structflatguide3.html#a18f91385defcb01e91d81fcccf791229">nodes</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="structflatguide3.html#a7a6ab1d572d2817b5af68ef698e5463b">  616</a></span>&#160;  <span class="keywordtype">bool</span>[] <a class="code" href="structflatguide3.html#a7a6ab1d572d2817b5af68ef698e5463b">cyclic</a>;     <span class="comment">// true if node is really a cycle</span></div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="structflatguide3.html#a0384d17a988470ada821df7146d0fe78">  617</a></span>&#160;  <a class="code" href="structcontrol.html">control</a>[] <a class="code" href="structflatguide3.html#a0384d17a988470ada821df7146d0fe78">control</a>; <span class="comment">// control points for segment starting at node</span></div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="structflatguide3.html#af61c1a3547574390a0e9835837867aca">  618</a></span>&#160;  <a class="code" href="structTension.html">Tension</a>[] <a class="code" href="structflatguide3.html#af61c1a3547574390a0e9835837867aca">Tension</a>; <span class="comment">// Tension parameters for segment starting at node</span></div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">  619</a></span>&#160;  <a class="code" href="structdir.html">dir</a>[] <a class="code" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">in</a>,<a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>;      <span class="comment">// in and out directions for segment starting at node</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="structflatguide3.html#a25af5058dad32afc853a7386dd319988">  621</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structflatguide3.html#a25af5058dad32afc853a7386dd319988">cyclic</a>() {<span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="structflatguide3.html#a7a6ab1d572d2817b5af68ef698e5463b">cyclic</a>.length; <span class="keywordflow">return</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &gt; 0 ? <a class="code" href="structflatguide3.html#a7a6ab1d572d2817b5af68ef698e5463b">cyclic</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1] : <span class="keyword">false</span>;}</div>
<div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="structflatguide3.html#a2505cd3696b406221886a0e673aff90e">  622</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structflatguide3.html#a2505cd3696b406221886a0e673aff90e">precyclic</a>() {<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=find(<a class="code" href="structflatguide3.html#a7a6ab1d572d2817b5af68ef698e5463b">cyclic</a>); <span class="keywordflow">return</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &gt;= 0 &amp;&amp; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="structflatguide3.html#a7a6ab1d572d2817b5af68ef698e5463b">cyclic</a>.length-1;}</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="structflatguide3.html#a6517c4ba78c61107bfbcde0fac81a65d">  624</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="structflatguide3.html#a6517c4ba78c61107bfbcde0fac81a65d">size</a>() {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structflatguide3.html#a7a6ab1d572d2817b5af68ef698e5463b">cyclic</a>() ? <a class="code" href="structflatguide3.html#a18f91385defcb01e91d81fcccf791229">nodes</a>.length-1 : <a class="code" href="structflatguide3.html#a18f91385defcb01e91d81fcccf791229">nodes</a>.length;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="structflatguide3.html#a4d43211e91c0ca54cae8a5fb7918603e">  628</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structflatguide3.html#a4d43211e91c0ca54cae8a5fb7918603e">node</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, <span class="keywordtype">bool</span> b=<span class="keyword">false</span>) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="structflatguide3.html#a18f91385defcb01e91d81fcccf791229">nodes</a>.push(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="structcontrol.html">control</a>.push(<a class="code" href="three_8asy.html#a78d67b94700bbe5a6eada331dac49cb1">nocontrol</a>);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="structTension.html">Tension</a>.push(<a class="code" href="three_8asy.html#ab777a134f994f499210b0c3017513ae9">noTension</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">in</a>.push(<span class="keyword">new</span> <a class="code" href="structdir.html">dir</a>);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>.push(<span class="keyword">new</span> <a class="code" href="structdir.html">dir</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="structflatguide3.html#a7a6ab1d572d2817b5af68ef698e5463b">cyclic</a>.push(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="structflatguide3.html#aa4938a08856f5b5de7c95feafa69b6af">  637</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structflatguide3.html#aa4938a08856f5b5de7c95feafa69b6af">control</a>(triple post, triple pre) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structcontrol.html">control</a>.length &gt; 0) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <a class="code" href="structcontrol.html">control</a> <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>=<a class="code" href="structflatguide3.html#a0384d17a988470ada821df7146d0fe78">control</a>(post,pre,<span class="keyword">false</span>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <a class="code" href="structcontrol.html">control</a>[<a class="code" href="structcontrol.html">control</a>.length-1]=<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="structflatguide3.html#ada186800710b3b2ff51aef2140aec1fb">  644</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structflatguide3.html#ada186800710b3b2ff51aef2140aec1fb">Tension</a>(real <a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>, real <a class="code" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">in</a>, <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#a4156cfe0300377e9610f8631051c7e60">atLeast</a>) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structTension.html">Tension</a>.length &gt; 0)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <a class="code" href="structTension.html">Tension</a>[<a class="code" href="structTension.html">Tension</a>.length-1]=<a class="code" href="structflatguide3.html#af61c1a3547574390a0e9835837867aca">Tension</a>(<a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>,<a class="code" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">in</a>,<a class="code" href="three_8asy.html#a4156cfe0300377e9610f8631051c7e60">atLeast</a>,<span class="keyword">true</span>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno"><a class="line" href="structflatguide3.html#abdee3c8459d6f31c376ad2bab0f6fd7e">  649</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structflatguide3.html#abdee3c8459d6f31c376ad2bab0f6fd7e">in</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">in</a>.length &gt; 0) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <a class="code" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">in</a>[<a class="code" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">in</a>.length-1].<a class="code" href="structdir.html#a68115fd3b9d1c256ddaa5370f6bc9845">init</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="structflatguide3.html#a044bd7329b3b6a58894af7caf1bade93">  655</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structflatguide3.html#a044bd7329b3b6a58894af7caf1bade93">out</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>.length &gt; 0) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>[<a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>.length-1].<a class="code" href="structdir.html#a68115fd3b9d1c256ddaa5370f6bc9845">init</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="structflatguide3.html#ac430fbe70e9c1aab40f2b67afc73ba71">  661</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structflatguide3.html#ac430fbe70e9c1aab40f2b67afc73ba71">in</a>(real <a class="code" href="three_8asy.html#a3abd8e7267de24b912bbcfc3e796edb9">gamma</a>) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">in</a>.length &gt; 0) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <a class="code" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">in</a>[<a class="code" href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">in</a>.length-1].<a class="code" href="structdir.html#a68115fd3b9d1c256ddaa5370f6bc9845">init</a>(<a class="code" href="three_8asy.html#a3abd8e7267de24b912bbcfc3e796edb9">gamma</a>);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="structflatguide3.html#a0f880e6b4b71335f32d0adbb81531fdb">  667</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structflatguide3.html#a0f880e6b4b71335f32d0adbb81531fdb">out</a>(real <a class="code" href="three_8asy.html#a3abd8e7267de24b912bbcfc3e796edb9">gamma</a>) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>.length &gt; 0) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>[<a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>.length-1].<a class="code" href="structdir.html#a68115fd3b9d1c256ddaa5370f6bc9845">init</a>(<a class="code" href="three_8asy.html#a3abd8e7267de24b912bbcfc3e796edb9">gamma</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="structflatguide3.html#a83ca1b801cef17315f3ead1d835df5fd">  673</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structflatguide3.html#a83ca1b801cef17315f3ead1d835df5fd">cycleToken</a>() {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structflatguide3.html#a18f91385defcb01e91d81fcccf791229">nodes</a>.length &gt; 0)</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="structflatguide3.html#a4d43211e91c0ca54cae8a5fb7918603e">node</a>(<a class="code" href="structflatguide3.html#a18f91385defcb01e91d81fcccf791229">nodes</a>[0],<span class="keyword">true</span>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// Return true if outgoing direction at node i is known.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno"><a class="line" href="structflatguide3.html#a33ce2b105988a7e96227d2d7ebc805f7">  679</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structflatguide3.html#a33ce2b105988a7e96227d2d7ebc805f7">solved</a>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">out</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].<a class="code" href="structdir.html#ae673b8a90a96f2be1240b5a941cded47">active</a>() || <a class="code" href="structcontrol.html">control</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].<a class="code" href="structcontrol.html#a8fca8b52e7f818da5a8d4d65d1ab71a9">active</a>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a> <a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>, <span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">explicit</span> <a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a> <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>=<a class="code" href="plain__constants_8asy.html#accfdb9ff8fb800028125d5906f48975a">none</a>)</div>
<div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="three_8asy.html#a78be86582bbbb0194aee5a0277688f4b">  685</a></span>&#160;{</div>
<div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">  686</a></span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>);</div>
<div class="line"><a name="l00687"></a><span class="lineno"><a class="line" href="three_8asy.html#a274a3975356c248309caefbf77b4953e">  687</a></span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.size() == 0) <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;&lt;nullpath3&gt;&quot;</span>);</div>
<div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="three_8asy.html#a0e9f565c561ad6641ef71fdc4254f32d">  688</a></span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.nodes.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &gt; 0) <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="plain__constants_8asy.html#a5dff8b242bdd7e6e908cecaca3e6040b">endl</a>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.cyclic[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]) <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;cycle&quot;</span>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">else</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l00692"></a><span class="lineno"><a class="line" href="three_8asy.html#a14c35c50cfdc4be6834c2f0040080703">  692</a></span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.nodes.length-1) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="comment">// Explicit control points trump other specifiers</span></div>
<div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="three_8asy.html#a1e85b1619007224764c10dce3b590fe6">  694</a></span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].active)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;          <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="three_8asy.html#a88f7df10b2ffc845437e720ff5661c98">  698</a></span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.Tension[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].active) <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.Tension[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;..&quot;</span>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].active) <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno"><a class="line" href="three_8asy.html#a9526cc5bd99f0337359b25ebffbcdaa8">  707</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a> <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>=<a class="code" href="plain__constants_8asy.html#a5dff8b242bdd7e6e908cecaca3e6040b">endl</a>)</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;{</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__constants_8asy.html#a1755e659ef445c5b71f2cb2b8721cd5b">stdout</a>,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">// A guide3 is most easily represented as something that modifies a flatguide3.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">  713</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>(<a class="code" href="structflatguide3.html">flatguide3</a>);</div>
<div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="three_8asy.html#a871f037c8bfd0c7e915e5aea46fef937">  714</a></span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="three_8asy.html#a75d2f2705b4385496c485a426f00e951">  715</a></span>&#160;restricted <span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a75d2f2705b4385496c485a426f00e951">nullpath3</a>(<a class="code" href="structflatguide3.html">flatguide3</a>) {};</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno"><a class="line" href="three_8asy.html#af05067699ae5e6d75bcb674d1c092ea9">  717</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>() {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a75d2f2705b4385496c485a426f00e951">nullpath3</a>;}</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="three_8asy.html#ad665bbf31f747f96b2ae63c892199a4c">  719</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;{</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> void(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.node(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  };</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;}</div>
<div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="three_8asy.html#afda89b71ac28ac31d7d371140ccdd8b2">  725</a></span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno"><a class="line" href="three_8asy.html#a75b68e450a81226435d5f341dc85af18">  726</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#aa3af8e82ca47a26dec6d81832c8902a9">cycleToken</a>) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> void(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.cycleToken();</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  };</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div>
<div class="line"><a name="l00731"></a><span class="lineno"><a class="line" href="three_8asy.html#a990136ba0f8340803938386829c6a9b9">  731</a></span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="three_8asy.html#a3226559cda0aceac4ba85f7aec86c0b6">  732</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <span class="keyword">operator</span> controls(triple post, triple pre)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;{</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> void(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.control(post,pre);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  };</div>
<div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="three_8asy.html#afb4fe91601ce2e3fb1a52a0f4a4ad315">  737</a></span>&#160;};</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="three_8asy.html#a8113bd0345ca657066bff4fb7c282ae5">  739</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <span class="keyword">operator</span> controls(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;{</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">operator</span> controls(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div>
<div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="three_8asy.html#aa3af8e82ca47a26dec6d81832c8902a9">  743</a></span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="three_8asy.html#a4205de1033742aec893de17ad9f70664">  744</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#aae99a6a52376fb310d8476caec7adac7">tensionSpecifier</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;{</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> void(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.Tension(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>.out, <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>.in, <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>.atLeast);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  };</div>
<div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="three_8asy.html#ac059d5e56a8a8d7e6726777f620be347">  749</a></span>&#160;}</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="three_8asy.html#a438d7b3a40b234b3673588086a1cbeee">  751</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#a6f4ecbd746182fcaa3f619935322c1c6">curlSpecifier</a> spec)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;{</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> void(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span>(spec.side == <a class="code" href="plain__paths_8asy.html#a15c0c9ba2c5455f738cf3b61b2a7ca7a">JOIN_OUT</a>) <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.out(spec.value);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(spec.side == <a class="code" href="plain__paths_8asy.html#a29f3290dba7bdab656247caf00912fa0">JOIN_IN</a>) <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.in(spec.value);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      abort(<span class="stringliteral">&quot;invalid curl specifier&quot;</span>);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  };</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="three_8asy.html#ab66b1259ba879f56a007bfb7164c99ee">  761</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <span class="keyword">operator</span> spec(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, <span class="keywordtype">int</span> <a class="code" href="structside.html">side</a>)</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;{</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> void(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="structside.html">side</a> == <a class="code" href="plain__paths_8asy.html#a15c0c9ba2c5455f738cf3b61b2a7ca7a">JOIN_OUT</a>) <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.out(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="structside.html">side</a> == <a class="code" href="plain__paths_8asy.html#a29f3290dba7bdab656247caf00912fa0">JOIN_IN</a>) <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.in(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      abort(<span class="stringliteral">&quot;invalid direction specifier&quot;</span>);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  };</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;}</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="three_8asy.html#a5295cc282e6ca8cbb947e71aeb951ca3">  771</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="three_8asy.html#a5295cc282e6ca8cbb947e71aeb951ca3">operator -- </a>(... <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>[] <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;{</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> void(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length &gt; 0) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length-1; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>](<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.out(1);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.in(1);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>[<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length-1](<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  };</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="three_8asy.html#af336ef7d658957164dc1bc3d2e81cae8">  785</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="three_8asy.html#af336ef7d658957164dc1bc3d2e81cae8">operator .. </a>(... <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>[] <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;{</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> void(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>](<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  };</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;}</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="three_8asy.html#acdbdfdb61b81df401112a469975b36b0">  793</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="three_8asy.html#acdbdfdb61b81df401112a469975b36b0">interpolate3</a>(... <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>[]);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno"><a class="line" href="three_8asy.html#ad7309eb240525b9850cdc3c2b4add7e6">  795</a></span>&#160;<a class="code" href="three_8asy.html#acdbdfdb61b81df401112a469975b36b0">interpolate3</a> <a class="code" href="three_8asy.html#ad7309eb240525b9850cdc3c2b4add7e6">join3</a>(<a class="code" href="three_8asy.html#aae99a6a52376fb310d8476caec7adac7">tensionSpecifier</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;{</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>(... <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>[] <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>.length == 0) <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a75d2f2705b4385496c485a426f00e951">nullpath3</a>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[0];</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=1; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>..<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>..<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  };</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;}</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<a class="code" href="three_8asy.html#acdbdfdb61b81df401112a469975b36b0">interpolate3</a> <a class="code" href="geometry_8asy.html#ae6809870b7b153af25ec7dd6d37e2d3d">operator</a> ::=<a class="code" href="three_8asy.html#ad7309eb240525b9850cdc3c2b4add7e6">join3</a>(<span class="keyword">operator</span> tension(1,<span class="keyword">true</span>));</div>
<div class="line"><a name="l00807"></a><span class="lineno"><a class="line" href="three_8asy.html#a3f09f924ae898c8f1c7afe0baf18618b">  807</a></span>&#160;<a class="code" href="three_8asy.html#acdbdfdb61b81df401112a469975b36b0">interpolate3</a> <span class="keyword">operator</span> ---=<a class="code" href="three_8asy.html#ad7309eb240525b9850cdc3c2b4add7e6">join3</a>(<span class="keyword">operator</span> tension(<a class="code" href="plain__prethree_8asy.html#a5b951aaf65f14b0961f103cea90bafe3">infinity</a>,<span class="keyword">true</span>));</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="three_8asy.html#a122d4575a9d42752e18abe528869f9d3">  809</a></span>&#160;<a class="code" href="structflatguide3.html">flatguide3</a> <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;}</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno"><a class="line" href="three_8asy.html#a4cef727f27ffae80bd9549fe0413b40c">  816</a></span>&#160;<a class="code" href="structflatguide3.html">flatguide3</a>[] <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>[] <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;{</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="structflatguide3.html">flatguide3</a>[] <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=<span class="keyword">new</span> <a class="code" href="structflatguide3.html">flatguide3</a>[<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length];</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>](<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;}</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">// A version of asin that tolerates numerical imprecision</span></div>
<div class="line"><a name="l00828"></a><span class="lineno"><a class="line" href="three_8asy.html#a5636d7e7ac88a19e83f0a575cb715469">  828</a></span>&#160;real <a class="code" href="three_8asy.html#a5636d7e7ac88a19e83f0a575cb715469">asin1</a>(real <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>)</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;{</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">return</span> asin(<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,-1),1));</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">// A version of acos that tolerates numerical imprecision</span></div>
<div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="three_8asy.html#af051f4805886fff0efe1b296f6e51c00">  834</a></span>&#160;real <a class="code" href="three_8asy.html#af051f4805886fff0efe1b296f6e51c00">acos1</a>(real <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;{</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="keywordflow">return</span> acos(<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,-1),1));</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;}</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno"><a class="line" href="structControls.html">  839</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structControls.html">Controls</a> {</div>
<div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="structControls.html#a7a43684554e4838e6425403825855dd2">  840</a></span>&#160;  triple <a class="code" href="structControls.html#a7a43684554e4838e6425403825855dd2">c0</a>,<a class="code" href="structControls.html#acffda8ff6e3045db7c9be056654c3ebf">c1</a>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">// 3D extension of John Hobby&#39;s control point formula</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="comment">// (cf. The MetaFont Book, page 131),</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="comment">// as described in John C. Bowman and A. Hammerlindl,</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="comment">// TUGBOAT: The Communications of the TeX Users Group 29:2 (2008).</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="structControls.html#a60dd598784a44a0c3694357ffa3c08ae">  847</a></span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>(triple v0, triple v1, triple d0, triple d1, real tout,</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                     real tin, <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#a4156cfe0300377e9610f8631051c7e60">atLeast</a>) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=v1-v0;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    real <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    d0=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(d0);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    d1=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(d1);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    real <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>=<a class="code" href="three_8asy.html#af051f4805886fff0efe1b296f6e51c00">acos1</a>(<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(d0,<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>));</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    real <a class="code" href="syzygy_8asy.html#a80b7064823b814472bab69329c4219b9">phi</a>=<a class="code" href="three_8asy.html#af051f4805886fff0efe1b296f6e51c00">acos1</a>(<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(d1,<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>));</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(d0,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>),<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,d1)) &lt; 0) <a class="code" href="syzygy_8asy.html#a80b7064823b814472bab69329c4219b9">phi</a>=-<a class="code" href="syzygy_8asy.html#a80b7064823b814472bab69329c4219b9">phi</a>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <a class="code" href="structControls.html#a7a43684554e4838e6425403825855dd2">c0</a>=v0+d0*<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>*relativedistance(<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>,<a class="code" href="syzygy_8asy.html#a80b7064823b814472bab69329c4219b9">phi</a>,tout,<a class="code" href="three_8asy.html#a4156cfe0300377e9610f8631051c7e60">atLeast</a>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="structControls.html#acffda8ff6e3045db7c9be056654c3ebf">c1</a>=v1-d1*<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>*relativedistance(<a class="code" href="syzygy_8asy.html#a80b7064823b814472bab69329c4219b9">phi</a>,<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>,tin,<a class="code" href="three_8asy.html#a4156cfe0300377e9610f8631051c7e60">atLeast</a>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;}</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="keyword">private</span> triple <a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(triple d0, triple d1, triple <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>)</div>
<div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="three_8asy.html#acc0eefc6522d8ba0d19cad5b3d09c7aa">  863</a></span>&#160;{</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(d0,d1);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a> == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a> ? <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a> : <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="three_8asy.html#a6cbbcd50b3db7afed77191bf92fffb60">  868</a></span>&#160;<span class="keyword">private</span> triple <a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(real <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>, triple d0, triple d1, triple <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>)</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div>
<div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="three_8asy.html#a171244fb1a244250ede75452f6cd18cd">  870</a></span>&#160;  triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(d0,d1,<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a> == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) <span class="keywordflow">return</span> d1;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(<a class="code" href="namespacecamp.html#a0b19f4868e3ff64d54e6e2b1765ec08b">degrees</a>(<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>),<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>,<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>) &gt;= 0 ? <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a> : -<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>)*</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    d1;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;}</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno"><a class="line" href="three_8asy.html#ac04948493ab1575a37137b56e4e21026">  876</a></span>&#160;<span class="keyword">private</span> real <a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>(triple d0, triple d1, triple <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;{</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  real <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>=<a class="code" href="three_8asy.html#af051f4805886fff0efe1b296f6e51c00">acos1</a>(<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(d0),<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(d1)));</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(d0,d1,<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>),<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>) &gt;= 0 ? <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a> : -<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;}</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">// 3D extension of John Hobby&#39;s angle formula (The MetaFont Book, page 131).</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">// Notational differences: here psi[i] is the turning angle at z[i+1],</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">// beta[i] is the tension for segment i, and in[i] is the incoming</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">// direction for segment i (where segment i begins at node i).</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="three_8asy.html#a474268a491f19c963f850331aff962c4">  887</a></span>&#160;real[] <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>(triple[] <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, real[] <a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>, real[] <a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>,</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;             triple dir0, triple dirn, real g0, real gn, triple <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;{</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  real[] <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>,<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>,psi;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>.length;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>=<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.cyclic;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=1/<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="keywordtype">int</span> i0,<a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>) {i0=0; <a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>=<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;}</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="keywordflow">else</span> {i0=1; <a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>=<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1;}</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    psi[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+2]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1],<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>.cyclic=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    psi.cyclic=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    psi[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1]=0;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">if</span>(dir0 == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      real a0=<a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>[0];</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      real b0=<a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>[0];</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      real chi=g0*(b0/a0)^2;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[0]=0;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>[0]=3a0-a0/b0+chi;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      real <a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>=chi*(3a0-1)+a0/b0;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>[0]=<a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>[0]=-<a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>*psi[0];</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[0]=<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>[0]=0;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>[0]=1;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>[0]=<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[1]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[0],dir0,<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span>(dirn == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      real an=<a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1];</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      real bn=<a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1];</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      real chi=gn*(an/bn)^2;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]=chi*(3bn-1)+bn/an;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]=3bn-bn/an+chi;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]=0;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]=<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]=0;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]=1;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]=<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1],dirn,<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=i0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    real <a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>=<a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>-1]^2*<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>-1];</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    real <a class="code" href="geometry_8asy.html#acbd6122136afa26d486b9e9b39d079bb">A</a>=<a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>/<a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>-1];</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="geometry_8asy.html#acbd6122136afa26d486b9e9b39d079bb">A</a>;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    real <a class="code" href="namespacesym.html#a0533c5b32e2975cbab98d64b79d23429">B</a>=3*<a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>-<a class="code" href="geometry_8asy.html#acbd6122136afa26d486b9e9b39d079bb">A</a>;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    real <a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>=<a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]^2*<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    real <a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>=<a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>/<a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="namespacesym.html#a0533c5b32e2975cbab98d64b79d23429">B</a>+3*<a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>-<a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=-<a class="code" href="namespacesym.html#a0533c5b32e2975cbab98d64b79d23429">B</a>*psi[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>-1]-<a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>*psi[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordflow">return</span> tridiagonal(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>,<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;}</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno"><a class="line" href="three_8asy.html#a7646635b3012be894971178146b07808">  948</a></span>&#160;triple <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>(triple[] <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>, triple d0, triple d1)</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;{</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  triple[] <a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>=<a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+2]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1]);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    },<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &gt; 0) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>.push(<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(d0,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[1]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[0]));</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>.push(<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1],d1));</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  triple <a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>=<a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>[0];</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  real <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=1; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    triple vi=<a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    real <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>=<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(vi);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a> &gt; <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>) {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>=vi;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  triple <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a> += <a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>) &lt; 0 ? -<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a> : <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;}</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">// Fill in missing directions for n cyclic nodes.</span></div>
<div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="three_8asy.html#ab5f17629b80d659c01afc5255425572e">  979</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ab5f17629b80d659c01afc5255425572e">aim</a>(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <span class="keywordtype">int</span> <a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>)</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;{</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>=0, <a class="code" href="smoothcontour3_8asy.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>=0;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="comment">// If the cycle contains one or more direction specifiers, break the loop.</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>=0; <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a> &lt; <a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>; ++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>)</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.solved(<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>)) {<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>=<span class="keyword">false</span>; <a class="code" href="smoothcontour3_8asy.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>=<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>; <span class="keywordflow">break</span>;}</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>=<a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>-1; <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a> &gt;= 0; --<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.solved(<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>)) {<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>=<span class="keyword">false</span>; <a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>=<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>; <span class="keywordflow">break</span>;}</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">while</span>(<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a> &lt; <a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a> &amp;&amp; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>].active) ++<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>-(<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>-<a class="code" href="smoothcontour3_8asy.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &lt;= 1 || (<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a> &amp;&amp; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &lt;= 2)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  triple[] <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<span class="keyword">new</span> triple[<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a> ? <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> : <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>+1];</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  real[] <a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>=<span class="keyword">new</span> real[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>];</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  real[] <a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>=<span class="keyword">new</span> real[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>];</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>=0; <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>) {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordtype">int</span> K=(<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>+<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>) % <a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[K];</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.Tension[K].out;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.Tension[K].in;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.cyclic=<span class="keyword">true</span>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>.cyclic=<span class="keyword">true</span>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>.cyclic=<span class="keyword">true</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  } <span class="keywordflow">else</span> <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[(<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>+<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>) % <a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>];</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keywordtype">int</span> <span class="keyword">final</span>=(<a class="code" href="smoothcontour3_8asy.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>-1) % <a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  triple d0=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>].dir;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  triple d1=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<span class="keyword">final</span>].dir;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  triple <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>=<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>,d0,d1);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  real[] <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>=<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>,<a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>,d0,d1,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>].gamma,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<span class="keyword">final</span>].gamma,</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                     <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.cyclic=<span class="keyword">true</span>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>.cyclic=<span class="keyword">true</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>=1; <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a> &lt; (<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a> ? <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>+1 : <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>); ++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    triple w=<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>-1],<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>+1]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[(<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>+<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>-1) % <a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>].<a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>(w);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[(<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>+<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>) % <a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>].<a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>(w);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>].dir == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>)</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>].init(<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>[0],<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[0]-<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[(<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>-1) % <a class="code" href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>],<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[1]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[0],</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                          <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>));</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<span class="keyword">final</span>].dir == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>)</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<span class="keyword">final</span>].init(<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>],<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-2],<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1],<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>));</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;}</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment">// Fill in missing directions for the sequence of nodes i...n.</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"><a class="line" href="three_8asy.html#a4b00c6bfc506815ce95888b7861d02b5"> 1035</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ab5f17629b80d659c01afc5255425572e">aim</a>(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>, <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>)</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;{</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="keywordtype">int</span> j=<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">if</span>(j &gt; 1 || <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].dir != <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a> || <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].dir != <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    triple[] <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<span class="keyword">new</span> triple[j+1];</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    real[] <a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>=<span class="keyword">new</span> real[j];</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    real[] <a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>=<span class="keyword">new</span> real[j];</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>=0; <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a> &lt; j; ++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>];</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.Tension[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>].out;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.Tension[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>].in;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[j]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>];</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    triple d0=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].dir;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    triple d1=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1].dir;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    triple <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>=<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,j,d0,d1);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    real[] <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>=<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a>,<a class="code" href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a>,d0,d1,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].gamma,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1].gamma,</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                       <a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>=1; <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a> &lt; j; ++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      triple w=<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>-1],<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>+1]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>-1].init(w);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>].init(w);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].dir == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      triple w=<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>[0],<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].dir,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[1]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[0],<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &gt; 0) <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>-1].init(w);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].init(w);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1].dir == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      triple w=<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>[j],<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1].dir,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[j]-<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[j-1],<a class="code" href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a>);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1].init(w);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>].init(w);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;}</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="three_8asy.html#a7ae3d98b058eca613cf8f47f4292bf3a"> 1075</a></span>&#160;<span class="keyword">private</span> real <a class="code" href="three_8asy.html#a7ae3d98b058eca613cf8f47f4292bf3a">Fuzz</a>=10*realEpsilon;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"><a class="line" href="three_8asy.html#aab41a86ee3b2410042f44438d1a406d8"> 1077</a></span>&#160;triple <a class="code" href="three_8asy.html#aab41a86ee3b2410042f44438d1a406d8">XYplane</a>(pair <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>) {<span class="keywordflow">return</span> (<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.x,<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.y,0);}</div>
<div class="line"><a name="l01078"></a><span class="lineno"><a class="line" href="three_8asy.html#af97fd74d078b2b01e16d896c9c3b3790"> 1078</a></span>&#160;triple <a class="code" href="three_8asy.html#af97fd74d078b2b01e16d896c9c3b3790">YZplane</a>(pair <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>) {<span class="keywordflow">return</span> (0,<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.x,<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.y);}</div>
<div class="line"><a name="l01079"></a><span class="lineno"><a class="line" href="three_8asy.html#abd267d35d7ae68009c7c0703c23956ba"> 1079</a></span>&#160;triple <a class="code" href="three_8asy.html#abd267d35d7ae68009c7c0703c23956ba">ZXplane</a>(pair <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>) {<span class="keywordflow">return</span> (<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.y,0,<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.x);}</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"><a class="line" href="three_8asy.html#a15550196ecee2414028ff693575c991f"> 1081</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>) {<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>); <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.cyclic();}</div>
<div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="three_8asy.html#adfd63075d9fdf565ff43366c0aca3ef3"> 1082</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="three_8asy.html#a1e85b1619007224764c10dce3b590fe6">size</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>) {<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>); <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.size();}</div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444"> 1083</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>) {<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>); <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.nodes.length-1;}</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"><a class="line" href="three_8asy.html#a8884c757e191c5fc85f6e511e69807e0"> 1085</a></span>&#160;triple <a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;{</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>));</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;}</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"><a class="line" href="three_8asy.html#aeb8921274ed24c8b0847f019671366d5"> 1090</a></span>&#160;triple <a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#aea48bde1a661e4c9d8cb7fd80af6a4d9">h</a>)</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;{</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)+<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="geometry_8asy.html#aea48bde1a661e4c9d8cb7fd80af6a4d9">h</a>));</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;}</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment">// return the point on path3 p at arclength L</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"><a class="line" href="three_8asy.html#ab0f5597ac205bcf2d72b9ffd5d637878"> 1096</a></span>&#160;triple <a class="code" href="three_8asy.html#ab0f5597ac205bcf2d72b9ffd5d637878">arcpoint</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;{</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,arctime(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>));</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;}</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment">// return the direction on path3 p at arclength L</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"><a class="line" href="three_8asy.html#a7e1007889e40156a69a3b7607a70d088"> 1102</a></span>&#160;triple <a class="code" href="three_8asy.html#a7e1007889e40156a69a3b7607a70d088">arcdir</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>)</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;{</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,arctime(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>));</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;}</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment">// return the time on path3 p at the relative fraction l of its arclength</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"><a class="line" href="three_8asy.html#a7544c5a4bf80c17933edaf85405afe29"> 1108</a></span>&#160;real <a class="code" href="three_8asy.html#a7544c5a4bf80c17933edaf85405afe29">reltime</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>)</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;{</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordflow">return</span> arctime(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>*<a class="code" href="geometry_8asy.html#aa817eabbb6083e36d0bdd6f479200f94">arclength</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>));</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">// return the point on path3 p at the relative fraction l of its arclength</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"><a class="line" href="three_8asy.html#a54d7798bd1a01f70ef1b03cd08c35865"> 1114</a></span>&#160;triple <a class="code" href="three_8asy.html#a54d7798bd1a01f70ef1b03cd08c35865">relpoint</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;{</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#a7544c5a4bf80c17933edaf85405afe29">reltime</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>));</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;}</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment">// return the direction of path3 p at the relative fraction l of its arclength</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="three_8asy.html#a7f0b1b65a9e3ab048823394b8b217aa6"> 1120</a></span>&#160;triple <a class="code" href="three_8asy.html#a7f0b1b65a9e3ab048823394b8b217aa6">reldir</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>)</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;{</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#a7544c5a4bf80c17933edaf85405afe29">reltime</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>));</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;}</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">// return the initial point of path3 p</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"><a class="line" href="three_8asy.html#a99c5c7063dfeebfd8ccb31ad42a782cf"> 1126</a></span>&#160;triple <a class="code" href="three_8asy.html#a99c5c7063dfeebfd8ccb31ad42a782cf">beginpoint</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;{</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;}</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment">// return the point on path3 p at half of its arclength</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"><a class="line" href="three_8asy.html#af0a343e370ab3aeb7ab3b361e4fa2b86"> 1132</a></span>&#160;triple <a class="code" href="three_8asy.html#af0a343e370ab3aeb7ab3b361e4fa2b86">midpoint</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;{</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a54d7798bd1a01f70ef1b03cd08c35865">relpoint</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0.5);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;}</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="comment">// return the final point of path3 p</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"><a class="line" href="three_8asy.html#a3d92a39a7d2c49aba23f45f9b4e7aeb2"> 1138</a></span>&#160;triple <a class="code" href="three_8asy.html#a3d92a39a7d2c49aba23f45f9b4e7aeb2">endpoint</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;{</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>));</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;}</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160; </div>
<div class="line"><a name="l01143"></a><span class="lineno"><a class="line" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3"> 1143</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;{</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  triple[] <a class="code" href="structpoint.html">point</a>={<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>};</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<a class="code" href="structpoint.html">point</a>,<a class="code" href="structpoint.html">point</a>,<a class="code" href="structpoint.html">point</a>,<span class="keyword">new</span> <span class="keywordtype">bool</span>[] {<span class="keyword">false</span>},<span class="keyword">false</span>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;}</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="three_8asy.html#af7068dc9a0677df13f077e7ff2691a16"> 1149</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, triple <a class="code" href="three_8asy.html#a3d6f87cb9e824ea635a87787ab0a3e73">plane</a>(pair)=<a class="code" href="three_8asy.html#aab41a86ee3b2410042f44438d1a406d8">XYplane</a>)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;{</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a1e85b1619007224764c10dce3b590fe6">size</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a3d6f87cb9e824ea635a87787ab0a3e73">plane</a>(precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>));},<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>),</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;               <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a3d6f87cb9e824ea635a87787ab0a3e73">plane</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>));},<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>),</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;               <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a3d6f87cb9e824ea635a87787ab0a3e73">plane</a>(postcontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>));},<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>),</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;               <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> <span class="keywordtype">bool</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>);},<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>),</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;               <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>));</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"><a class="line" href="three_8asy.html#a9389f36e210eff2e74794f8aaca6ffc3"> 1159</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<span class="keyword">explicit</span> <a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a>[] <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, triple <a class="code" href="three_8asy.html#a3d6f87cb9e824ea635a87787ab0a3e73">plane</a>(pair)=<a class="code" href="three_8asy.html#aab41a86ee3b2410042f44438d1a406d8">XYplane</a>)</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;{</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="three_8asy.html#a3d6f87cb9e824ea635a87787ab0a3e73">plane</a>);},<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;}</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"><a class="line" href="three_8asy.html#a1792f1b11f913edf64860e8a932b1731"> 1164</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#a1792f1b11f913edf64860e8a932b1731">interp</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> a, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> b, real <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;{</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a1e85b1619007224764c10dce3b590fe6">size</a>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a1792f1b11f913edf64860e8a932b1731">interp</a>(precontrol(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>),precontrol(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);},<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>),</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a1792f1b11f913edf64860e8a932b1731">interp</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>),<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);},<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>),</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a1792f1b11f913edf64860e8a932b1731">interp</a>(postcontrol(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>),</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                                              postcontrol(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);},<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>),</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> <span class="keywordtype">bool</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) &amp;&amp; <a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>);},<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>),</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>) &amp;&amp; <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>));</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;}</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"><a class="line" href="three_8asy.html#a498fce2f97074b7e7b76e24b48f00ccd"> 1176</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(<a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>, triple <a class="code" href="structpoint.html">point</a>,</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;             <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;{</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<span class="keyword">new</span> triple(pair <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>,<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>,<a class="code" href="structpoint.html">point</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);});</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;}</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"><a class="line" href="three_8asy.html#a9979b94554cef98dcbfa771fe10e7f66"> 1182</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(<a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, triple <a class="code" href="structpoint.html">point</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;{</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<span class="keyword">new</span> triple(pair <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.normal,<a class="code" href="structpoint.html">point</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);});</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;}</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"><a class="line" href="three_8asy.html#ae4d99b7ddad123124764e23e8cb251a3"> 1187</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(<a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;{</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<span class="keyword">new</span> triple(pair <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.normal,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);});</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">// Construct a path from a path3 by applying P to each control point.</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843"> 1193</a></span>&#160;<a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a> <a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, pair <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>(triple)=<a class="code" href="three_8asy.html#a640339e027bb365c02f39859f3e3cb16">xypart</a>)</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;{</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &lt; 0) <span class="keywordflow">return</span> <a class="code" href="plain__paths_8asy.html#a4f6667cb82a08e7937849b5c10a1c844">nullpath</a>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  guide <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0));</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=1; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>-1) ? <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>--<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)) :</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>..controls <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>(postcontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>-1)) and <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>(precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>))..<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>));</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1))</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>) ? <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>--cycle : <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>--<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>));</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  pair post=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>(postcontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1));</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  pair pre=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>(precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>));</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>) ? <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>..controls post and pre..cycle :</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>..controls post and pre..<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>));</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;}</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"><a class="line" href="three_8asy.html#a6de231fb8ea8002efa02aa1ef921dbbc"> 1212</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a> <a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>, <span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a> <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>=<a class="code" href="plain__constants_8asy.html#accfdb9ff8fb800028125d5906f48975a">none</a>)</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;{</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &lt; 0) <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<span class="stringliteral">&quot;&lt;nullpath3&gt;&quot;</span>);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>));</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>)) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)) <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;--&quot;</span>);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;          <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;.. controls &quot;</span>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;          <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,postcontrol(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>));</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;          <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot; and &quot;</span>);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;          <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,precontrol(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1),<a class="code" href="plain__constants_8asy.html#a5be33234ec497964674067d154ae777f">newl</a>);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;          <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot; ..&quot;</span>);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>))</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot;cycle&quot;</span>,<a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>),<a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;}</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="three_8asy.html#ad94098c92f2830d7bf12563303131980"> 1238</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a> <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>=<a class="code" href="plain__constants_8asy.html#a5dff8b242bdd7e6e908cecaca3e6040b">endl</a>)</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;{</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__constants_8asy.html#a1755e659ef445c5b71f2cb2b8721cd5b">stdout</a>,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"><a class="line" href="three_8asy.html#a136483f34f5d0b3e33112cb1ee99ebb6"> 1243</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a> <a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>, <span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a> <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>=<a class="code" href="plain__constants_8asy.html#accfdb9ff8fb800028125d5906f48975a">none</a>)</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;{</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.length &gt; 0) <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>[0]);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=1; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="plain__constants_8asy.html#a5dff8b242bdd7e6e908cecaca3e6040b">endl</a>);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<span class="stringliteral">&quot; ^^&quot;</span>);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  }</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;}</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="three_8asy.html#a3aeee6c293f4d52492ef6777a53b6411"> 1255</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a> <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>=<a class="code" href="plain__constants_8asy.html#a5dff8b242bdd7e6e908cecaca3e6040b">endl</a>)</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;{</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__constants_8asy.html#a1755e659ef445c5b71f2cb2b8721cd5b">stdout</a>,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;}</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"><a class="line" href="three_8asy.html#a2d278ba4d3deaf95bb43407b62a65cf6"> 1260</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#a2d278ba4d3deaf95bb43407b62a65cf6">solve</a>(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;{</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes.length-1;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <span class="comment">// If duplicate points occur consecutively, add dummy controls (if absent).</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>] == <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1] &amp;&amp; !<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].active)</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="three_8asy.html#a274a3975356c248309caefbf77b4953e">control</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>=<span class="keyword">true</span>);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160; </div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="comment">// Fill in empty direction specifiers inherited from explicit control points.</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].active) {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].init(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].post-<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].init(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1]-<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].pre);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    }</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="comment">// Propagate directions across nodes.</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordtype">int</span> next=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.cyclic[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1] ? 0 : <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[next].active())</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].default(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[next]);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].active()) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[next].default(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1].default(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="comment">// Compute missing 3D directions.</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="comment">// First, resolve cycles</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=find(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.cyclic);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &gt; 0) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="three_8asy.html#ab5f17629b80d659c01afc5255425572e">aim</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="comment">// All other cycles can now be reduced to sequences.</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[0].dir;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>; j &lt;= <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++j) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.cyclic[j]) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[j-1].default(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[j].default(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[j-1] == <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[j] &amp;&amp; !<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[j-1].active)</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;          <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[j-1]=<a class="code" href="three_8asy.html#a274a3975356c248309caefbf77b4953e">control</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[j-1],<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[j-1]);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="comment">// Next, resolve sequences.</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>=0;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="keywordflow">while</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="comment">// Look for a missing outgoing direction.</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt;= <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &amp;&amp; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.solved(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)) {<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>=<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>;}</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &gt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="comment">// Look for the end of the sequence.</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &amp;&amp; !<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.solved(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)) ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a> &lt; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &amp;&amp; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>].active) ++<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a> &lt; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <a class="code" href="three_8asy.html#ab5f17629b80d659c01afc5255425572e">aim</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="comment">// Compute missing 3D control points.</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordtype">int</span> next=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.cyclic[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1] ? 0 : <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].active) {</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <a class="code" href="structcontrol.html">control</a> <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <span class="keywordflow">if</span>((<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].Curl &amp;&amp; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].Curl) ||</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;         (<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].dir == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a> &amp;&amp; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].dir == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>)) {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        <span class="comment">// fill in straight control points for path3 functions</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        triple delta=(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1]-<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>])/3;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>=<a class="code" href="three_8asy.html#a274a3975356c248309caefbf77b4953e">control</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]+delta,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1]-delta,<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>=<span class="keyword">true</span>);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <a class="code" href="structControls.html">Controls</a> <a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>=<a class="code" href="structControls.html">Controls</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[next],<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].dir,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].dir,</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                            <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.Tension[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].out,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.Tension[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].in,</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                            <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.Tension[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].atLeast);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>=<a class="code" href="three_8asy.html#a274a3975356c248309caefbf77b4953e">control</a>(<a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>.c0,<a class="code" href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a>.c1);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      }</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    }</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// Convert to Knuth&#39;s format (control points stored with nodes)</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes.length;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &gt; 0) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.cyclic[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1];</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>) --<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  }</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  triple[] pre=<span class="keyword">new</span> triple[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>];</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  triple[] <a class="code" href="structpoint.html">point</a>=<span class="keyword">new</span> triple[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>];</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  triple[] post=<span class="keyword">new</span> triple[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>];</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="keywordtype">bool</span>[] <a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>=<span class="keyword">new</span> <span class="keywordtype">bool</span>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>];</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &gt; 0) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <a class="code" href="structpoint.html">point</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      post[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].post;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      pre[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].pre;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].straight;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="structpoint.html">point</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.nodes[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1];</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>) {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      pre[0]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1].pre;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      post[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1].post;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1]=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.control[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1].straight;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      pre[0]=<a class="code" href="structpoint.html">point</a>[0];</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      post[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1]=<a class="code" href="structpoint.html">point</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1];</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>[<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1]=<span class="keyword">false</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(pre,<a class="code" href="structpoint.html">point</a>,post,<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>,<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;}</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"><a class="line" href="three_8asy.html#a265f24135f0b658ea37b7ef25df35265"> 1375</a></span>&#160;<a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a> <a class="code" href="three_8asy.html#a265f24135f0b658ea37b7ef25df35265">nurb</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>, <span class="keywordtype">int</span> <a class="code" href="plain__prethree_8asy.html#ae6c45a73d771d8bccaabef338c62172b">ninterpolate</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.ninterpolate)</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;{</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  triple <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.camera;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.normal);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.t;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160; </div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a> <a class="code" href="three_8asy.html#a265f24135f0b658ea37b7ef25df35265">nurb</a>(triple v0, triple v1, triple v2, triple v3) {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a265f24135f0b658ea37b7ef25df35265">nurb</a>(<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(v0,<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>),<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(v1,<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>),<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(v2,<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>),<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(v3,<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>),</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                <a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>-v0),<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>-v1),<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>-v2),<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>-v3),<a class="code" href="plain__prethree_8asy.html#ae6c45a73d771d8bccaabef338c62172b">ninterpolate</a>);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160; </div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0))</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160; </div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="keywordtype">int</span> last=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; last; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>))</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>--<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>&amp;<a class="code" href="three_8asy.html#a265f24135f0b658ea37b7ef25df35265">nurb</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>),postcontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>),precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1),<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1));</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)) <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>&amp;cycle;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;}</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"><a class="line" href="three_8asy.html#a2da9158c9c88816e0ab907e764ced1a8"> 1405</a></span>&#160;<a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a> <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>,</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;             <span class="keywordtype">int</span> <a class="code" href="plain__prethree_8asy.html#ae6c45a73d771d8bccaabef338c62172b">ninterpolate</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.ninterpolate)</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;{</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  guide <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="keywordtype">int</span> last=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="keywordflow">if</span>(last &lt; 0) <span class="keywordflow">return</span> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.t;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__prethree_8asy.html#ae6c45a73d771d8bccaabef338c62172b">ninterpolate</a> == 1 || piecewisestraight(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)) {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">// Construct the path.</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="plain__debugger_8asy.html#af8d9b783dda9ae977c030d1fdf2f238c">stop</a>=<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>) ? last-1 : last;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="plain__debugger_8asy.html#af8d9b783dda9ae977c030d1fdf2f238c">stop</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>))</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>--<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>..controls <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(postcontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>) and</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;          <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)..<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      }</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    }</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a265f24135f0b658ea37b7ef25df35265">nurb</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>))</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,last-1) ? <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>--cycle :</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>..controls <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(postcontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,last-1),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>) and</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,last),<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)..cycle;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;}</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"><a class="line" href="three_8asy.html#af16c8989c1d0e664b81b55cb58c4e646"> 1436</a></span>&#160;pair[] <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(triple[] <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;{</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> pair(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.t);},<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.length);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;}</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"><a class="line" href="three_8asy.html#abe5e503f1fb178f2db72e555ad62df7b"> 1441</a></span>&#160;<a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a>[] <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;{</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> <a class="code" href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);},<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;}</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"><a class="line" href="three_8asy.html#ae1ecd6aedb840fc48fc671880e0a94a6"> 1446</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;{</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordtype">int</span> last=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>=<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="plain__debugger_8asy.html#af8d9b783dda9ae977c030d1fdf2f238c">stop</a>=<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a> ? last-1 : last;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> void(<a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>) {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keywordflow">if</span>(last &gt;= 0) {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.node(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0));</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="plain__debugger_8asy.html#af8d9b783dda9ae977c030d1fdf2f238c">stop</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;          <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.out(1);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;          <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.in(1);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;          <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.control(postcontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>),precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1));</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.node(<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1));</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>) {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__debugger_8asy.html#af8d9b783dda9ae977c030d1fdf2f238c">stop</a>)) {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;          <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.out(1);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;          <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.in(1);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;          <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.control(postcontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__debugger_8asy.html#af8d9b783dda9ae977c030d1fdf2f238c">stop</a>),precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,last));</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.cycleToken();</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      }</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  };</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;}</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment">// Return a unit normal vector to a planar path p (or O if the path is</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment">// nonplanar).</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"><a class="line" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61"> 1477</a></span>&#160;triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;{</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  real <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>=<a class="code" href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a>*<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)-<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>));</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  real absnormal;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  real <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="keywordtype">bool</span> Cross(triple <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>, triple <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>) {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>) &gt;= <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a> &amp;&amp; <a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>) &gt;= <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>) {</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      triple <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>),<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>));</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      real absn=<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      <span class="keywordflow">if</span>(absn &lt; <a class="code" href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <span class="keywordflow">if</span>(absnormal &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;         <a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>-<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>) &gt; <a class="code" href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a> &amp;&amp; <a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>+<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>) &gt; <a class="code" href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a>)</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="graph_8asy.html#abbeb8ae63622a7fef0b5a56bb91a1682">sign</a>=<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>,<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>) &gt;= 0 ? 1 : -1;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a> += <a class="code" href="graph_8asy.html#abbeb8ae63622a7fef0b5a56bb91a1682">sign</a>*<a class="code" href="three_8asy.html#a5636d7e7ac88a19e83f0a575cb715469">asin1</a>(absn);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <span class="keywordflow">if</span>(absn &gt; absnormal) {</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;          absnormal=absn;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;          <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;          <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>=<a class="code" href="graph_8asy.html#abbeb8ae63622a7fef0b5a56bb91a1682">sign</a>*<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        }</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a> &lt;= 0) <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160; </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  triple zi=<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  triple v0=zi-precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    triple <a class="code" href="three_8asy.html#acc0eefc6522d8ba0d19cad5b3d09c7aa">c0</a>=postcontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    triple <a class="code" href="three_8asy.html#a4d6de2542c177bf3215760214ac2f4a4">c1</a>=precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    triple zp=<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    triple v1=<a class="code" href="three_8asy.html#acc0eefc6522d8ba0d19cad5b3d09c7aa">c0</a>-zi;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    triple v2=<a class="code" href="three_8asy.html#a4d6de2542c177bf3215760214ac2f4a4">c1</a>-<a class="code" href="three_8asy.html#acc0eefc6522d8ba0d19cad5b3d09c7aa">c0</a>;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    triple v3=zp-<a class="code" href="three_8asy.html#a4d6de2542c177bf3215760214ac2f4a4">c1</a>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keywordflow">if</span>(Cross(v0,v1) || Cross(v1,v2) || Cross(v2,v3)) <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    v0=v3;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    zi=zp;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  }</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a> &gt;= 0 ? <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a> : -<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;}</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="comment">// Return a unit normal vector to a polygon with vertices in p.</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"><a class="line" href="three_8asy.html#a2c01e1d0a196b9a590f7486273d7cec4"> 1526</a></span>&#160;triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>(triple[] <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;{</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  real <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>=<a class="code" href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a>*<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="three__surface_8asy.html#a0ed578f475a0bfa13e11cd4dd92a4ca0">maxbound</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)-<a class="code" href="three__surface_8asy.html#a025286b0b6b4704800487c9f7215eab1">minbound</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>));</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  real absnormal;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  real <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordtype">bool</span> Cross(triple <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>, triple <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>) &gt;= <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a> &amp;&amp; <a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>) &gt;= <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      triple <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>),<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>));</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      real absn=<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <span class="keywordflow">if</span>(absnormal &gt; 0 &amp;&amp; absn &gt; <a class="code" href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a> &amp;&amp;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;         <a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>-<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>) &gt; <a class="code" href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a> &amp;&amp; <a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>+<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>) &gt; <a class="code" href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a>)</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="graph_8asy.html#abbeb8ae63622a7fef0b5a56bb91a1682">sign</a>=<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>,<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>) &gt;= 0 ? 1 : -1;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a> += <a class="code" href="graph_8asy.html#abbeb8ae63622a7fef0b5a56bb91a1682">sign</a>*<a class="code" href="three_8asy.html#a5636d7e7ac88a19e83f0a575cb715469">asin1</a>(absn);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <span class="keywordflow">if</span>(absn &gt; absnormal) {</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;          absnormal=absn;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;          <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;          <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>=<a class="code" href="graph_8asy.html#abbeb8ae63622a7fef0b5a56bb91a1682">sign</a>*<a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      }</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    }</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>.length &lt;= 0) <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  triple zi=<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>[0];</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  triple v0=zi-<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>[<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>.length-1];</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>.length-1; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    triple zp=<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>+1];</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    triple v1=zp-zi;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordflow">if</span>(Cross(v0,v1)) <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    v0=v1;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    zi=zp;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a> &gt;= 0 ? <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a> : -<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;}</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="comment">// Transforms that map XY plane to YX, YZ, ZY, ZX, and XZ planes.</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"><a class="line" href="three_8asy.html#a579fcf7c84f5d6c1028794be30a315c0"> 1569</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a579fcf7c84f5d6c1028794be30a315c0">XY</a>=<a class="code" href="plain__prethree_8asy.html#a5406d2b1c72cd976dc1169f1659d22f7">identity4</a>;</div>
<div class="line"><a name="l01570"></a><span class="lineno"><a class="line" href="three_8asy.html#ae6a66c2d9597c100ad27ce7647223bbe"> 1570</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ae6a66c2d9597c100ad27ce7647223bbe">YX</a>=<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(-90,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>);</div>
<div class="line"><a name="l01571"></a><span class="lineno"><a class="line" href="three_8asy.html#adabc08f22375da96f33422227ebfc65a"> 1571</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#adabc08f22375da96f33422227ebfc65a">YZ</a>=<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(90,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>)*<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(90,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>);</div>
<div class="line"><a name="l01572"></a><span class="lineno"><a class="line" href="three_8asy.html#a6b5581d67354e194b93265fbd682f551"> 1572</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a6b5581d67354e194b93265fbd682f551">ZY</a>=<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(-90,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>)*<a class="code" href="three_8asy.html#adabc08f22375da96f33422227ebfc65a">YZ</a>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"><a class="line" href="three_8asy.html#a7f811c6aff5cd18ce346e6b44e6fcbb0"> 1573</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a7f811c6aff5cd18ce346e6b44e6fcbb0">ZX</a>=<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(-90,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>)*<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(-90,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>);</div>
<div class="line"><a name="l01574"></a><span class="lineno"><a class="line" href="three_8asy.html#ab83ed239bf57f8300b278fe1de60ae96"> 1574</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ab83ed239bf57f8300b278fe1de60ae96">XZ</a>=<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(-90,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>)*<a class="code" href="three_8asy.html#a7f811c6aff5cd18ce346e6b44e6fcbb0">ZX</a>;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"><a class="line" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0"> 1576</a></span>&#160;<span class="keyword">private</span> <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a>(<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, triple <a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>, triple <a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>, triple <a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                        <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;{</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="keyword">static</span> <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>) {</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keyword">static</span> real <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>(real <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>) {<span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a> &gt; 0 ? -1 : 1;}</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa7b19ad43ffd9deb52d9eb4055c651bb">scale</a>(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x),<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y),<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z));</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  }</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.normal);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#aa8391140ca5c4a284e82dfe80866854b">perp</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.up,<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>));</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="keywordtype">bool</span> upright=<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>) &gt;= 0;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>) &lt; 0) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a>(<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>)*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    upright=!upright;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  }</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="keywordflow">return</span> upright ? <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a> : <a class="code" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a>(<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>)*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;}</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"><a class="line" href="three_8asy.html#aa903bafac6902a7a35271880bd6e8976"> 1594</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a579fcf7c84f5d6c1028794be30a315c0">XY</a>(<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;{</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a>(<a class="code" href="three_8asy.html#a579fcf7c84f5d6c1028794be30a315c0">XY</a>,<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>,<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;}</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"><a class="line" href="three_8asy.html#a23e38b48d54d2600fea65eb496ed4c5b"> 1599</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ae6a66c2d9597c100ad27ce7647223bbe">YX</a>(<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;{</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a>(<a class="code" href="three_8asy.html#ae6a66c2d9597c100ad27ce7647223bbe">YX</a>,<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>,<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;}</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"><a class="line" href="three_8asy.html#a327be860649b5397a9ffa21bb348a969"> 1604</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#adabc08f22375da96f33422227ebfc65a">YZ</a>(<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;{</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a>(<a class="code" href="three_8asy.html#adabc08f22375da96f33422227ebfc65a">YZ</a>,<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;}</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160; </div>
<div class="line"><a name="l01609"></a><span class="lineno"><a class="line" href="three_8asy.html#a66de139d8d1b852f3a6527881d66eebb"> 1609</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a6b5581d67354e194b93265fbd682f551">ZY</a>(<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;{</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a>(<a class="code" href="three_8asy.html#a6b5581d67354e194b93265fbd682f551">ZY</a>,<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;}</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"><a class="line" href="three_8asy.html#a9c5b16e7575078aa6266ec30730faaef"> 1614</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a7f811c6aff5cd18ce346e6b44e6fcbb0">ZX</a>(<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;{</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a>(<a class="code" href="three_8asy.html#a7f811c6aff5cd18ce346e6b44e6fcbb0">ZX</a>,<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>,<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;}</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160; </div>
<div class="line"><a name="l01619"></a><span class="lineno"><a class="line" href="three_8asy.html#a1c29b9d92e500c42b880bda4c7a98127"> 1619</a></span>&#160;restricted <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ab83ed239bf57f8300b278fe1de60ae96">XZ</a>(<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;{</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a>(<a class="code" href="three_8asy.html#ab83ed239bf57f8300b278fe1de60ae96">XZ</a>,<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>,<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;}</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="comment">// Transform3 that projects in direction dir onto plane with normal n</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="comment">// through point O.</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"><a class="line" href="three_8asy.html#a25b0dbd5e57abf3fc953767dec9674e9"> 1626</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a25b0dbd5e57abf3fc953767dec9674e9">planeproject</a>(triple <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>, triple <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>, triple <a class="code" href="structdir.html">dir</a>=<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>)</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;{</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  real <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>=<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.x, <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>=<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.y, <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>=<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>.z;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  real <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="structdir.html">dir</a>.x, <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="structdir.html">dir</a>.y, w=<a class="code" href="structdir.html">dir</a>.z;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  real delta=1.0/(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>*<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>+<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>+<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>*w);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  real d=-(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>*<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>.x+<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>*<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>.y+<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>*<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>.z)*delta;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> real[][] {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    {(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>+<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>*w)*delta,-<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>*<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>*delta,-<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>*<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>*delta,-d*<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>},</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      {-<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>*delta,(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>*<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>+<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>*w)*delta,-<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>*delta,-d*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>},</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        {-<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>*w*delta,-<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>*w*delta,(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>*<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>+<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)*delta,-d*w},</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;          {0,0,0,1}</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  };</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;}</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">// Transform3 that projects in direction dir onto plane defined by p.</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"><a class="line" href="three_8asy.html#ac369d17394619cd4b88a7b9c34f12f52"> 1641</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a25b0dbd5e57abf3fc953767dec9674e9">planeproject</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, triple <a class="code" href="structdir.html">dir</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>)</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;{</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  triple <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a25b0dbd5e57abf3fc953767dec9674e9">planeproject</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>,<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0),<a class="code" href="structdir.html">dir</a> == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a> ? <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> : <a class="code" href="structdir.html">dir</a>);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;}</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="comment">// Transform for projecting onto plane through point O with normal cross(u,v).</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"><a class="line" href="three_8asy.html#acc3f70c0155a91346ee5d39e7f2d356a"> 1648</a></span>&#160;<a class="code" href="three_8asy.html#acc3f70c0155a91346ee5d39e7f2d356a">transform</a> <a class="code" href="three_8asy.html#acc3f70c0155a91346ee5d39e7f2d356a">transform</a>(triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>, triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, triple <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                    <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;{</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.t;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  real[] tO=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<span class="keyword">new</span> real[] {<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>.x,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>.y,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>.z,1};</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  real tO3=tO[3];</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  real factor=1/tO3^2;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  real[] <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>=(tO3*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0]-tO[0]*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3])*factor;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  real[] <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>=(tO3*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1]-tO[1]*<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[3])*factor;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  triple <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>=(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>[0],<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>[1],<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>[2]);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  triple <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>=(<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>[0],<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>[1],<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>[2]);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="keywordflow">return</span> (0,0,<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>),<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>),<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>),<a class="code" href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>));</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;}</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160; </div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="comment">// Project Label onto plane through point O with normal cross(u,v).</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"><a class="line" href="three_8asy.html#a30a4ca30b7da91c150f94ea89ce5a022"> 1665</a></span>&#160;<a class="code" href="structLabel.html">Label</a> <a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>, triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>, triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, triple <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;              <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>) {</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#ad0913c276d76cdf5f92925aca91467e3">copy</a>();</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#a8c7813f1aafa9071690baf84daa8534f">position</a>=<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.t);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#ae8e34e8096cff07be532ad5b371ef3cc">transform</a>(<a class="code" href="three_8asy.html#acc3f70c0155a91346ee5d39e7f2d356a">transform</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>));</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;}</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a2d278ba4d3deaf95bb43407b62a65cf6">solve</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>);}</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>);}</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"><a class="line" href="three_8asy.html#aa77c71d97c1c4e27c851b2f992804bb6"> 1676</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>[] <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(triple[] <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;{</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];},<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.length);</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;}</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160; </div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(triple[] <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;{</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];},<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.length);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;}</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160; </div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>[] <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;{</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a2d278ba4d3deaf95bb43407b62a65cf6">solve</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);},<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"><a class="line" href="three_8asy.html#a030dd4a9c2260cd12bcf9d1ac74254ae"> 1691</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>[] <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;{</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];},<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;}</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"><a class="line" href="three_8asy.html#a68fd34a5ec522ff5559b2508554b8280"> 1696</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a> <a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>, <span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>[] <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a> <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>=<a class="code" href="plain__constants_8asy.html#accfdb9ff8fb800028125d5906f48975a">none</a>)</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;{</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a>,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[]) <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;}</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"><a class="line" href="three_8asy.html#a395159537729b8be655b7eee5439a9b7"> 1701</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<span class="stringliteral">&quot;&quot;</span>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a>[] <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a> <a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>=<a class="code" href="plain__constants_8asy.html#a5dff8b242bdd7e6e908cecaca3e6040b">endl</a>)</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;{</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<a class="code" href="plain__constants_8asy.html#a1755e659ef445c5b71f2cb2b8721cd5b">stdout</a>,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[]) <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<a class="code" href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a>);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;}</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"><a class="line" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c"> 1706</a></span>&#160;triple <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <span class="keywordtype">int</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>) {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.size();</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.nodes[<a class="code" href="three_8asy.html#af65bbba9f42cea8e903a1e504700fe04">adjustedIndex</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.cyclic())];</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;}</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; </div>
<div class="line"><a name="l01713"></a><span class="lineno"><a class="line" href="three_8asy.html#a992908e213f4458a79376617d353e42e"> 1713</a></span>&#160;triple[] <a class="code" href="three_8asy.html#a992908e213f4458a79376617d353e42e">dirSpecifier</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <span class="keywordtype">int</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;{</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.size();</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <a class="code" href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">checkEmpty</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.cyclic()) <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a> % <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(t &lt; 0 || t &gt;= <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1) <span class="keywordflow">return</span> <span class="keyword">new</span> triple[];</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> triple[] {<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.out[<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>].dir,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.in[<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>].dir};</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;}</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160; </div>
<div class="line"><a name="l01724"></a><span class="lineno"><a class="line" href="three_8asy.html#ad9f74a3cdb8907252783e04021638480"> 1724</a></span>&#160;triple[] <a class="code" href="three_8asy.html#ad9f74a3cdb8907252783e04021638480">controlSpecifier</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <span class="keywordtype">int</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>) {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.size();</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <a class="code" href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">checkEmpty</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.cyclic()) <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a> % <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(t &lt; 0 || t &gt;= <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1) <span class="keywordflow">return</span> <span class="keyword">new</span> triple[];</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <a class="code" href="structcontrol.html">control</a> <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.control[<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>];</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.active) <span class="keywordflow">return</span> <span class="keyword">new</span> triple[] {<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.post,<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.pre};</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">new</span> triple[];</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;}</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160; </div>
<div class="line"><a name="l01736"></a><span class="lineno"><a class="line" href="three_8asy.html#aae99a6a52376fb310d8476caec7adac7"> 1736</a></span>&#160;<a class="code" href="three_8asy.html#aae99a6a52376fb310d8476caec7adac7">tensionSpecifier</a> <a class="code" href="three_8asy.html#aae99a6a52376fb310d8476caec7adac7">tensionSpecifier</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <span class="keywordtype">int</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;{</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.size();</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <a class="code" href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">checkEmpty</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.cyclic()) <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a> % <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(t &lt; 0 || t &gt;= <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1) <span class="keywordflow">return</span> <span class="keyword">operator</span> tension(1,1,<span class="keyword">false</span>);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <a class="code" href="structTension.html">Tension</a> <a class="code" href="structevaluatedpoint.html">T</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.Tension[<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>];</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">operator</span> tension(<a class="code" href="structevaluatedpoint.html">T</a>.out,<a class="code" href="structevaluatedpoint.html">T</a>.in,<a class="code" href="structevaluatedpoint.html">T</a>.atLeast);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;}</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"><a class="line" href="three_8asy.html#a6f4ecbd746182fcaa3f619935322c1c6"> 1748</a></span>&#160;real[] <a class="code" href="three_8asy.html#a6f4ecbd746182fcaa3f619935322c1c6">curlSpecifier</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <span class="keywordtype">int</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;{</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.size();</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <a class="code" href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">checkEmpty</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.cyclic()) <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a> % <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(t &lt; 0 || t &gt;= <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1) <span class="keywordflow">return</span> <span class="keyword">new</span> real[];</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> real[] {<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.out[<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>].gamma,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.in[<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>].gamma};</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;}</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160; </div>
<div class="line"><a name="l01759"></a><span class="lineno"><a class="line" href="three_8asy.html#a74d708555781e4ddf65c0b688349d55b"> 1759</a></span>&#160;<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="three_8asy.html#a74d708555781e4ddf65c0b688349d55b">reverse</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;{</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <a class="code" href="structflatguide3.html">flatguide3</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>=<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.precyclic())</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a74d708555781e4ddf65c0b688349d55b">reverse</a>(<a class="code" href="three_8asy.html#a2d278ba4d3deaf95bb43407b62a65cf6">solve</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>));</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160; </div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.size();</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <a class="code" href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">checkEmpty</a>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> G;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &gt;= 0) {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>=<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a> ? <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> : <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=<a class="code" href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a>; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &gt; 0; --<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      G=G..<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.nodes[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      <a class="code" href="structcontrol.html">control</a> <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.control[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>-1];</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.active)</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        G=G..<span class="keyword">operator</span> controls(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.pre,<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>.post);</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <a class="code" href="structdir.html">dir</a> <a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.in[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>-1];</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        triple d=<a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>.dir;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="keywordflow">if</span>(d != <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) G=G..<span class="keyword">operator</span> spec(-d,<a class="code" href="plain__paths_8asy.html#a15c0c9ba2c5455f738cf3b61b2a7ca7a">JOIN_OUT</a>);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>.Curl) G=G..<span class="keyword">operator</span> curl(<a class="code" href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a>.gamma,<a class="code" href="plain__paths_8asy.html#a15c0c9ba2c5455f738cf3b61b2a7ca7a">JOIN_OUT</a>);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <a class="code" href="structdir.html">dir</a> <a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.out[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>-1];</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        triple d=<a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>.dir;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <span class="keywordflow">if</span>(d != <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) G=G..<span class="keyword">operator</span> spec(-d,<a class="code" href="plain__paths_8asy.html#a29f3290dba7bdab656247caf00912fa0">JOIN_IN</a>);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>.Curl) G=G..<span class="keyword">operator</span> curl(<a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>.gamma,<a class="code" href="plain__paths_8asy.html#a29f3290dba7bdab656247caf00912fa0">JOIN_IN</a>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      }</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    }</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>) G=G..cycle;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordflow">else</span> G=G..<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.nodes[0];</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <span class="keywordflow">return</span> G;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;}</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"><a class="line" href="three_8asy.html#a14115539b3ae645388882263ac121c0d"> 1795</a></span>&#160;triple <a class="code" href="three_8asy.html#a14115539b3ae645388882263ac121c0d">intersectionpoint</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> q, real <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>=-1)</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;{</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  real[] <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="namespacecamp.html#a6bdec53fb58110affa080e4ea118fa33">intersect</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,q,<a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>.length == 0) abort(<span class="stringliteral">&quot;paths do not intersect&quot;</span>);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0]);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;}</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="comment">// return an array containing all intersection points of p and q</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"><a class="line" href="three_8asy.html#aaeb67a7f2cd94af42e796ba1f9b8f695"> 1803</a></span>&#160;triple[] <a class="code" href="three_8asy.html#aaeb67a7f2cd94af42e796ba1f9b8f695">intersectionpoints</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> q, real <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>=-1)</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;{</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  real[][] <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="namespacecamp.html#ae1d5c613fcf5ad3521d28f8d1cb0222a">intersections</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,q,<a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>][0]);},<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>.length);</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;}</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"><a class="line" href="three_8asy.html#ac1fa3c15ac4dd3f606fa6b2177e92c6e"> 1809</a></span>&#160;triple[] <a class="code" href="three_8asy.html#aaeb67a7f2cd94af42e796ba1f9b8f695">intersectionpoints</a>(<span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] q,</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                            real <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>=-1)</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;{</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  triple[] <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j &lt; q.length; ++j)</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.append(<a class="code" href="three_8asy.html#aaeb67a7f2cd94af42e796ba1f9b8f695">intersectionpoints</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],q[j],<a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>));</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;}</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"><a class="line" href="three_8asy.html#ac307300085cd370c404b1146f7aa1fc8"> 1819</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#ac307300085cd370c404b1146f7aa1fc8">operator &amp;</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#aa3af8e82ca47a26dec6d81832c8902a9">cycleToken</a> tok)</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;{</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a> &lt; 0) <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a75d2f2705b4385496c485a426f00e951">nullpath3</a>;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  triple <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>=<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  triple <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>=<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <span class="keywordflow">return</span> subpath(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1)..controls postcontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>-1) and precontrol(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>)..</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    cycle;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;}</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160; </div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="comment">// return the point on path3 p at arclength L</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;triple <a class="code" href="three_8asy.html#ab0f5597ac205bcf2d72b9ffd5d637878">arcpoint</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>)</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;{</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,arctime(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>));</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;}</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment">// return the point on path3 p at arclength L</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;triple <a class="code" href="three_8asy.html#ab0f5597ac205bcf2d72b9ffd5d637878">arcpoint</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;{</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,arctime(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>));</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;}</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="comment">// return the direction on path3 p at arclength L</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;triple <a class="code" href="three_8asy.html#a7e1007889e40156a69a3b7607a70d088">arcdir</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>)</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;{</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,arctime(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>));</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;}</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="comment">// return the time on path3 p at the relative fraction l of its arclength</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;real <a class="code" href="three_8asy.html#a7544c5a4bf80c17933edaf85405afe29">reltime</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>)</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;{</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="keywordflow">return</span> arctime(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>*<a class="code" href="geometry_8asy.html#aa817eabbb6083e36d0bdd6f479200f94">arclength</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>));</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;}</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160; </div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="comment">// return the point on path3 p at the relative fraction l of its arclength</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;triple <a class="code" href="three_8asy.html#a54d7798bd1a01f70ef1b03cd08c35865">relpoint</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>)</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;{</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#a7544c5a4bf80c17933edaf85405afe29">reltime</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>));</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;}</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160; </div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="comment">// return the direction of path3 p at the relative fraction l of its arclength</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;triple <a class="code" href="three_8asy.html#a7f0b1b65a9e3ab048823394b8b217aa6">reldir</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, real <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>)</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;{</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#a7544c5a4bf80c17933edaf85405afe29">reltime</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>));</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;}</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="comment">// return the point on path3 p at half of its arclength</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;triple <a class="code" href="three_8asy.html#af0a343e370ab3aeb7ab3b361e4fa2b86">midpoint</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;{</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a54d7798bd1a01f70ef1b03cd08c35865">relpoint</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,0.5);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;}</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160; </div>
<div class="line"><a name="l01871"></a><span class="lineno"><a class="line" href="three_8asy.html#acdc3f8c4a383bb898f470a07aa4ffac8"> 1871</a></span>&#160;real <a class="code" href="three_8asy.html#acdc3f8c4a383bb898f470a07aa4ffac8">relative</a>(<a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;{</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#a8c7813f1aafa9071690baf84daa8534f">position</a>.<a class="code" href="classposition.html#a1aa257770e698e8f3e96c48d90ab000d">relative</a> ? <a class="code" href="three_8asy.html#a7544c5a4bf80c17933edaf85405afe29">reltime</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#ada063583d7c8bb0a2c452d56db04b46d">relative</a>()) : <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#ada063583d7c8bb0a2c452d56db04b46d">relative</a>();</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;}</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160; </div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;<span class="comment">// return the linear transformation that maps X,Y,Z to u,v,w.</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"><a class="line" href="three_8asy.html#a8edb93cfa0336957de8a62f1563f2201"> 1877</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a8edb93cfa0336957de8a62f1563f2201">transform3</a>(triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>, triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, triple w=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>))</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;{</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> real[][] {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    {<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.x,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x,w.x,0},</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      {<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.y,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y,w.y,0},</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        {<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.z,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z,w.z,0},</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;          {0,0,0,1}</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  };</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;}</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160; </div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment">// return the rotation that maps Z to a unit vector u about cross(u,Z),</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"><a class="line" href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b"> 1888</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b">align</a>(triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>)</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;{</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  real <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>=<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.x;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  real <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>=<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.y;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  real <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>=<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.z;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  real d=<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>^2+<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>^2;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160; </div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <span class="keywordflow">if</span>(d != 0) {</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    d=sqrt(d);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    real <a class="code" href="geometry_8asy.html#aa7453a2639087da385aa95fdcdd725f4">e</a>=1/d;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> real[][] {</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      {-<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>*<a class="code" href="geometry_8asy.html#aa7453a2639087da385aa95fdcdd725f4">e</a>,-<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>*<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>*<a class="code" href="geometry_8asy.html#aa7453a2639087da385aa95fdcdd725f4">e</a>,<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>,0},</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        {<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>*<a class="code" href="geometry_8asy.html#aa7453a2639087da385aa95fdcdd725f4">e</a>,-<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>*<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>*<a class="code" href="geometry_8asy.html#aa7453a2639087da385aa95fdcdd725f4">e</a>,<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,0},</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;          {0,d,<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,0},</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            {0,0,0,1}};</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  }</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a> &gt;= 0 ? <a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4) : <a class="code" href="namespacerun.html#a04db2657ff9f4483f0a68c9d55b90df6">diagonal</a>(1,-1,-1,1);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;}</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;<span class="comment">// Align Label with normal in direction dir.</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"><a class="line" href="three_8asy.html#aec19f6ae26469e2997aeda7f89a0b5d1"> 1908</a></span>&#160;<a class="code" href="structLabel.html">Label</a> <a class="code" href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b">align</a>(<a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>, triple <a class="code" href="structdir.html">dir</a>)</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;{</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#ad0913c276d76cdf5f92925aca91467e3">copy</a>();</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#adf1cb1138992fb5d2af206ffe6b3c6ca">transform3</a>(<a class="code" href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b">align</a>(<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="structdir.html">dir</a>)));</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;}</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160; </div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="comment">// return a rotation that maps X,Y to the projection plane.</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"><a class="line" href="three_8asy.html#a927474f43f457088be75e6fbc37fd913"> 1916</a></span>&#160;<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a8edb93cfa0336957de8a62f1563f2201">transform3</a>(<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;{</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  triple w=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.normal);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#aa8391140ca5c4a284e82dfe80866854b">perp</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.up,w));</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a> == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="three_8asy.html#aa8391140ca5c4a284e82dfe80866854b">perp</a>(w),w);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,w);</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a> != <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a> ? <a class="code" href="three_8asy.html#a8edb93cfa0336957de8a62f1563f2201">transform3</a>(<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,w) : <a class="code" href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a>(4);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;}</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160; </div>
<div class="line"><a name="l01925"></a><span class="lineno"><a class="line" href="three_8asy.html#addb7f38fef828c454e9e04e8c3a06bae"> 1925</a></span>&#160;triple[] <a class="code" href="three_8asy.html#addb7f38fef828c454e9e04e8c3a06bae">triples</a>(real[] <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>, real[] <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>, real[] <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>)</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;{</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.length != <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>.length || <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.length != <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>.length)</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    abort(<span class="stringliteral">&quot;arrays have different lengths&quot;</span>);</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> (<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);},<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>.length);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;}</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;{</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] {<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>};</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;}</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <span class="keyword">operator</span> <a class="code" href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">cast</a>(<a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;{</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] {(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>) <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>};</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;}</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160; </div>
<div class="line"><a name="l01942"></a><span class="lineno"><a class="line" href="three_8asy.html#a3033fa652ae41fb2c96eaa236541554a"> 1942</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="three_8asy.html#a3033fa652ae41fb2c96eaa236541554a">operator ^^ </a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>  q)</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;{</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] {<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,q};</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;}</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160; </div>
<div class="line"><a name="l01947"></a><span class="lineno"><a class="line" href="three_8asy.html#ab77ba704a03ef47091884f0360589551"> 1947</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="three_8asy.html#a3033fa652ae41fb2c96eaa236541554a">operator ^^ </a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] q)</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;{</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecamp.html#a6cea9ce3d47a44ad6bb2f5fd64688c49">concat</a>(<span class="keyword">new</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] {<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>},q);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;}</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160; </div>
<div class="line"><a name="l01952"></a><span class="lineno"><a class="line" href="three_8asy.html#a75d441d21d76b313c784039011cb4121"> 1952</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="three_8asy.html#a3033fa652ae41fb2c96eaa236541554a">operator ^^ </a>(<span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> q)</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;{</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecamp.html#a6cea9ce3d47a44ad6bb2f5fd64688c49">concat</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<span class="keyword">new</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] {q});</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;}</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"><a class="line" href="three_8asy.html#a218785ebff6c27a35bb98a904ff95193"> 1957</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="three_8asy.html#a3033fa652ae41fb2c96eaa236541554a">operator ^^ </a>(<span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] q)</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;{</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacecamp.html#a6cea9ce3d47a44ad6bb2f5fd64688c49">concat</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,q);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;}</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160; </div>
<div class="line"><a name="l01962"></a><span class="lineno"><a class="line" href="three_8asy.html#a1859c1c52d472a09147a2a976835a545"> 1962</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="three_8asy.html#a099e62b7b7b192d4ff2cacc77195d025">operator * </a>(<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;{</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];},<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>.length);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;}</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160; </div>
<div class="line"><a name="l01967"></a><span class="lineno"><a class="line" href="three_8asy.html#a3d0d948acd0161a52ef11c69512dd942"> 1967</a></span>&#160;triple[] <a class="code" href="three_8asy.html#a099e62b7b7b192d4ff2cacc77195d025">operator * </a>(<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, triple[] <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;{</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];},<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.length);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;}</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01972"></a><span class="lineno"><a class="line" href="three_8asy.html#ac8c1da2cd33d6e869e0cf9ea145ada13"> 1972</a></span>&#160;triple[][] <a class="code" href="three_8asy.html#a099e62b7b7b192d4ff2cacc77195d025">operator * </a>(<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, triple[][] <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;{</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  triple[][] <a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>=<span class="keyword">new</span> triple[<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.length][];</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    triple[] vi=<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a>(<span class="keyword">new</span> triple(<span class="keywordtype">int</span> j) {<span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*vi[j];},vi.length);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  }</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a>;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;}</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160; </div>
<div class="line"><a name="l01982"></a><span class="lineno"><a class="line" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955"> 1982</a></span>&#160;triple <a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;{</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <a class="code" href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">checkEmpty</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>.length);</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  triple minp=<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>[0]);</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=1; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    minp=<a class="code" href="three__surface_8asy.html#a025286b0b6b4704800487c9f7215eab1">minbound</a>(minp,<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]));</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="keywordflow">return</span> minp;</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;}</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160; </div>
<div class="line"><a name="l01991"></a><span class="lineno"><a class="line" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74"> 1991</a></span>&#160;triple <a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(<span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;{</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <a class="code" href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">checkEmpty</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>.length);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  triple maxp=<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>[0]);</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=1; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    maxp=<a class="code" href="three__surface_8asy.html#a0ed578f475a0bfa13e11cd4dd92a4ca0">maxbound</a>(maxp,<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]));</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  <span class="keywordflow">return</span> maxp;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;}</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160; </div>
<div class="line"><a name="l02000"></a><span class="lineno"><a class="line" href="three_8asy.html#a7eb97ec7b8f3f5b25a30d316ba644370"> 2000</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#a7eb97ec7b8f3f5b25a30d316ba644370">randompath3</a>(<span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>, <span class="keywordtype">bool</span> cumulate=<span class="keyword">true</span>, <a class="code" href="three_8asy.html#acdbdfdb61b81df401112a469975b36b0">interpolate3</a> <a class="code" href="namespacecamp.html#a4ff83fe5f0ff1fec037d95decab27370">join</a>=<span class="keyword">operator</span> ..)</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;{</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <a class="code" href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  triple w;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt;= <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    triple <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>=(unitrand()-0.5,unitrand()-0.5,unitrand()-0.5);</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <span class="keywordflow">if</span>(cumulate) w += <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordflow">else</span> w=<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="namespacecamp.html#a4ff83fe5f0ff1fec037d95decab27370">join</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,w);</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;}</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160; </div>
<div class="line"><a name="l02013"></a><span class="lineno"><a class="line" href="three_8asy.html#a256afafa04029ab8a3404748278b1497"> 2013</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="three_8asy.html#a256afafa04029ab8a3404748278b1497">box</a>(triple v1, triple v2)</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;{</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="keywordflow">return</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    (v1.x,v1.y,v1.z)--</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    (v1.x,v1.y,v2.z)--</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    (v1.x,v2.y,v2.z)--</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    (v1.x,v2.y,v1.z)--</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    (v1.x,v1.y,v1.z)--</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    (v2.x,v1.y,v1.z)--</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    (v2.x,v1.y,v2.z)--</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    (v2.x,v2.y,v2.z)--</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    (v2.x,v2.y,v1.z)--</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    (v2.x,v1.y,v1.z)^^</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    (v2.x,v2.y,v1.z)--</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    (v1.x,v2.y,v1.z)^^</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    (v1.x,v2.y,v2.z)--</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    (v2.x,v2.y,v2.z)^^</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    (v2.x,v1.y,v2.z)--</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    (v1.x,v1.y,v2.z);</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;}</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"><a class="line" href="three_8asy.html#a677294a0c989ca3914ac6cc53e057ece"> 2034</a></span>&#160;restricted <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="three_8asy.html#a677294a0c989ca3914ac6cc53e057ece">unitbox</a>=<a class="code" href="three_8asy.html#a256afafa04029ab8a3404748278b1497">box</a>(<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,(1,1,1));</div>
<div class="line"><a name="l02035"></a><span class="lineno"><a class="line" href="three_8asy.html#a913dc3e38c21b4228f214a1c31a08e24"> 2035</a></span>&#160;restricted <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#a913dc3e38c21b4228f214a1c31a08e24">unitcircle3</a>=<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>..<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>..-<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>..-<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>..cycle;</div>
<div class="line"><a name="l02036"></a><span class="lineno"><a class="line" href="three_8asy.html#aaa04d5b69d813bdbe247e1abaeeb0d35"> 2036</a></span>&#160;restricted <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#aaa04d5b69d813bdbe247e1abaeeb0d35">unitsquare3</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>--<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>--<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>+<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>--<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>--cycle;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160; </div>
<div class="line"><a name="l02038"></a><span class="lineno"><a class="line" href="three_8asy.html#a962408c5b996cd5c17e1a6f155257f1e"> 2038</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#a962408c5b996cd5c17e1a6f155257f1e">circle</a>(triple c, real <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>, triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>)</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;{</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a> == <a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a> ? <a class="code" href="three_8asy.html#a913dc3e38c21b4228f214a1c31a08e24">unitcircle3</a> : <a class="code" href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b">align</a>(<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>))*<a class="code" href="three_8asy.html#a913dc3e38c21b4228f214a1c31a08e24">unitcircle3</a>;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>)*<a class="code" href="plain__picture_8asy.html#a267db2b09aa4be24aaaaaf612dc366e2">scale3</a>(<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>)*<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>;</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;}</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160; </div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="comment">// return an arc centered at c from triple v1 to v2 (assuming |v2-c|=|v1-c|),</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="comment">// drawing in the given direction.</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="comment">// The normal must be explicitly specified if c and the endpoints are colinear.</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"><a class="line" href="three_8asy.html#a4f26e29e600bb06ebda28216e975dcd1"> 2047</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#a4f26e29e600bb06ebda28216e975dcd1">arc</a>(triple c, triple v1, triple v2, triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>, <span class="keywordtype">bool</span> <a class="code" href="geometry_8asy.html#a89d98e267476d74d3dea65f84ddd830a">direction</a>=<a class="code" href="plain__arcs_8asy.html#a4fac6bf69171728dec65aa3e5595090a">CCW</a>)</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;{</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  v1 -= <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  real <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>=<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(v1);</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  v1=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(v1);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  v2=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(v2-<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160; </div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a> == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) {</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(v1,v2);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a> == <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>) abort(<span class="stringliteral">&quot;explicit normal required for these endpoints&quot;</span>);</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  }</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160; </div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#a32c8ff06e7206680a924b3ba4f80b5a2">T</a>;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structalign.html">align</a>=<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a> != <a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structalign.html">align</a>) {</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <a class="code" href="structevaluatedpoint.html">T</a>=<a class="code" href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b">align</a>(<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>));</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> Tinv=transpose(<a class="code" href="structevaluatedpoint.html">T</a>);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    v1=Tinv*v1;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    v2=Tinv*v2;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  }</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="keywordtype">string</span> invalidnormal=<span class="stringliteral">&quot;invalid normal vector&quot;</span>;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  real <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>=<a class="code" href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a>;</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(v1.z) &gt; <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a> || <a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(v2.z) &gt; <a class="code" href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a>)</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    abort(invalidnormal);</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160; </div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  real[] <a class="code" href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a>=<a class="code" href="namespacecamp.html#a6bdec53fb58110affa080e4ea118fa33">intersect</a>(<a class="code" href="three_8asy.html#a913dc3e38c21b4228f214a1c31a08e24">unitcircle3</a>,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>--2*(v1.x,v1.y,0));</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  real[] <a class="code" href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a>=<a class="code" href="namespacecamp.html#a6bdec53fb58110affa080e4ea118fa33">intersect</a>(<a class="code" href="three_8asy.html#a913dc3e38c21b4228f214a1c31a08e24">unitcircle3</a>,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>--2*(v2.x,v2.y,0));</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160; </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a>.length == 0 || <a class="code" href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a>.length == 0)</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    abort(invalidnormal);</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  real <a class="code" href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a>=<a class="code" href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a>[0];</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  real <a class="code" href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a>=<a class="code" href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a>[0];</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="three_8asy.html#a913dc3e38c21b4228f214a1c31a08e24">unitcircle3</a>);</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#a89d98e267476d74d3dea65f84ddd830a">direction</a>) {</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a> &gt;= <a class="code" href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a>) <a class="code" href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a> -= <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a> &gt;= <a class="code" href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a>) <a class="code" href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a> -= <a class="code" href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a>;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160; </div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=subpath(<a class="code" href="three_8asy.html#a913dc3e38c21b4228f214a1c31a08e24">unitcircle3</a>,<a class="code" href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a>,<a class="code" href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a>);</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="structalign.html">align</a>) <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=<a class="code" href="structevaluatedpoint.html">T</a>*<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>)*<a class="code" href="plain__picture_8asy.html#a267db2b09aa4be24aaaaaf612dc366e2">scale3</a>(<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>)*<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;}</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160; </div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;<span class="comment">// return an arc centered at c with radius r from c+r*dir(theta1,phi1) to</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;<span class="comment">// c+r*dir(theta2,phi2) in degrees, drawing in the given direction</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="comment">// relative to the normal vector cross(dir(theta1,phi1),dir(theta2,phi2)).</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="comment">// The normal must be explicitly specified if c and the endpoints are colinear.</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"><a class="line" href="three_8asy.html#a784284d212961eed0c17f88c39261f49"> 2095</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#a4f26e29e600bb06ebda28216e975dcd1">arc</a>(triple c, real <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>, real theta1, real <a class="code" href="ode_8asy.html#a0dfa4a68ae1c7e2ee041fbcd931ffb9f">phi1</a>, real theta2, real <a class="code" href="ode_8asy.html#a32d03438a4c24b3735c7ba9fbefea0d7">phi2</a>,</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;          triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>, <span class="keywordtype">bool</span> <a class="code" href="geometry_8asy.html#a89d98e267476d74d3dea65f84ddd830a">direction</a>)</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;{</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a4f26e29e600bb06ebda28216e975dcd1">arc</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>+<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>*<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(theta1,<a class="code" href="ode_8asy.html#a0dfa4a68ae1c7e2ee041fbcd931ffb9f">phi1</a>),<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>+<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>*<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(theta2,<a class="code" href="ode_8asy.html#a32d03438a4c24b3735c7ba9fbefea0d7">phi2</a>),<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>,<a class="code" href="geometry_8asy.html#a89d98e267476d74d3dea65f84ddd830a">direction</a>);</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;}</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160; </div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="comment">// return an arc centered at c with radius r from c+r*dir(theta1,phi1) to</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;<span class="comment">// c+r*dir(theta2,phi2) in degrees, drawing drawing counterclockwise</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;<span class="comment">// relative to the normal vector cross(dir(theta1,phi1),dir(theta2,phi2))</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="comment">// iff theta2 &gt; theta1 or (theta2 == theta1 and phi2 &gt;= phi1).</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;<span class="comment">// The normal must be explicitly specified if c and the endpoints are colinear.</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"><a class="line" href="three_8asy.html#a03d207a9acf09771566ec34d95182075"> 2106</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#a4f26e29e600bb06ebda28216e975dcd1">arc</a>(triple c, real <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>, real theta1, real <a class="code" href="ode_8asy.html#a0dfa4a68ae1c7e2ee041fbcd931ffb9f">phi1</a>, real theta2, real <a class="code" href="ode_8asy.html#a32d03438a4c24b3735c7ba9fbefea0d7">phi2</a>,</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;          triple <a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>)</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;{</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a4f26e29e600bb06ebda28216e975dcd1">arc</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>,theta1,<a class="code" href="ode_8asy.html#a0dfa4a68ae1c7e2ee041fbcd931ffb9f">phi1</a>,theta2,<a class="code" href="ode_8asy.html#a32d03438a4c24b3735c7ba9fbefea0d7">phi2</a>,<a class="code" href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a>,</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;             theta2 &gt; theta1 || (theta2 == theta1 &amp;&amp; <a class="code" href="ode_8asy.html#a32d03438a4c24b3735c7ba9fbefea0d7">phi2</a> &gt;= <a class="code" href="ode_8asy.html#a0dfa4a68ae1c7e2ee041fbcd931ffb9f">phi1</a>) ? <a class="code" href="plain__arcs_8asy.html#a4fac6bf69171728dec65aa3e5595090a">CCW</a> : <a class="code" href="plain__arcs_8asy.html#a5cf118cc2b3d46d765f936c571953f58">CW</a>);</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;}</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160; </div>
<div class="line"><a name="l02113"></a><span class="lineno"><a class="line" href="three_8asy.html#ab6a0d1b55976bbde7f5970a7f7bbcf06"> 2113</a></span>&#160;<span class="keyword">private</span> real <a class="code" href="three_8asy.html#ab6a0d1b55976bbde7f5970a7f7bbcf06">epsilon</a>=1000*realEpsilon;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160; </div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="comment">// Return a representation of the plane through point O with normal cross(u,v).</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"><a class="line" href="three_8asy.html#a3d6f87cb9e824ea635a87787ab0a3e73"> 2116</a></span>&#160;<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="three_8asy.html#a3d6f87cb9e824ea635a87787ab0a3e73">plane</a>(triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>, triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, triple <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>)</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;{</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>--<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>+<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>--<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>+<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>+<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>--<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>+<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>--cycle;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;}</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160; </div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<span class="comment">// PRC/OpenGL support</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"><a class="line" href="three_8asy.html#ac59632327e55aad0db2f48cec1040e09"> 2123</a></span>&#160;include <a class="code" href="three_8asy.html#ac59632327e55aad0db2f48cec1040e09">three_light</a>;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160; </div>
<div class="line"><a name="l02125"></a><span class="lineno"><a class="line" href="three_8asy.html#a435b79a5c1d0a5491402fc28a8a685a7"> 2125</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <a class="code" href="structmaterial.html">material</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=currentpen, <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="three__light_8asy.html#a49d15a9c975d2bbe359ede05c0620335">nolight</a>,</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;          <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender,</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;          <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"><a class="line" href="three_8asy.html#a8db08c7cbf0ffd31111ddd510d603142"> 2129</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a8db08c7cbf0ffd31111ddd510d603142">begingroup3</a>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender)</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;{</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  _begingroup3(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>,<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#aae585969b3a072887a2d16d8fb960705">compression</a>,<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#adb1274ce52a0ae100b141b1f3eb85839">granularity</a>,<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#aef18ed23f6452bff96d792943b4dd8a3">closed</a>,</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;               <a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#ae8b60262da9a14f7f86cda727f4fe360">tessellate</a>,<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#add912c17887eece946eea8895f0104b1">merge</a> == <span class="keyword">false</span>,</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;               <a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#add912c17887eece946eea8895f0104b1">merge</a> == <span class="keyword">true</span>,<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#a7a59966bb9224345d729b9011d5da2de">interaction</a>.<a class="code" href="structinteraction.html#a666aa8997c9b1375f0c676d69be0608b">center</a>,<a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#a7a59966bb9224345d729b9011d5da2de">interaction</a>.<a class="code" href="structinteraction.html#a72ef8e8630dc115d0969afb1bb0c833a">type</a>);</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;}</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160; </div>
<div class="line"><a name="l02136"></a><span class="lineno"><a class="line" href="three_8asy.html#acf3a8d8fcfabcd1a1a18b9135e80930a"> 2136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a8db08c7cbf0ffd31111ddd510d603142">begingroup3</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;                 <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender)</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;{</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a0fa3f33515d5c46dcb9102c6f183cee7">add</a>(<span class="keyword">new</span> <span class="keywordtype">void</span>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a>, <a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>) {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>())</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="three_8asy.html#a8db08c7cbf0ffd31111ddd510d603142">begingroup3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>,<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        <a class="code" href="plain__picture_8asy.html#ab5eb312cb87a2207aeaf491238ae5a20">begingroup</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>);</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    },<span class="keyword">true</span>);</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;}</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160; </div>
<div class="line"><a name="l02147"></a><span class="lineno"><a class="line" href="three_8asy.html#a4a09807bd2a92e73e6b78bbf4320b4ff"> 2147</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a4a09807bd2a92e73e6b78bbf4320b4ff">endgroup3</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>)</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;{</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a0fa3f33515d5c46dcb9102c6f183cee7">add</a>(<span class="keyword">new</span> <span class="keywordtype">void</span>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a>, <a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>) {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>())</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        <a class="code" href="three_8asy.html#a4a09807bd2a92e73e6b78bbf4320b4ff">endgroup3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        <a class="code" href="plain__picture_8asy.html#ac05cdc07758674a77a99072d5ba778f1">endgroup</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>);</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    },<span class="keyword">true</span>);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;}</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160; </div>
<div class="line"><a name="l02157"></a><span class="lineno"><a class="line" href="three_8asy.html#aefad8d38db827b74d78363f4fd681cc2"> 2157</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#aefad8d38db827b74d78363f4fd681cc2">addPath</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, pen <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>)</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;{</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a1e85b1619007224764c10dce3b590fe6">size</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>) &gt; 0)</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#ab4f1a6fea69a753feb07619a8d111584">addBox</a>(<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>),<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>),<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>),<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>));</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;}</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160; </div>
<div class="line"><a name="l02163"></a><span class="lineno"><a class="line" href="three_8asy.html#a25547c00657626c0263c90cab1c21cf7"> 2163</a></span>&#160;include <a class="code" href="three_8asy.html#a25547c00657626c0263c90cab1c21cf7">three_surface</a>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"><a class="line" href="three_8asy.html#aea16aaa21631609c1951dc27d2152a89"> 2164</a></span>&#160;include <a class="code" href="three_8asy.html#aea16aaa21631609c1951dc27d2152a89">three_margins</a>;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"><a class="line" href="three_8asy.html#af53e5a1d4fa3985aa3d88349c914d12a"> 2166</a></span>&#160;pair <a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;{</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> q=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.T.modelview*<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity)</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a640339e027bb365c02f39859f3e3cb16">xypart</a>(<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(q));</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <span class="keywordflow">return</span> maxratio(q)/<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.T.projection[3][2];</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;}</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160; </div>
<div class="line"><a name="l02174"></a><span class="lineno"><a class="line" href="three_8asy.html#aa87ee568e13b8c094f58896e9bb1e440"> 2174</a></span>&#160;pair <a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;{</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> q=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.T.modelview*<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity)</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a640339e027bb365c02f39859f3e3cb16">xypart</a>(<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(q));</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="keywordflow">return</span> minratio(q)/<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.T.projection[3][2];</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;}</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"><a class="line" href="three_8asy.html#aed6c99b9f097ae7522f752a0f9803b24"> 2182</a></span>&#160;pair <a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;{</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  frame <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.T.modelview*<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity)</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a640339e027bb365c02f39859f3e3cb16">xypart</a>(<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>));</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <span class="keywordflow">return</span> maxratio(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)/<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.T.projection[3][2];</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;}</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160; </div>
<div class="line"><a name="l02190"></a><span class="lineno"><a class="line" href="three_8asy.html#a4a6f7172f0eee7b344f73b2b2a3d09ba"> 2190</a></span>&#160;pair <a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;{</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  frame <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.T.modelview*<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity)</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a640339e027bb365c02f39859f3e3cb16">xypart</a>(<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>));</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="keywordflow">return</span> minratio(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)/<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.T.projection[3][2];</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;}</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160; </div>
<div class="line"><a name="l02198"></a><span class="lineno"><a class="line" href="three_8asy.html#a14ecc07873b0852711bb5ae190c70d0e"> 2198</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, <a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;          <a class="code" href="structalign.html">align</a> <a class="code" href="structalign.html">align</a>=<a class="code" href="plain__Label_8asy.html#a7fe550b2d7b062be66027ef9e14d840f">NoAlign</a>, <a class="code" href="structmaterial.html">material</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=currentpen, <a class="code" href="three__margins_8asy.html#a8e17a18a2fd6374b183837dd4da5e64a">margin3</a> <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=<a class="code" href="three__margins_8asy.html#afeb7d1eefe0ea30f91c3995adcd5a44b">NoMargin3</a>,</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;          <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="three__light_8asy.html#a49d15a9c975d2bbe359ede05c0620335">nolight</a>, <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;          <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender)</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;{</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  pen q=(pen) <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a0fa3f33515d5c46dcb9102c6f183cee7">add</a>(<span class="keyword">new</span> <span class="keywordtype">void</span>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, <a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>) {</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> G=<a class="code" href="three_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,q).g;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>()) {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,G,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="structlight.html">light</a>,<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>,<a class="code" href="structrender.html">render</a>,<span class="keyword">null</span>);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a> != <span class="keyword">null</span> &amp;&amp; <a class="code" href="three_8asy.html#a1e85b1619007224764c10dce3b590fe6">size</a>(G) &gt; 0)</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;          <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#ab4f1a6fea69a753feb07619a8d111584">addBox</a>(<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(G,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>),<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(G,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>),<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(q),<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(q));</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;      }</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a> != <span class="keyword">null</span>)</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(G,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>),q);</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    },<span class="keyword">true</span>);</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  <a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#ad0913c276d76cdf5f92925aca91467e3">copy</a>();</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#ab80fc51d1c8931f9319f1c6f30f9bcbb">align</a>(<a class="code" href="structalign.html">align</a>);</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#af85b6fc2d689ced623d9a8a9672e26dd">s</a> != <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#aa7df593b41ac1e28f793b684092ac62c">p</a>(q);</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  }</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <a class="code" href="three_8asy.html#aefad8d38db827b74d78363f4fd681cc2">addPath</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,q);</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;}</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160; </div>
<div class="line"><a name="l02223"></a><span class="lineno"><a class="line" href="three_8asy.html#a2e6a6df0f0d9e4b288f05d84916f9a14"> 2223</a></span>&#160;include <a class="code" href="three_8asy.html#a2e6a6df0f0d9e4b288f05d84916f9a14">three_tube</a>;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160; </div>
<div class="line"><a name="l02225"></a><span class="lineno"><a class="line" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b"> 2225</a></span>&#160;<a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>=<span class="keyword">new</span> void(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <a class="code" href="structmaterial.html">material</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=currentpen,</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;              <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="three__light_8asy.html#a49d15a9c975d2bbe359ede05c0620335">nolight</a>, <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;              <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender,</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;              <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>) {</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  pen q=(pen) <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>()) {</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    real <a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a>=linewidth(q);</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="keywordtype">void</span> drawthick(<a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>) {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="namespacesettings.html">settings</a>.thick &amp;&amp; <a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a> &gt; 0) {</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>=<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>();</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="structprimitive.html">primitive</a>=<a class="code" href="three__surface_8asy.html#a4133aae837366539aea64e158fbc93c8">primitive</a>();</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;        real linecap=linecap(q);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        real <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>=0.5*<a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a>;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <span class="keywordtype">bool</span> open=!<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>);</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        triple g0=<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,0);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        triple gL=<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;        <span class="keywordflow">if</span>(open &amp;&amp; <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a> &gt; 0) {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;          <span class="keywordflow">if</span>(linecap == 2) {</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            g0 -= <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>*<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,0);</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;            gL += <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>*<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>);</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;            <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>=g0..<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>..gL;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;            <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a> += 2;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;          }</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;        }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;        <a class="code" href="structtube.html">tube</a> <a class="code" href="structevaluatedpoint.html">T</a>=<a class="code" href="three__tube_8asy.html#ad1e8ff0e642e5add0af43ecf1a10e7eb">tube</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a>);</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>=<a class="code" href="structevaluatedpoint.html">T</a>.center;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a> &gt;= 0) {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;          <span class="keywordflow">if</span>(open) {</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;            <span class="keywordtype">int</span> Lc=<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>);</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;            triple <a class="code" href="three_8asy.html#acc0eefc6522d8ba0d19cad5b3d09c7aa">c0</a>=<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,0);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;            triple cL=<a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,Lc);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;            triple dir0=<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,0);</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;            triple dirL=<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;            triple dirc0=<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,0);</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;            triple dircL=<a class="code" href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,Lc);</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;            <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> t0=<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(g0)*<a class="code" href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b">align</a>(-dir0);</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;            <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> tL=<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(gL)*<a class="code" href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b">align</a>(dirL);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;            <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> tc0=<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(<a class="code" href="three_8asy.html#acc0eefc6522d8ba0d19cad5b3d09c7aa">c0</a>)*<a class="code" href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b">align</a>(-dirc0);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;            <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> tcL=<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(cL)*<a class="code" href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b">align</a>(dircL);</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;            <span class="keywordflow">if</span>(linecap == 0 || linecap == 2) {</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;              <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> scale2r=<a class="code" href="three_8asy.html#aa7b19ad43ffd9deb52d9eb4055c651bb">scale</a>(<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>,<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>,1);</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;              <a class="code" href="structevaluatedpoint.html">T</a>.s.push(t0*scale2r*<a class="code" href="three__surface_8asy.html#a0241d0beaf4ca15e19512a50f636827e">unitdisk</a>);</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;              <span class="keywordflow">if</span>(<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a> &gt; 0) {</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;                <a class="code" href="structevaluatedpoint.html">T</a>.s.push(tL*scale2r*<a class="code" href="three__surface_8asy.html#a0241d0beaf4ca15e19512a50f636827e">unitdisk</a>);</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;              }</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(linecap == 1) {</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;              <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> scale3r=<a class="code" href="plain__picture_8asy.html#a267db2b09aa4be24aaaaaf612dc366e2">scale3</a>(<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>);</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;              <a class="code" href="structevaluatedpoint.html">T</a>.s.push(t0*scale3r*(<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,0) ?</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                                   <a class="code" href="three__surface_8asy.html#ac475324f2bf6bc3d55f274d8c3d6b10c">unithemisphere</a> : <a class="code" href="three__surface_8asy.html#a4cb85b10fd0d693de4231ceee493f061">unitsphere</a>));</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;              <span class="keywordflow">if</span>(<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a> &gt; 0)</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;                <a class="code" href="structevaluatedpoint.html">T</a>.s.push(tL*scale3r*(<a class="code" href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a>(<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,Lc-1) ?</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;                                     <a class="code" href="three__surface_8asy.html#ac475324f2bf6bc3d55f274d8c3d6b10c">unithemisphere</a> : <a class="code" href="three__surface_8asy.html#a4cb85b10fd0d693de4231ceee493f061">unitsphere</a>));</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;            }</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;          }</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<span class="comment">// Draw central core for better small-scale rendering.</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;          <span class="keywordflow">if</span>((!<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a> || piecewisestraight(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)) &amp;&amp; !<a class="code" href="structprimitive.html">primitive</a> &amp;&amp; <a class="code" href="three__light_8asy.html#a6311e5a20b46dec86fe654cd7a213cff">opacity</a>(q) == 1)</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;            <a class="code" href="plain__picture_8asy.html#a3a0c10bd46047b5d45389cccb62ad30a">_draw</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="structlight.html">light</a>);</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        }</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;        <span class="keywordflow">for</span>(<a class="code" href="contour3_8asy.html#a69f456f039e2ac3ea4aabc3c84d24c25">surface</a> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a> : <a class="code" href="structevaluatedpoint.html">T</a>.s)</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;          <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="structlight.html">light</a>,<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;      } <span class="keywordflow">else</span> <a class="code" href="plain__picture_8asy.html#a3a0c10bd46047b5d45389cccb62ad30a">_draw</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="structlight.html">light</a>);</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    }</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <span class="keywordtype">bool</span> group=q != <a class="code" href="plain__pens_8asy.html#aa7de851e50303c39134eb2750f771ea4">nullpen</a> &amp;&amp; (<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a> != <span class="stringliteral">&quot;&quot;</span> || <a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#a99770ae7aa9852966ff08ef38d4a8695">defaultnames</a>);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">if</span>(group)</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;      <a class="code" href="three_8asy.html#a8db08c7cbf0ffd31111ddd510d603142">begingroup3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a> == <span class="stringliteral">&quot;&quot;</span> ? <span class="stringliteral">&quot;curve&quot;</span> : <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>,<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="plain__pens_8asy.html#ac3928e0f86f6be623abb2d204663ee6d">linetype</a>(q).<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a> == 0) drawthick(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;      real[] dash=<a class="code" href="plain__pens_8asy.html#ac3928e0f86f6be623abb2d204663ee6d">linetype</a>(<a class="code" href="drawtree_8asy.html#a1d3ba62b9f0438cd4458fcf24825570a">adjust</a>(q,<a class="code" href="geometry_8asy.html#aa817eabbb6083e36d0bdd6f479200f94">arclength</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>),<a class="code" href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>)));</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;      <span class="keywordflow">if</span>(sum(dash) &gt; 0) {</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        dash.cyclic=<span class="keyword">true</span>;</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        real <a class="code" href="namespacevm.html#a881148bee2541d80a4987d8fa7876168">offset</a>=<a class="code" href="namespacevm.html#a881148bee2541d80a4987d8fa7876168">offset</a>(q);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        real <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<a class="code" href="geometry_8asy.html#aa817eabbb6083e36d0bdd6f479200f94">arclength</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>);</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        real <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>=<a class="code" href="namespacevm.html#a881148bee2541d80a4987d8fa7876168">offset</a>;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        <span class="keywordflow">while</span>(<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a> &lt;= <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>) {</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;          real <a class="code" href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a>=arctime(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>);</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;          <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a> += dash[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;          real <a class="code" href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a>=arctime(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>));</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;          drawthick(subpath(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a>,<a class="code" href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a>));</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;          ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;          <a class="code" href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a> += dash[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;          ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        }</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      }</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    }</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <span class="keywordflow">if</span>(group)</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;      <a class="code" href="three_8asy.html#a4a09807bd2a92e73e6b78bbf4320b4ff">endgroup3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  } <span class="keywordflow">else</span> <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>),q);</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;};</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160; </div>
<div class="line"><a name="l02316"></a><span class="lineno"><a class="line" href="three_8asy.html#a68f4856c818a85ad64860d2e0de353fd"> 2316</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <a class="code" href="structmaterial.html">material</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=currentpen,</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;          <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="three__light_8asy.html#a49d15a9c975d2bbe359ede05c0620335">nolight</a>, <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;          <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;{</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordtype">bool</span> group=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length &gt; 1 &amp;&amp; (<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a> != <span class="stringliteral">&quot;&quot;</span> || <a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#a99770ae7aa9852966ff08ef38d4a8695">defaultnames</a>);</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <span class="keywordflow">if</span>(group)</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <a class="code" href="three_8asy.html#a8db08c7cbf0ffd31111ddd510d603142">begingroup3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a> == <span class="stringliteral">&quot;&quot;</span> ? <span class="stringliteral">&quot;curves&quot;</span> : <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>,<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="structlight.html">light</a>,<a class="code" href="three_8asy.html#a183482bd3a0b727b4339dce71d714959">partname</a>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>,<a class="code" href="structrender.html">render</a>),<a class="code" href="structrender.html">render</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  <span class="keywordflow">if</span>(group)</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <a class="code" href="three_8asy.html#a4a09807bd2a92e73e6b78bbf4320b4ff">endgroup3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;}</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160; </div>
<div class="line"><a name="l02329"></a><span class="lineno"><a class="line" href="three_8asy.html#aa1964bc8ac1e134111dc5481c1805db3"> 2329</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, <span class="keyword">explicit</span> <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a>[] <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;          <a class="code" href="structmaterial.html">material</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=currentpen, <a class="code" href="three__margins_8asy.html#a8e17a18a2fd6374b183837dd4da5e64a">margin3</a> <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=<a class="code" href="three__margins_8asy.html#afeb7d1eefe0ea30f91c3995adcd5a44b">NoMargin3</a>, <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="three__light_8asy.html#a49d15a9c975d2bbe359ede05c0620335">nolight</a>,</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;          <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender)</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;{</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <span class="keywordtype">bool</span> group=<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length &gt; 1 &amp;&amp; (<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a> != <span class="stringliteral">&quot;&quot;</span> || <a class="code" href="structrender.html">render</a>.<a class="code" href="structrender.html#a99770ae7aa9852966ff08ef38d4a8695">defaultnames</a>);</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="keywordflow">if</span>(group)</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;    <a class="code" href="three_8asy.html#a8db08c7cbf0ffd31111ddd510d603142">begingroup3</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a> == <span class="stringliteral">&quot;&quot;</span> ? <span class="stringliteral">&quot;curves&quot;</span> : <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>,<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>,<a class="code" href="structlight.html">light</a>,<a class="code" href="three_8asy.html#a183482bd3a0b727b4339dce71d714959">partname</a>(<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>,<a class="code" href="structrender.html">render</a>),<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="keywordflow">if</span>(group)</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;      <a class="code" href="three_8asy.html#a4a09807bd2a92e73e6b78bbf4320b4ff">endgroup3</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>);</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;}</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; </div>
<div class="line"><a name="l02342"></a><span class="lineno"><a class="line" href="three_8asy.html#adf0678152c62ca03f0d0e09841664e96"> 2342</a></span>&#160;include <a class="code" href="three_8asy.html#adf0678152c62ca03f0d0e09841664e96">three_arrows</a>;</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160; </div>
<div class="line"><a name="l02344"></a><span class="lineno"><a class="line" href="three_8asy.html#a0e755bdc465fcd5c73148cfec921e33c"> 2344</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, <a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;          <a class="code" href="structalign.html">align</a> <a class="code" href="structalign.html">align</a>=<a class="code" href="plain__Label_8asy.html#a7fe550b2d7b062be66027ef9e14d840f">NoAlign</a>, <a class="code" href="structmaterial.html">material</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=currentpen, <a class="code" href="three__arrows_8asy.html#ab81e67f0bd8341ee23ba2802efa9d6e7">arrowbar3</a> <a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>,</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;          <a class="code" href="three__arrows_8asy.html#ab81e67f0bd8341ee23ba2802efa9d6e7">arrowbar3</a> <a class="code" href="plain__arrows_8asy.html#a53a3dd50582321b537245059eb4385b1">bar</a>=<a class="code" href="graph_8asy.html#a95ad6c7f5b93e387e05a0943bfb29c5c">None</a>, <a class="code" href="three__margins_8asy.html#a8e17a18a2fd6374b183837dd4da5e64a">margin3</a> <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=<a class="code" href="three__margins_8asy.html#afeb7d1eefe0ea30f91c3995adcd5a44b">NoMargin3</a>, <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="three__light_8asy.html#a49d15a9c975d2bbe359ede05c0620335">nolight</a>,</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;          <a class="code" href="structlight.html">light</a> arrowheadlight=<a class="code" href="plain__prethree_8asy.html#a5e51bbd1d6e9f644315850116a565c65">currentlight</a>, <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;          <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender)</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;{</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  <span class="keywordtype">bool</span> group=<a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a> != <a class="code" href="graph_8asy.html#a95ad6c7f5b93e387e05a0943bfb29c5c">None</a> || <a class="code" href="plain__arrows_8asy.html#a53a3dd50582321b537245059eb4385b1">bar</a> != <a class="code" href="graph_8asy.html#a95ad6c7f5b93e387e05a0943bfb29c5c">None</a>;</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  <span class="keywordflow">if</span>(group)</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <a class="code" href="three_8asy.html#a8db08c7cbf0ffd31111ddd510d603142">begingroup3</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>,<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <span class="keywordtype">bool</span> drawpath=<a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>,<a class="code" href="structlight.html">light</a>,arrowheadlight);</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__arrows_8asy.html#a53a3dd50582321b537245059eb4385b1">bar</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>,<a class="code" href="structlight.html">light</a>,arrowheadlight) &amp;&amp; drawpath)</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="structalign.html">align</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>,<a class="code" href="structlight.html">light</a>,<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="keywordflow">if</span>(group)</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <a class="code" href="three_8asy.html#a4a09807bd2a92e73e6b78bbf4320b4ff">endgroup3</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>);</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#af85b6fc2d689ced623d9a8a9672e26dd">s</a> != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    <a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="structalign.html">align</a>,(pen) <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;}</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160; </div>
<div class="line"><a name="l02362"></a><span class="lineno"><a class="line" href="three_8asy.html#a702ff891302ca9e26488d73ab8573866"> 2362</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a> <a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>, <a class="code" href="structmaterial.html">material</a> <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=currentpen, <a class="code" href="three__arrows_8asy.html#ab81e67f0bd8341ee23ba2802efa9d6e7">arrowbar3</a> <a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>,</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;          <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="three__light_8asy.html#a49d15a9c975d2bbe359ede05c0620335">nolight</a>, <a class="code" href="structlight.html">light</a> arrowheadlight=<a class="code" href="plain__prethree_8asy.html#a5e51bbd1d6e9f644315850116a565c65">currentlight</a>,</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;          <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender,</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;          <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;{</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  <a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  <span class="keywordtype">bool</span> group=<a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a> != <a class="code" href="graph_8asy.html#a95ad6c7f5b93e387e05a0943bfb29c5c">None</a>;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="keywordflow">if</span>(group)</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <a class="code" href="three_8asy.html#a8db08c7cbf0ffd31111ddd510d603142">begingroup3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>,<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three__margins_8asy.html#afeb7d1eefe0ea30f91c3995adcd5a44b">NoMargin3</a>,<a class="code" href="structlight.html">light</a>,arrowheadlight))</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">g</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="structlight.html">light</a>,<a class="code" href="structrender.html">render</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a35767312b27a444577085e059da904f7">fit</a>());</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="keywordflow">if</span>(group)</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <a class="code" href="three_8asy.html#a4a09807bd2a92e73e6b78bbf4320b4ff">endgroup3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;}</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160; </div>
<div class="line"><a name="l02378"></a><span class="lineno"><a class="line" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876"> 2378</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, <span class="keywordtype">void</span> d(<a class="code" href="structpicture.html">picture</a>,<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a>),</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;         <span class="keywordtype">bool</span> <a class="code" href="plain__bounds_8asy.html#a6194bc5c7e66a7f13ecacd723ee36134">exact</a>=<span class="keyword">false</span>)</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;{</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a0fa3f33515d5c46dcb9102c6f183cee7">add</a>(d,<a class="code" href="plain__bounds_8asy.html#a6194bc5c7e66a7f13ecacd723ee36134">exact</a>);</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;}</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160; </div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;<span class="comment">// Fit the picture src using the identity transformation (so user</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;<span class="comment">// coordinates and truesize coordinates agree) and add it about the point</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;<span class="comment">// position to picture dest.</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"><a class="line" href="three_8asy.html#abfbdbda6cecd2cc9d595abee81d24f2d"> 2387</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="structpicture.html">picture</a> dest, <a class="code" href="structpicture.html">picture</a> src, triple <a class="code" href="classposition.html">position</a>, <span class="keywordtype">bool</span> group=<span class="keyword">true</span>,</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;         <span class="keywordtype">bool</span> <a class="code" href="plain__markers_8asy.html#ae9abafd76f56fba5203ec938b2560991">above</a>=<span class="keyword">true</span>)</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;{</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  dest.<a class="code" href="structpicture.html#a0fa3f33515d5c46dcb9102c6f183cee7">add</a>(<span class="keyword">new</span> <span class="keywordtype">void</span>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;      <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>.add(<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="classposition.html">position</a>)*src,group,<a class="code" href="plain__markers_8asy.html#ae9abafd76f56fba5203ec938b2560991">above</a>);</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    });</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;}</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160; </div>
<div class="line"><a name="l02395"></a><span class="lineno"><a class="line" href="three_8asy.html#a151ac022483a10cb57d689401517ff4a"> 2395</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="structpicture.html">picture</a> src, triple <a class="code" href="classposition.html">position</a>, <span class="keywordtype">bool</span> group=<span class="keyword">true</span>, <span class="keywordtype">bool</span> <a class="code" href="plain__markers_8asy.html#ae9abafd76f56fba5203ec938b2560991">above</a>=<span class="keyword">true</span>)</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;{</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>,src,<a class="code" href="classposition.html">position</a>,group,<a class="code" href="plain__markers_8asy.html#ae9abafd76f56fba5203ec938b2560991">above</a>);</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;}</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160; </div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;<span class="comment">// Align an arrow pointing to b from the direction dir. The arrow is</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;<span class="comment">// &#39;length&#39; PostScript units long.</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"><a class="line" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5"> 2402</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, <a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<span class="stringliteral">&quot;&quot;</span>, triple b, triple <a class="code" href="structdir.html">dir</a>,</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;           real <a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>=<a class="code" href="plain__arrows_8asy.html#a7e9974cf535c0d72ef741de540031f16">arrowlength</a>, <a class="code" href="structalign.html">align</a> <a class="code" href="structalign.html">align</a>=<a class="code" href="plain__Label_8asy.html#a7fe550b2d7b062be66027ef9e14d840f">NoAlign</a>,</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;           pen <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=currentpen, <a class="code" href="three__arrows_8asy.html#ab81e67f0bd8341ee23ba2802efa9d6e7">arrowbar3</a> <a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>=<a class="code" href="three__arrows_8asy.html#a2795530e5d3ea7bbed9ad6589e33fd9e">Arrow3</a>, <a class="code" href="three__margins_8asy.html#a8e17a18a2fd6374b183837dd4da5e64a">margin3</a> <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=<a class="code" href="three__margins_8asy.html#a8c7158f75fa53eb5fe3240a16512bd60">EndMargin3</a>,</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;           <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="three__light_8asy.html#a49d15a9c975d2bbe359ede05c0620335">nolight</a>, <a class="code" href="structlight.html">light</a> arrowheadlight=<a class="code" href="plain__prethree_8asy.html#a5e51bbd1d6e9f644315850116a565c65">currentlight</a>,</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;           <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender)</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;{</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  <a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#ad0913c276d76cdf5f92925aca91467e3">copy</a>();</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#a164446482c854ccaf58fb727a7fb3d30">defaultposition</a>) <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#a8c7813f1aafa9071690baf84daa8534f">position</a>(0);</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#ab80fc51d1c8931f9319f1c6f30f9bcbb">align</a>(<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#ab80fc51d1c8931f9319f1c6f30f9bcbb">align</a>,<a class="code" href="structdir.html">dir</a>);</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;  <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>.<a class="code" href="structLabel.html#aa7df593b41ac1e28f793b684092ac62c">p</a>(<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>);</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <a class="code" href="structpicture.html">picture</a> opic;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  <a class="code" href="structmarginT3.html">marginT3</a> <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=<a class="code" href="three_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>--<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>); <span class="comment">// Extract margin.begin and margin.end</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  triple <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>=(<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>.begin+<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>+<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>.end)*<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="structdir.html">dir</a>);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(opic,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>,<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>--<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="structalign.html">align</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>,<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>,<a class="code" href="structlight.html">light</a>,arrowheadlight,<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>,<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,opic,<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>);</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;}</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"><a class="line" href="three_8asy.html#a8c5cbc7a013f7d74d0f03e8ef6d7d5fc"> 2419</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, <a class="code" href="structLabel.html">Label</a> <a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>=<span class="stringliteral">&quot;&quot;</span>, triple b, pair <a class="code" href="structdir.html">dir</a>,</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;           real <a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>=<a class="code" href="plain__arrows_8asy.html#a7e9974cf535c0d72ef741de540031f16">arrowlength</a>, <a class="code" href="structalign.html">align</a> <a class="code" href="structalign.html">align</a>=<a class="code" href="plain__Label_8asy.html#a7fe550b2d7b062be66027ef9e14d840f">NoAlign</a>,</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;           pen <a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>=currentpen, <a class="code" href="three__arrows_8asy.html#ab81e67f0bd8341ee23ba2802efa9d6e7">arrowbar3</a> <a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>=<a class="code" href="three__arrows_8asy.html#a2795530e5d3ea7bbed9ad6589e33fd9e">Arrow3</a>, <a class="code" href="three__margins_8asy.html#a8e17a18a2fd6374b183837dd4da5e64a">margin3</a> <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=<a class="code" href="three__margins_8asy.html#a8c7158f75fa53eb5fe3240a16512bd60">EndMargin3</a>,</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;           <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="three__light_8asy.html#a49d15a9c975d2bbe359ede05c0620335">nolight</a>, <a class="code" href="structlight.html">light</a> arrowheadlight=<a class="code" href="plain__prethree_8asy.html#a5e51bbd1d6e9f644315850116a565c65">currentlight</a>,</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;           <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structrender.html">render</a> <a class="code" href="structrender.html">render</a>=defaultrender,</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;           <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;{</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  <a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a>,<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,<a class="code" href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a>(<a class="code" href="structdir.html">dir</a>,<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>),<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>,<a class="code" href="structalign.html">align</a>,<a class="code" href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a>,<a class="code" href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a>,<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>,<a class="code" href="structlight.html">light</a>,</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;        arrowheadlight,<a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>,<a class="code" href="structrender.html">render</a>);</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;}</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160; </div>
<div class="line"><a name="l02430"></a><span class="lineno"><a class="line" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b"> 2430</a></span>&#160;triple <a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;{</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a9cbea463e893a4a39c7dfe82e12dca07">min3</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;}</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160; </div>
<div class="line"><a name="l02435"></a><span class="lineno"><a class="line" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d"> 2435</a></span>&#160;triple <a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;{</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a7cf88eaf9ad2b856a61edfcec75529d3">max3</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;}</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160; </div>
<div class="line"><a name="l02440"></a><span class="lineno"><a class="line" href="three_8asy.html#a526f087da4b11d25da892b57db14d5cf"> 2440</a></span>&#160;triple <a class="code" href="three_8asy.html#a526f087da4b11d25da892b57db14d5cf">size3</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, <span class="keywordtype">bool</span> user=<span class="keyword">false</span>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;{</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a0b1f1a4cc86e77785ba017e5f804666d">calculateTransform3</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  triple <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a6bb4b71f3a51f2fcb23b87516af7d71a">max</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  triple <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a61e2445a994fac003ff86eb035bef04e">min</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  <span class="keywordflow">if</span>(!user) <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>-<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="namespacerun.html#af5ebe7e996cab0672d494ff81be7d121">inverse</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>-<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;}</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160; </div>
<div class="line"><a name="l02450"></a><span class="lineno"><a class="line" href="three_8asy.html#a3151ffbe1d2d5ad96dd41ae1e6384222"> 2450</a></span>&#160;triple <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, triple <a class="code" href="structdir.html">dir</a>)</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;{</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  triple <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>=<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  triple <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>+realmult(<a class="code" href="plain__picture_8asy.html#a484fd688bee738d6d72230d9a300a27a">rectify</a>(<a class="code" href="structdir.html">dir</a>),<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>-<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;}</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160; </div>
<div class="line"><a name="l02457"></a><span class="lineno"><a class="line" href="three_8asy.html#a818f9cc0c2f782c87d7621a6b35d8a40"> 2457</a></span>&#160;triple <a class="code" href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, triple <a class="code" href="structdir.html">dir</a>, <span class="keywordtype">bool</span> user=<span class="keyword">true</span>,</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;             <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;{</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  triple <a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a> = <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#ae1e05ff68ae4320190dd55861322bc93">userMin</a>(), <a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a> = <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#aee862fa937e9f2d95f7d9ce0d80c0b66">userMax</a>();</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>+realmult(<a class="code" href="plain__picture_8asy.html#a484fd688bee738d6d72230d9a300a27a">rectify</a>(<a class="code" href="structdir.html">dir</a>),<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>-<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>);</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <span class="keywordflow">return</span> user ? <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a> : <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a0b1f1a4cc86e77785ba017e5f804666d">calculateTransform3</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;}</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160; </div>
<div class="line"><a name="l02465"></a><span class="lineno"><a class="line" href="three_8asy.html#a1404287ffd8f0742abd02dff1719a741"> 2465</a></span>&#160;triple <a class="code" href="three_8asy.html#a1404287ffd8f0742abd02dff1719a741">truepoint</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, triple <a class="code" href="structdir.html">dir</a>, <span class="keywordtype">bool</span> user=<span class="keyword">true</span>,</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;                 <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;{</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a0b1f1a4cc86e77785ba017e5f804666d">calculateTransform3</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  triple <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a61e2445a994fac003ff86eb035bef04e">min</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  triple <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a6bb4b71f3a51f2fcb23b87516af7d71a">max</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>);</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>+realmult(<a class="code" href="plain__picture_8asy.html#a484fd688bee738d6d72230d9a300a27a">rectify</a>(<a class="code" href="structdir.html">dir</a>),<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>-<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>);</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  <span class="keywordflow">return</span> user ? <a class="code" href="namespacerun.html#af5ebe7e996cab0672d494ff81be7d121">inverse</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>)*<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a> : <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;}</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160; </div>
<div class="line"><a name="l02475"></a><span class="lineno"><a class="line" href="three_8asy.html#a9ae2a6a16c4951f5fefea287c1cd68be"> 2475</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="structpicture.html">picture</a> dest=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, <span class="keywordtype">object</span> src, pair <a class="code" href="classposition.html">position</a>=0, pair <a class="code" href="structalign.html">align</a>=0,</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;         <span class="keywordtype">bool</span> group=<span class="keyword">true</span>, <a class="code" href="structfilltype.html">filltype</a> <a class="code" href="structfilltype.html">filltype</a>=NoFill, <span class="keywordtype">bool</span> <a class="code" href="plain__markers_8asy.html#ae9abafd76f56fba5203ec938b2560991">above</a>=<span class="keyword">true</span>)</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;{</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>())</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>(dest,src,<a class="code" href="classposition.html">position</a>,<a class="code" href="structalign.html">align</a>);</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="namespacesettings.html">settings</a>.render == 0)</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    plain.add(dest,src,<a class="code" href="classposition.html">position</a>,<a class="code" href="structalign.html">align</a>,group,<a class="code" href="structfilltype.html">filltype</a>,<a class="code" href="plain__markers_8asy.html#ae9abafd76f56fba5203ec938b2560991">above</a>);</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;}</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160; </div>
<div class="line"><a name="l02484"></a><span class="lineno"><a class="line" href="three_8asy.html#ad115f9914522f610ecf672d859251536"> 2484</a></span>&#160;<span class="keyword">private</span> <span class="keyword">struct </span><a class="code" href="structviewpoint.html">viewpoint</a> {</div>
<div class="line"><a name="l02485"></a><span class="lineno"><a class="line" href="structviewpoint.html#ae754d7ca26ef2966f6e0ffd515fa09c9"> 2485</a></span>&#160;  triple <a class="code" href="structviewpoint.html#a90f440e0d3f71ed41138697d7b4b21f3">target</a>,<a class="code" href="structviewpoint.html#ae754d7ca26ef2966f6e0ffd515fa09c9">camera</a>,<a class="code" href="structviewpoint.html#aeddcee27f91dcf7a4f0861eae052315b">up</a>;</div>
<div class="line"><a name="l02486"></a><span class="lineno"><a class="line" href="structviewpoint.html#a2a371cd53a8fa8e144c817b0d6c79090"> 2486</a></span>&#160;  real <a class="code" href="structviewpoint.html#a2a371cd53a8fa8e144c817b0d6c79090">angle</a>;</div>
<div class="line"><a name="l02487"></a><span class="lineno"><a class="line" href="structviewpoint.html#a51988e25ddc37537c9ad26d319470319"> 2487</a></span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>(<span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>) {</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<a class="code" href="plain__strings_8asy.html#a715f89abb13c53782fbe0801c4578d73">replace</a>(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,<span class="charliteral">&#39;\n&#39;</span>,<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    <span class="keywordtype">string</span>[] <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>=<a class="code" href="namespacecamp.html#acd5ee35364af4ac85d4fdf77caf6e8df">split</a>(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>);</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>(<span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>, <span class="keywordtype">string</span> <a class="code" href="structkey.html">key</a>) {</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>=find(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,<a class="code" href="structkey.html">key</a>);</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a> &lt; 0) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;      <a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a> += <a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>(<a class="code" href="structkey.html">key</a>);</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;      <span class="keywordflow">while</span>(substr(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>,1) == <span class="stringliteral">&quot; &quot;</span>) ++<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;      <span class="keywordflow">if</span>(substr(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>,1) == <span class="stringliteral">&quot;=&quot;</span>)</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>+1;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;      <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    }</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    triple C2C=<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    real ROO=1;</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    real ROLL=0;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <a class="code" href="structviewpoint.html#a2a371cd53a8fa8e144c817b0d6c79090">angle</a>=30;</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>=0; <a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a> &lt; <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.length; ++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>) {</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;      <span class="keywordflow">if</span>((<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>=<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<span class="stringliteral">&quot;COO&quot;</span>)) &gt;= 0)</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;        <a class="code" href="structviewpoint.html#a90f440e0d3f71ed41138697d7b4b21f3">target</a>=((real) substr(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>),(real) <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],(real) <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]);</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>=<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<span class="stringliteral">&quot;C2C&quot;</span>)) &gt;= 0)</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        C2C=((real) substr(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>),(real) <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],(real) <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[++<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>]);</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>=<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<span class="stringliteral">&quot;ROO&quot;</span>)) &gt;= 0)</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        ROO=(real) substr(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>);</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>=<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<span class="stringliteral">&quot;ROLL&quot;</span>)) &gt;= 0)</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        ROLL=(real) substr(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>);</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>=<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<span class="stringliteral">&quot;AAC&quot;</span>)) &gt;= 0)</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        <a class="code" href="structviewpoint.html#a2a371cd53a8fa8e144c817b0d6c79090">angle</a>=(real) substr(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>[<a class="code" href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a>],<a class="code" href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a>);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    }</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <a class="code" href="structviewpoint.html#ae754d7ca26ef2966f6e0ffd515fa09c9">camera</a>=<a class="code" href="structviewpoint.html#a90f440e0d3f71ed41138697d7b4b21f3">target</a>+ROO*C2C;</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="structviewpoint.html#a90f440e0d3f71ed41138697d7b4b21f3">target</a>-<a class="code" href="structviewpoint.html#ae754d7ca26ef2966f6e0ffd515fa09c9">camera</a>);</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    triple w=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>-<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.z*<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>);</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <a class="code" href="structviewpoint.html#aeddcee27f91dcf7a4f0861eae052315b">up</a>=<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(ROLL,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>)*w;</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  }</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;}</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160; </div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a608da67416508f65b940331a4e989fa8">perspective</a>(<span class="keywordtype">string</span> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>)</div>
<div class="line"><a name="l02524"></a><span class="lineno"><a class="line" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5"> 2524</a></span>&#160;{</div>
<div class="line"><a name="l02525"></a><span class="lineno"><a class="line" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e"> 2525</a></span>&#160;  <a class="code" href="structviewpoint.html">viewpoint</a> <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="structviewpoint.html">viewpoint</a>(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>);</div>
<div class="line"><a name="l02526"></a><span class="lineno"><a class="line" href="three_8asy.html#aedfd8f7a2aa25fb27575b5dea98db03c"> 2526</a></span>&#160;  <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a608da67416508f65b940331a4e989fa8">perspective</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.camera,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.up,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.target);</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle=<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.angle;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.absolute=<span class="keyword">true</span>;</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;}</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160; </div>
<div class="line"><a name="l02532"></a><span class="lineno"><a class="line" href="three_8asy.html#a0a2af7b733e2eaa7c8d88d2e3903b2cf"> 2532</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a0a2af7b733e2eaa7c8d88d2e3903b2cf">absorthographic</a>(triple <a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>=<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>, triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>, real roll=0)</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;{</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>-<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>);</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  triple w=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>-<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.z*<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>);</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(roll,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>)*w;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>(<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>,<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>,1,0,<span class="keyword">false</span>,<span class="keyword">false</span>,</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;               <span class="keyword">new</span> <a class="code" href="structtransformation.html">transformation</a>(triple <a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>, triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>, triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>)</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;               {<span class="keywordflow">return</span> <a class="code" href="structtransformation.html">transformation</a>(<a class="code" href="three_8asy.html#add3ac243d40b0717b0196b13e23ce799">look</a>(<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>,<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>));});</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.absolute=<span class="keyword">true</span>;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;}</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160; </div>
<div class="line"><a name="l02545"></a><span class="lineno"><a class="line" href="three_8asy.html#a3f725ad4e6923fe3e1ae31f1179a3870"> 2545</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#a3f725ad4e6923fe3e1ae31f1179a3870">absperspective</a>(triple <a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>=<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>, triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>=<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>, real roll=0,</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;                          real <a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>=30)</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;{</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  triple <a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>-<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  triple w=<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>-<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>.z*<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>);</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  triple <a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>=<a class="code" href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a>(roll,<a class="code" href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a>,<a class="code" href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a>)*w;</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a608da67416508f65b940331a4e989fa8">perspective</a>(<a class="code" href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a>,<a class="code" href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a>,<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>);</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;  <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle=<a class="code" href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a>;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;  <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.absolute=<span class="keyword">true</span>;</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;}</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160; </div>
<div class="line"><a name="l02557"></a><span class="lineno"><a class="line" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9"> 2557</a></span>&#160;<span class="keyword">private</span> <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(real <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>)</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;{</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <a class="code" href="errortestBrokenTemplate_8asy.html#a4afc6b6441d04584fd4904deab10b73d">assert</a>(<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>) &lt; 1e17,<span class="stringliteral">&quot;Number too large: &quot;</span>+<span class="keywordtype">string</span>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>));</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>(<span class="stringliteral">&quot;%.9f&quot;</span>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>,<span class="stringliteral">&quot;C&quot;</span>);</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;}</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160; </div>
<div class="line"><a name="l02563"></a><span class="lineno"><a class="line" href="three_8asy.html#a217fbf25fc64558b547a42f71a303bc2"> 2563</a></span>&#160;<span class="keyword">private</span> <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, <span class="keywordtype">string</span> sep=<span class="stringliteral">&quot; &quot;</span>)</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;{</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x)+sep+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y)+sep+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z);</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;}</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160; </div>
<div class="line"><a name="l02568"></a><span class="lineno"><a class="line" href="three_8asy.html#ac99ac72fe680c1026874ee2d19258030"> 2568</a></span>&#160;<span class="keyword">private</span> <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(real[] c)</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;{</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>((<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>[0],<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>[1],<a class="code" href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a>[2]));</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;}</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160; </div>
<div class="line"><a name="l02573"></a><span class="lineno"><a class="line" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a"> 2573</a></span>&#160;<span class="keyword">private</span> <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>(triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>, <span class="keywordtype">string</span> sep=<span class="stringliteral">&quot; &quot;</span>)</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;{</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacemem.html#a80d69dc16b59f697ff4f74adc111809a">string</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.x)+sep+<a class="code" href="namespacemem.html#a80d69dc16b59f697ff4f74adc111809a">string</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.y)+sep+<a class="code" href="namespacemem.html#a80d69dc16b59f697ff4f74adc111809a">string</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>.z);</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;}</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160; </div>
<div class="line"><a name="l02578"></a><span class="lineno"><a class="line" href="three_8asy.html#a51a9dc8a8b951601c164ab7920cfe225"> 2578</a></span>&#160;<span class="keyword">private</span> <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, <span class="keywordtype">string</span> sep=<span class="stringliteral">&quot; &quot;</span>)</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;{</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <span class="keywordflow">return</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][0])+sep+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][0])+sep+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][0])+sep+</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][1])+sep+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][1])+sep+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][1])+sep+</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][2])+sep+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][2])+sep+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][2])+sep+</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[0][3])+sep+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[1][3])+sep+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>[2][3]);</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;}</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160; </div>
<div class="line"><a name="l02587"></a><span class="lineno"><a class="line" href="three_8asy.html#adeccc2cd39df98c3195d6f9293c6bf41"> 2587</a></span>&#160;pair <a class="code" href="three_8asy.html#abf4434cb369054c1908f82fbbf912d33">viewportmargin</a>(pair lambda)</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;{</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three__surface_8asy.html#a0ed578f475a0bfa13e11cd4dd92a4ca0">maxbound</a>(0.5*(<a class="code" href="plain__picture_8asy.html#aada482ccc2c1525e42f69a0a4d28f2eb">viewportsize</a>-lambda),<a class="code" href="three_8asy.html#abf4434cb369054c1908f82fbbf912d33">viewportmargin</a>);</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;}</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160; </div>
<div class="line"><a name="l02592"></a><span class="lineno"><a class="line" href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b"> 2592</a></span>&#160;<span class="keywordtype">string</span> <a class="code" href="three_8asy.html#a1896fb50bc4a56e2e025002d4bf3aee3">embed3D</a>(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>, <span class="keywordtype">string</span> <a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>, <span class="keywordtype">string</span> text=<a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>,</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;               frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;               real <a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a>=0, real <a class="code" href="three_8asy.html#a3a0d5afaf5ff0c4d11398d447acc91e9">height</a>=0,</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;               <span class="keywordtype">string</span> options=<span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">string</span> script=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;               <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="plain__prethree_8asy.html#a5e51bbd1d6e9f644315850116a565c65">currentlight</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>,</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;               real viewplanesize=0)</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;{</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>(<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>) || <a class="code" href="plain__shipout_8asy.html#a423e0d3784cf809ce11394e3565ea26b">Embed</a> == <span class="keyword">null</span>) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160; </div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a> == 0) <a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a>=<a class="code" href="namespacesettings.html">settings</a>.paperwidth;</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a3a0d5afaf5ff0c4d11398d447acc91e9">height</a> == 0) <a class="code" href="three_8asy.html#a3a0d5afaf5ff0c4d11398d447acc91e9">height</a>=<a class="code" href="namespacesettings.html">settings</a>.paperheight;</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160; </div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="keywordflow">if</span>(script == <span class="stringliteral">&quot;&quot;</span>) script=<a class="code" href="three_8asy.html#a0793b863a0694b2988852f61b387d14d">defaultembed3Dscript</a>;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160; </div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity) {</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <span class="keywordflow">if</span>(viewplanesize == 0) {</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;      triple lambda=<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>)-<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;      pair <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=<a class="code" href="three_8asy.html#abf4434cb369054c1908f82fbbf912d33">viewportmargin</a>((lambda.x,lambda.y));</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      viewplanesize=(<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(lambda.x+2*<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>.x,lambda.y+2*<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>.y))/<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.zoom;</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    }</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.absolute) <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle=2*aTan(<a class="code" href="texcolors_8asy.html#a8a9b0f63c23fd243b7e6baadcf0478b2">Tan</a>(0.5*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle));</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160; </div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  shipout3(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160; </div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a>=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>+<span class="stringliteral">&quot;.js&quot;</span>;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160; </div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="namespacesettings.html">settings</a>.inlinetex &amp;&amp; !<a class="code" href="plain__shipout_8asy.html#ab1ec2d860526c93da9364b16a1975552">prconly</a>())</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    <a class="code" href="plain__shipout_8asy.html#a492ec9237389948eef49bd2778ed98ec">file3</a>.push(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>+<span class="stringliteral">&quot;.prc&quot;</span>);</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160; </div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  <span class="keyword">static</span> <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> flipxz=<a class="code" href="three_8asy.html#ad75c80188a531711e51712cf86c370d7">xscale3</a>(-1)*<a class="code" href="three_8asy.html#a0912952c82882677e2f45ceb808fbf4d">zscale3</a>(-1);</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> inv=<a class="code" href="namespacerun.html#af5ebe7e996cab0672d494ff81be7d121">inverse</a>(flipxz*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.T.modelview);</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160; </div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <span class="keywordtype">string</span> options3=<span class="stringliteral">&quot;3Dlights=&quot;</span>+</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    (<a class="code" href="structlight.html">light</a>.<a class="code" href="structlight.html#a5cf8dde6a4c13463d5d7f58af20c0a84">on</a>() ? <span class="stringliteral">&quot;Headlamp&quot;</span> : <span class="stringliteral">&quot;None&quot;</span>);</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ab17dc7da202119a308b31b6f177a327a">defaultembed3Doptions</a> != <span class="stringliteral">&quot;&quot;</span>) options3 += <span class="stringliteral">&quot;,&quot;</span>+<a class="code" href="three_8asy.html#ab17dc7da202119a308b31b6f177a327a">defaultembed3Doptions</a>;</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160; </div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  <span class="keywordflow">if</span>((<a class="code" href="namespacesettings.html">settings</a>.render &lt; 0 || !<a class="code" href="namespacesettings.html">settings</a>.embed) &amp;&amp; <a class="code" href="namespacesettings.html">settings</a>.auto3D)</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    options3 += <span class="stringliteral">&quot;,activate=pagevisible&quot;</span>;</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;  options3 += <span class="stringliteral">&quot;,3Dtoolbar=&quot;</span>+(<a class="code" href="namespacesettings.html">settings</a>.toolbar ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>)+</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <span class="stringliteral">&quot;,label=&quot;</span>+<a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>+</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    (<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity ? <span class="stringliteral">&quot;,3Dortho=&quot;</span>+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(1/viewplanesize) :</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;     <span class="stringliteral">&quot;,3Daac=&quot;</span>+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle))+</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="stringliteral">&quot;,3Dc2w=&quot;</span>+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(inv)+</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    <span class="stringliteral">&quot;,3Droo=&quot;</span>+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.vector()))+</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <span class="stringliteral">&quot;,3Dpsob=&quot;</span>+(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity ? <span class="stringliteral">&quot;Max&quot;</span> : <span class="stringliteral">&quot;H&quot;</span>)+</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="stringliteral">&quot;,3Dbg=&quot;</span>+<a class="code" href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a>(<a class="code" href="structlight.html">light</a>.<a class="code" href="structlight.html#a360b43199b82776069fc9d8b1307e150">background</a>());</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  <span class="keywordflow">if</span>(options != <span class="stringliteral">&quot;&quot;</span>) options3 += <span class="stringliteral">&quot;,&quot;</span>+options;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="namespacesettings.html">settings</a>.inlinetex)</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<a class="code" href="plain__strings_8asy.html#aac15cdd30dfd02862d13fd05133b3688">jobname</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>);</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  options3 += <span class="stringliteral">&quot;,add3Djscript=asylabels.js&quot;</span>;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160; </div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <span class="keywordflow">return</span> text == <span class="stringliteral">&quot;&quot;</span> ? <a class="code" href="plain__shipout_8asy.html#a423e0d3784cf809ce11394e3565ea26b">Embed</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>+<span class="stringliteral">&quot;.prc&quot;</span>,<span class="stringliteral">&quot;&quot;</span>,options3,<a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a>,<a class="code" href="three_8asy.html#a3a0d5afaf5ff0c4d11398d447acc91e9">height</a>) :</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <span class="stringliteral">&quot;\hbox to 0pt{&quot;</span>+text+<span class="stringliteral">&quot;\hss}&quot;</span>+<a class="code" href="plain__shipout_8asy.html#a423e0d3784cf809ce11394e3565ea26b">Embed</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>+<span class="stringliteral">&quot;.prc&quot;</span>,<span class="stringliteral">&quot;\phantom{&quot;</span>+text+<span class="stringliteral">&quot;}&quot;</span>,</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                                       options3);</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;}</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160; </div>
<div class="line"><a name="l02649"></a><span class="lineno"><a class="line" href="structscene.html"> 2649</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structscene.html">scene</a></div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;{</div>
<div class="line"><a name="l02651"></a><span class="lineno"><a class="line" href="structscene.html#a213fa96de5a98d02e819928221360fda"> 2651</a></span>&#160;  frame <a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>;</div>
<div class="line"><a name="l02652"></a><span class="lineno"><a class="line" href="structscene.html#aa5128d045f78bc831b4085f740548a7d"> 2652</a></span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>;</div>
<div class="line"><a name="l02653"></a><span class="lineno"><a class="line" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8"> 2653</a></span>&#160;  <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>;</div>
<div class="line"><a name="l02654"></a><span class="lineno"><a class="line" href="structscene.html#a4f2011d85c97c77fbc43d5f197b40ab1"> 2654</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structscene.html#a4f2011d85c97c77fbc43d5f197b40ab1">adjusted</a>;</div>
<div class="line"><a name="l02655"></a><span class="lineno"><a class="line" href="structscene.html#a40aad0fb3b74f4168560d24840efa783"> 2655</a></span>&#160;  real <a class="code" href="structscene.html#a4fee01ecdf38c8ccf9e770429edd6bfe">width</a>,<a class="code" href="structscene.html#a40aad0fb3b74f4168560d24840efa783">height</a>;</div>
<div class="line"><a name="l02656"></a><span class="lineno"><a class="line" href="structscene.html#ae21be85c4932ef2167e6e3ee4a2d98d3"> 2656</a></span>&#160;  pair <a class="code" href="structscene.html#ae21be85c4932ef2167e6e3ee4a2d98d3">viewportmargin</a>;</div>
<div class="line"><a name="l02657"></a><span class="lineno"><a class="line" href="structscene.html#aa06e9ec69c0b519d7ac61dd1e963453f"> 2657</a></span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="structevaluatedpoint.html">T</a>=<a class="code" href="plain__prethree_8asy.html#a5406d2b1c72cd976dc1169f1659d22f7">identity4</a>;</div>
<div class="line"><a name="l02658"></a><span class="lineno"><a class="line" href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66"> 2658</a></span>&#160;  <a class="code" href="structpicture.html">picture</a> <a class="code" href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66">pic2</a>;</div>
<div class="line"><a name="l02659"></a><span class="lineno"><a class="line" href="structscene.html#a9ba29b791f10b4a744d098bc4faf1f8d"> 2659</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structscene.html#a9ba29b791f10b4a744d098bc4faf1f8d">keepAspect</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160; </div>
<div class="line"><a name="l02661"></a><span class="lineno"><a class="line" href="structscene.html#a772149306307be3e066a4b7c653a1f6f"> 2661</a></span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>(frame <a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>, real <a class="code" href="structscene.html#a4fee01ecdf38c8ccf9e770429edd6bfe">width</a>, real <a class="code" href="structscene.html#a40aad0fb3b74f4168560d24840efa783">height</a>,</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;                     <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>) {</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    this.f=<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>;</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    this.t=<a class="code" href="plain__prethree_8asy.html#a5406d2b1c72cd976dc1169f1659d22f7">identity4</a>;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    this.P=<a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>;</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    this.width=<a class="code" href="structscene.html#a4fee01ecdf38c8ccf9e770429edd6bfe">width</a>;</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    this.height=<a class="code" href="structscene.html#a40aad0fb3b74f4168560d24840efa783">height</a>;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  }</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160; </div>
<div class="line"><a name="l02670"></a><span class="lineno"><a class="line" href="structscene.html#a9eca7111433d51dda3629951ec32e8fa"> 2670</a></span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <a class="code" href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, real <a class="code" href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a5fa4b87d4c26b3a27db7ee3b9c836ffd">xsize</a>, real <a class="code" href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a063a4c9802a28b10741f1a3458378630">ysize</a>,</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;                     <span class="keywordtype">bool</span> <a class="code" href="structscene.html#a9ba29b791f10b4a744d098bc4faf1f8d">keepAspect</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a636a2c8061042c9fe2e186005dabb14a">keepAspect</a>, <span class="keywordtype">bool</span> <a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>=<span class="keyword">true</span>,</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                     <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>) {</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    real <a class="code" href="plain__picture_8asy.html#a40d50e8f8d2caba4649014eb68cf2af9">xsize3</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#ad0fd3813a69a274540658abc9f20f84e">xsize3</a>, <a class="code" href="plain__picture_8asy.html#aacb48e60e3902ef099aa1b9fcab1ff23">ysize3</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#abebf8d92371ff2703d653cba44360185">ysize3</a>, <a class="code" href="plain__picture_8asy.html#a1fe8d383129a4c24f5b5592e507b486b">zsize3</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a15d04e7c34539715a30ca86680b84fc3">zsize3</a>;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="namespacesettings.html#a50ef98223a134d912af153f046a4dc92">warn</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    this.keepAspect=<a class="code" href="structscene.html#a9ba29b791f10b4a744d098bc4faf1f8d">keepAspect</a>;</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160; </div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="plain__picture_8asy.html#a40d50e8f8d2caba4649014eb68cf2af9">xsize3</a> == 0 &amp;&amp; <a class="code" href="plain__picture_8asy.html#aacb48e60e3902ef099aa1b9fcab1ff23">ysize3</a> == 0 &amp;&amp; <a class="code" href="plain__picture_8asy.html#a1fe8d383129a4c24f5b5592e507b486b">zsize3</a> == 0) {</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;      <a class="code" href="plain__picture_8asy.html#a40d50e8f8d2caba4649014eb68cf2af9">xsize3</a>=<a class="code" href="plain__picture_8asy.html#aacb48e60e3902ef099aa1b9fcab1ff23">ysize3</a>=<a class="code" href="plain__picture_8asy.html#a1fe8d383129a4c24f5b5592e507b486b">zsize3</a>=<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(<a class="code" href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a>,<a class="code" href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a>);</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      <a class="code" href="namespacesettings.html#a50ef98223a134d912af153f046a4dc92">warn</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    }</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160; </div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    this.P=<a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>.copy();</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160; </div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>.absolute &amp;&amp; <a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>.showtarget &amp;&amp; !<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#ad1fdb8bbf045b167160dbbb6557e1d87">empty3</a>())</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;      <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,this.P.target,<a class="code" href="plain__pens_8asy.html#aa7de851e50303c39134eb2750f771ea4">nullpen</a>);</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160; </div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a610f47f2bb8253cac25eccd24b72aa49">scaling</a>(<a class="code" href="plain__picture_8asy.html#a40d50e8f8d2caba4649014eb68cf2af9">xsize3</a>,<a class="code" href="plain__picture_8asy.html#aacb48e60e3902ef099aa1b9fcab1ff23">ysize3</a>,<a class="code" href="plain__picture_8asy.html#a1fe8d383129a4c24f5b5592e507b486b">zsize3</a>,<a class="code" href="structscene.html#a9ba29b791f10b4a744d098bc4faf1f8d">keepAspect</a>,<a class="code" href="namespacesettings.html#a50ef98223a134d912af153f046a4dc92">warn</a>);</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    <a class="code" href="structscene.html#a4f2011d85c97c77fbc43d5f197b40ab1">adjusted</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    triple <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a61e2445a994fac003ff86eb035bef04e">min</a>(<a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>);</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    triple <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a6bb4b71f3a51f2fcb23b87516af7d71a">max</a>(<a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>);</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160; </div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>.absolute) {</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;      this.P=<a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>*this.<a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;      <span class="keywordflow">if</span>(this.P.autoadjust || <span class="keyword">this</span>.P.infinity)</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;        <a class="code" href="structscene.html#a4f2011d85c97c77fbc43d5f197b40ab1">adjusted</a>=<a class="code" href="structscene.html#a4f2011d85c97c77fbc43d5f197b40ab1">adjusted</a> | this.P.adjust(<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>,<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>);</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    }</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160; </div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#aa7b19ad43ffd9deb52d9eb4055c651bb">scale</a>=<a class="code" href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a> != 0 || <a class="code" href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a> != 0;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    <span class="keywordtype">bool</span> scaleAdjust=<a class="code" href="three_8asy.html#aa7b19ad43ffd9deb52d9eb4055c651bb">scale</a> &amp;&amp; this.P.autoadjust;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordtype">bool</span> noAdjust=this.P.absolute || !scaleAdjust;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160; </div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a7d0767153966f29fc3532c44a779d3ca">bounds3</a>.<a class="code" href="structpicture_1_1bounds3.html#af61cbc05804515e2ee0f9853cc90d1da">exact</a> &amp;&amp; noAdjust)</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      this.P.bboxonly=<span class="keyword">false</span>;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160; </div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    <a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#aa9affe5070cf69c83c2001543df93425">fit3</a>(<a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>,<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a7d0767153966f29fc3532c44a779d3ca">bounds3</a>.<a class="code" href="structpicture_1_1bounds3.html#af61cbc05804515e2ee0f9853cc90d1da">exact</a> ? <a class="code" href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66">pic2</a> : <span class="keyword">null</span>,<span class="keyword">this</span>.P);</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160; </div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a7d0767153966f29fc3532c44a779d3ca">bounds3</a>.<a class="code" href="structpicture_1_1bounds3.html#af61cbc05804515e2ee0f9853cc90d1da">exact</a>) {</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;      <span class="keywordflow">if</span>(noAdjust)</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;        this.P.bboxonly=<span class="keyword">false</span>;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160; </div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;      <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a678fe85cda339828cd0240316b954eaa">scale3</a>(<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>,<a class="code" href="plain__picture_8asy.html#a40d50e8f8d2caba4649014eb68cf2af9">xsize3</a>,<a class="code" href="plain__picture_8asy.html#aacb48e60e3902ef099aa1b9fcab1ff23">ysize3</a>,<a class="code" href="plain__picture_8asy.html#a1fe8d383129a4c24f5b5592e507b486b">zsize3</a>,<a class="code" href="structscene.html#a9ba29b791f10b4a744d098bc4faf1f8d">keepAspect</a>);</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      <a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>=<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>;</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      this.P=<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*this.<a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;      f=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#aa9affe5070cf69c83c2001543df93425">fit3</a>(<a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>,<a class="code" href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66">pic2</a>,this.P);</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    }</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160; </div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a> || <a class="code" href="three_8asy.html#aa7b19ad43ffd9deb52d9eb4055c651bb">scale</a>) {</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      <a class="code" href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66">pic2</a>.<a class="code" href="structpicture.html#ae98ba8b0d0c3df6b8b613c2dd3ace140">bounds</a>.<a class="code" href="structpicture_1_1bounds3.html#af61cbc05804515e2ee0f9853cc90d1da">exact</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      <a class="code" href="three_8asy.html#acc3f70c0155a91346ee5d39e7f2d356a">transform</a> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<a class="code" href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66">pic2</a>.<a class="code" href="structpicture.html#a610f47f2bb8253cac25eccd24b72aa49">scaling</a>(<a class="code" href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a>,<a class="code" href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a>,<a class="code" href="structscene.html#a9ba29b791f10b4a744d098bc4faf1f8d">keepAspect</a>);</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160; </div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      pair m2=<a class="code" href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66">pic2</a>.<a class="code" href="structpicture.html#a61e2445a994fac003ff86eb035bef04e">min</a>(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>);</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;      pair M2=<a class="code" href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66">pic2</a>.<a class="code" href="structpicture.html#a6bb4b71f3a51f2fcb23b87516af7d71a">max</a>(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>);</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      pair lambda=M2-m2;</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      <a class="code" href="structscene.html#ae21be85c4932ef2167e6e3ee4a2d98d3">viewportmargin</a>=<a class="code" href="structscene.html#ae21be85c4932ef2167e6e3ee4a2d98d3">viewportmargin</a>(lambda);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      <a class="code" href="structscene.html#a4fee01ecdf38c8ccf9e770429edd6bfe">width</a>=<a class="code" href="graph_8asy.html#aa0490659d38caa08d04d91bfd8cb17d2">ceil</a>(lambda.x+2*<a class="code" href="structscene.html#ae21be85c4932ef2167e6e3ee4a2d98d3">viewportmargin</a>.x);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      <a class="code" href="structscene.html#a40aad0fb3b74f4168560d24840efa783">height</a>=<a class="code" href="graph_8asy.html#aa0490659d38caa08d04d91bfd8cb17d2">ceil</a>(lambda.y+2*<a class="code" href="structscene.html#ae21be85c4932ef2167e6e3ee4a2d98d3">viewportmargin</a>.y);</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160; </div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;      <span class="keywordflow">if</span>(!this.P.absolute) {</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;        <span class="keywordflow">if</span>(scaleAdjust) {</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;          pair <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>.xx,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>.yy);</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;          <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="structevaluatedpoint.html">T</a>=this.P.t;</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;          pair <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>=<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a>,<a class="code" href="structevaluatedpoint.html">T</a>);</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;          pair <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>=<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a>,<a class="code" href="structevaluatedpoint.html">T</a>);</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;          pair <a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>=<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a>,<a class="code" href="structevaluatedpoint.html">T</a>);</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;          real <a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>(pair <a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>, pair <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>) {</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a> == 0 ? (0.5*(<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>.x+<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>.y)) :</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;              (<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>.x^2*<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>.x+<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>.y^2*<a class="code" href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a>.y)/(<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>.x^2+<a class="code" href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a>.y^2);</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;          }</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;          <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<a class="code" href="structscene.html#a9ba29b791f10b4a744d098bc4faf1f8d">keepAspect</a> ? <a class="code" href="plain__picture_8asy.html#a267db2b09aa4be24aaaaaf612dc366e2">scale3</a>(<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>),<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>),<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>))) :</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;            <a class="code" href="three_8asy.html#ad75c80188a531711e51712cf86c370d7">xscale3</a>(<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>))*<a class="code" href="three_8asy.html#aa962d35788e1d56ea71a63ee469ae0e2">yscale3</a>(<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>))*<a class="code" href="three_8asy.html#a0912952c82882677e2f45ceb808fbf4d">zscale3</a>(<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>,<a class="code" href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a>));</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;          <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(this.P.target)*<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(-this.P.target);</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;          <a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>=<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*<a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>;</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;          this.P=<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>*this.<a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;          this.P.bboxonly=<span class="keyword">false</span>;</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;          <span class="keywordflow">if</span>(!<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>) <a class="code" href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66">pic2</a>.<a class="code" href="structpicture.html#a8c15e299005c1b76ecfc9da72fd0c328">erase</a>();</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;          <a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#aa9affe5070cf69c83c2001543df93425">fit3</a>(<a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>,<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a> ? <span class="keyword">null</span> : <a class="code" href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66">pic2</a>,this.P);</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;        }</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160; </div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        <span class="keywordflow">if</span>(this.P.autoadjust || <span class="keyword">this</span>.P.infinity)</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;          <a class="code" href="structscene.html#a4f2011d85c97c77fbc43d5f197b40ab1">adjusted</a>=<a class="code" href="structscene.html#a4f2011d85c97c77fbc43d5f197b40ab1">adjusted</a> | this.P.adjust(<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>),<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>));</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      }</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    }</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  }</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160; </div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  <span class="comment">// Choose the angle to be just large enough to view the entire image.</span></div>
<div class="line"><a name="l02756"></a><span class="lineno"><a class="line" href="structscene.html#a7dec2a99effbf47040bf5eb6833e525f"> 2756</a></span>&#160;  real <a class="code" href="structscene.html#a7dec2a99effbf47040bf5eb6833e525f">angle</a>(<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>) {</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    <a class="code" href="structevaluatedpoint.html">T</a>=<a class="code" href="plain__prethree_8asy.html#a5406d2b1c72cd976dc1169f1659d22f7">identity4</a>;</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    real <a class="code" href="geometry_8asy.html#aea48bde1a661e4c9d8cb7fd80af6a4d9">h</a>=-0.5*<a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>.target.z;</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    pair <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>,R;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    real diff=realMax;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    pair <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>;</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>;</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;      <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>=minratio(<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>);</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;      R=maxratio(<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>);</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;      pair lasts=<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>.autoadjust) {</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;        <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>+R;</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a> != 0) {</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;          <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>=<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(<a class="code" href="geometry_8asy.html#aea48bde1a661e4c9d8cb7fd80af6a4d9">h</a>*<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>.x,<a class="code" href="geometry_8asy.html#aea48bde1a661e4c9d8cb7fd80af6a4d9">h</a>*<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>.y,0);</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;          <a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>=<a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>*<a class="code" href="structscene.html#a213fa96de5a98d02e819928221360fda">f</a>;</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;          <a class="code" href="structevaluatedpoint.html">T</a>=<a class="code" href="structscene.html#aa5128d045f78bc831b4085f740548a7d">t</a>*<a class="code" href="structscene.html#aa06e9ec69c0b519d7ac61dd1e963453f">T</a>;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;          <a class="code" href="structscene.html#a4f2011d85c97c77fbc43d5f197b40ab1">adjusted</a>=<span class="keyword">true</span>;</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;        }</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;      }</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;      diff=<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>-lasts);</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;      ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    } <span class="keywordflow">while</span> (diff &gt; <a class="code" href="three_8asy.html#a41b648be96938404cb7479427550f510">angleprecision</a> &amp;&amp; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="three_8asy.html#a08ce4bf58bf6d85ee17275ff1163e2fb">maxangleiterations</a>);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    real aspect=<a class="code" href="structscene.html#a4fee01ecdf38c8ccf9e770429edd6bfe">width</a> &gt; 0 ? <a class="code" href="structscene.html#a40aad0fb3b74f4168560d24840efa783">height</a>/<a class="code" href="structscene.html#a4fee01ecdf38c8ccf9e770429edd6bfe">width</a> : 1;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    real rx=-<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>.x*aspect;</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    real Rx=R.x*aspect;</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    real ry=-<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>.y;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    real Ry=R.y;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">P</a>.autoadjust) {</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;      <span class="keywordflow">if</span>(rx &gt; Rx) Rx=rx;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;      <span class="keywordflow">else</span> rx=Rx;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;      <span class="keywordflow">if</span>(ry &gt; Ry) Ry=ry;</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;      <span class="keywordflow">else</span> ry=Ry;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    }</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    <span class="keywordflow">return</span> (1+<a class="code" href="three_8asy.html#a41b648be96938404cb7479427550f510">angleprecision</a>)*<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(aTan(rx)+aTan(Rx),aTan(ry)+aTan(Ry));</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  }</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;}</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160; </div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;<span class="keywordtype">object</span> <a class="code" href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b">embed</a>(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<a class="code" href="plain__shipout_8asy.html#af5525222dafc4fb36a7941b86564004c">outprefix</a>(), <span class="keywordtype">string</span> <a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,</div>
<div class="line"><a name="l02795"></a><span class="lineno"><a class="line" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e"> 2795</a></span>&#160;             <span class="keywordtype">string</span> text=<a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>, <a class="code" href="structscene.html">scene</a> <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>=<span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">bool</span> <a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>=<span class="keyword">true</span>,</div>
<div class="line"><a name="l02796"></a><span class="lineno"><a class="line" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f"> 2796</a></span>&#160;             <span class="keywordtype">string</span> options=<span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">string</span> script=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="plain__prethree_8asy.html#a5e51bbd1d6e9f644315850116a565c65">currentlight</a>)</div>
<div class="line"><a name="l02797"></a><span class="lineno"><a class="line" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c"> 2797</a></span>&#160;{</div>
<div class="line"><a name="l02798"></a><span class="lineno"><a class="line" href="three_8asy.html#ac27cc4bbf7f11e28f3c749e0aa61ed5b"> 2798</a></span>&#160;  <span class="keywordtype">object</span> <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>;</div>
<div class="line"><a name="l02799"></a><span class="lineno"><a class="line" href="three_8asy.html#a3a0d5afaf5ff0c4d11398d447acc91e9"> 2799</a></span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> modelview;</div>
<div class="line"><a name="l02800"></a><span class="lineno"><a class="line" href="three_8asy.html#abf4434cb369054c1908f82fbbf912d33"> 2800</a></span>&#160;  <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.P;</div>
<div class="line"><a name="l02801"></a><span class="lineno"><a class="line" href="three_8asy.html#a32c8ff06e7206680a924b3ba4f80b5a2"> 2801</a></span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="slide_8asy.html#aa4c297264c9e95a82035be6cd5158d98">tinv</a>=<a class="code" href="namespacerun.html#af5ebe7e996cab0672d494ff81be7d121">inverse</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.t);</div>
<div class="line"><a name="l02802"></a><span class="lineno"><a class="line" href="three_8asy.html#a826871947ddd4692641d9ab377f85697"> 2802</a></span>&#160; </div>
<div class="line"><a name="l02803"></a><span class="lineno"><a class="line" href="three_8asy.html#aa023a84f1ba53f790e4bedb6d139a7f9"> 2803</a></span>&#160;  <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> Q;</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;  triple orthoshift;</div>
<div class="line"><a name="l02805"></a><span class="lineno"><a class="line" href="three_8asy.html#a64131932f549b9fed1aa40407108732f"> 2805</a></span>&#160;  modelview=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.T.modelview;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;  <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> inv;</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>=<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>(<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.absolute) {</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    Q=modelview*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    inv=<a class="code" href="namespacerun.html#af5ebe7e996cab0672d494ff81be7d121">inverse</a>(modelview);</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    triple <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f=modelview*<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f;</div>
<div class="line"><a name="l02814"></a><span class="lineno"><a class="line" href="three_8asy.html#a04eb9efa4ec689bc1bfe42b2eb6d0ac0"> 2814</a></span>&#160;    <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=modelview*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>;</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    Q=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.copy();</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160; </div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    <span class="keywordflow">if</span>(Q.t[2][3] == -1) <span class="comment">// PRC can&#39;t handle oblique projections</span></div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;      Q=<a class="code" href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.camera,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.up,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.zoom,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.viewportshift,</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;                     <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.showtarget,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.center);</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160; </div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity) {</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;      triple <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>=<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f);</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;      triple <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f);</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;      triple lambda=<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>-<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>;</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.keepAspect || <a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>) {</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;        <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.viewportmargin=<a class="code" href="three_8asy.html#abf4434cb369054c1908f82fbbf912d33">viewportmargin</a>((lambda.x,lambda.y));</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;        <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.width=<a class="code" href="graph_8asy.html#aa0490659d38caa08d04d91bfd8cb17d2">ceil</a>(lambda.x+2*<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.viewportmargin.x);</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;        <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.height=<a class="code" href="graph_8asy.html#aa0490659d38caa08d04d91bfd8cb17d2">ceil</a>(lambda.y+2*<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.viewportmargin.y);</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;      }</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;      orthoshift=(-0.5(<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>.x+<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>.<a class="code" href="structpoint.html#ac15e6fcd1d7b4df9ec42d89ee24c8475">x</a>),-0.5*(<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>.y+<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>.<a class="code" href="structpoint.html#a70bbe74de30933e284583d37c5936fc9">y</a>),0);</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f=<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(orthoshift)*<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f; <span class="comment">// Eye will be at (0,0,0)</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;      inv=<a class="code" href="namespacerun.html#af5ebe7e996cab0672d494ff81be7d121">inverse</a>(modelview);</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle == 0) {</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;        <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle=<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.angle(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;        modelview=<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.T*modelview;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.viewportmargin.y != 0)</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;          <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle=2*aTan(<a class="code" href="texcolors_8asy.html#a8a9b0f63c23fd243b7e6baadcf0478b2">Tan</a>(0.5*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle)-<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.viewportmargin.y/<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target.z);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;      }</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;      inv=<a class="code" href="namespacerun.html#af5ebe7e996cab0672d494ff81be7d121">inverse</a>(modelview);</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;      Q.angle=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle;</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="namespacesettings.html">settings</a>.verbose &gt; 0) {</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.adjusted)</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;          <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<span class="stringliteral">&quot;adjusting camera to &quot;</span>,<a class="code" href="slide_8asy.html#aa4c297264c9e95a82035be6cd5158d98">tinv</a>*inv*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.camera);</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;        <a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>=inv*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;      }</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;      <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.T*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>;</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    }</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespacesettings.html">settings</a>.verbose &gt; 0) {</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;      <span class="keywordflow">if</span>((<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.center &amp;&amp; <a class="code" href="namespacesettings.html">settings</a>.render != 0) || (!<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity &amp;&amp; <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.autoadjust))</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;        <a class="code" href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a>(<span class="stringliteral">&quot;adjusting target to &quot;</span>,<a class="code" href="slide_8asy.html#aa4c297264c9e95a82035be6cd5158d98">tinv</a>*<a class="code" href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a>);</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    }</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  }</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <a class="code" href="structlight.html">light</a> Light=modelview*<a class="code" href="v3d_8asy.html#aec502adcaade532d075d75056f17ca0f">light</a>;</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160; </div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a> == <span class="stringliteral">&quot;&quot;</span>) <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<a class="code" href="plain__shipout_8asy.html#af5525222dafc4fb36a7941b86564004c">outprefix</a>();</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;  <span class="keywordtype">bool</span> preview=<a class="code" href="namespacesettings.html">settings</a>.render &gt; 0 &amp;&amp; !<a class="code" href="plain__shipout_8asy.html#ab1ec2d860526c93da9364b16a1975552">prconly</a>() &amp;&amp; !<a class="code" href="namespacesettings.html">settings</a>.v3d;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a> || <a class="code" href="namespacesettings.html">settings</a>.v3d) {</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="comment">// The media9.sty package cannot handle spaces or dots in filenames.</span></div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <span class="keywordtype">string</span> <a class="code" href="structdir.html">dir</a>=stripfile(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>);</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<a class="code" href="structdir.html">dir</a>+<a class="code" href="plain__strings_8asy.html#a715f89abb13c53782fbe0801c4578d73">replace</a>(stripdirectory(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>),</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                       <span class="keyword">new</span> <span class="keywordtype">string</span>[][]{{<span class="stringliteral">&quot; &quot;</span>,<span class="stringliteral">&quot;_&quot;</span>},{<span class="stringliteral">&quot;.&quot;</span>,<span class="stringliteral">&quot;_&quot;</span>}});</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="namespacesettings.html">settings</a>.embed || <a class="code" href="namespacesettings.html#a9a30c406b85b28268fbc113092f84be6">nativeformat</a>() == <span class="stringliteral">&quot;pdf&quot;</span>) &amp;&amp; !<a class="code" href="plain__shipout_8asy.html#ab1ec2d860526c93da9364b16a1975552">prconly</a>())</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;      <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a> += <span class="stringliteral">&quot;+&quot;</span>+(<a class="code" href="namespacemem.html#a80d69dc16b59f697ff4f74adc111809a">string</a>) <a class="code" href="plain__shipout_8asy.html#a492ec9237389948eef49bd2778ed98ec">file3</a>.length;</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    preview=<span class="keyword">false</span>;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  <span class="keywordflow">if</span>(preview || (!<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a> &amp;&amp; <a class="code" href="namespacesettings.html">settings</a>.render != 0) || <a class="code" href="namespacesettings.html">settings</a>.v3d) {</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>=<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    triple <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>,<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    real zcenter;</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    real <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>;</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.absolute) {</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;      <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>=modelview*<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;      <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>=<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;      <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;      <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>=0.5*<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>-<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>);</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;      zcenter=0.5*(<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>.z+<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>.z);</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;      <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>=<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;      zcenter=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.target.z;</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;      <a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.distance(<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>,<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>);</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    }</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=(<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>.<a class="code" href="structpoint.html#ac15e6fcd1d7b4df9ec42d89ee24c8475">x</a>,<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>.<a class="code" href="structpoint.html#a70bbe74de30933e284583d37c5936fc9">y</a>,zcenter+<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>);</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;    <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>=(<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>.x,<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>.y,zcenter-<a class="code" href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a>);</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160; </div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity) {</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;      triple <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.viewportmargin.x,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.viewportmargin.y,0);</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;      <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a> += <a class="code" href="three_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>;</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;      <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a> -= <a class="code" href="three_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>;</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>.z &gt;= 0 &amp;&amp; !<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.pic2.empty()) abort(<span class="stringliteral">&quot;camera too close&quot;</span>);</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160; </div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three__surface_8asy.html#a4133aae837366539aea64e158fbc93c8">primitive</a>())</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;      <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>=<a class="code" href="namespacesettings.html">settings</a>.v3d ? <span class="stringliteral">&quot;v3d&quot;</span> : <a class="code" href="namespacesettings.html">settings</a>.outformat;</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160; </div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>=inv*<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(0,0,zcenter);</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160; </div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    shipout3(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,preview ? <a class="code" href="namespacesettings.html#a9a30c406b85b28268fbc113092f84be6">nativeformat</a>() : <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;             <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.width-defaultrender.<a class="code" href="structrender.html#ad7b10b80e28f0a36cf1d63f34c71ae5b">margin</a>,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.height-defaultrender.<a class="code" href="structrender.html#ad7b10b80e28f0a36cf1d63f34c71ae5b">margin</a>,</div>
<div class="line"><a name="l02900"></a><span class="lineno"><a class="line" href="three_8asy.html#a6ff2ccb09c017dda77b2f0fe3cd9b14a"> 2900</a></span>&#160;             <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity ? 0 : 2aTan(<a class="code" href="texcolors_8asy.html#a8a9b0f63c23fd243b7e6baadcf0478b2">Tan</a>(0.5*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.angle)*<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.zoom),</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;             <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.zoom,<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>,<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.viewportshift,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.viewportmargin,</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;             <a class="code" href="slide_8asy.html#aa4c297264c9e95a82035be6cd5158d98">tinv</a>*<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,<a class="code" href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">s</a>,Light.<a class="code" href="structlight.html#a360b43199b82776069fc9d8b1307e150">background</a>(),Light.<a class="code" href="structlight.html#a96c8a859f11f3eaad95f14df3003a758">position</a>,</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;             Light.<a class="code" href="structlight.html#a5d461a48497d05aaa04607aecdf9df6e">diffuse</a>,Light.<a class="code" href="structlight.html#aecc649ac707d09260da6a11a8db74872">specular</a>,</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;             <a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a> &amp;&amp; !preview);</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespacesettings.html">settings</a>.v3d) {</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;      <span class="keywordtype">string</span> <a class="code" href="drawtree_8asy.html#a5f7a41c1115981da3efec41e4f10bebb">content</a>=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>+<span class="stringliteral">&quot;.v3d&quot;</span>;</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;      <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>.L=<a class="code" href="plain__shipout_8asy.html#a423e0d3784cf809ce11394e3565ea26b">Embed</a>(<a class="code" href="drawtree_8asy.html#a5f7a41c1115981da3efec41e4f10bebb">content</a>,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.width,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.height);</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="namespacesettings.html">settings</a>.inlinetex) <a class="code" href="plain__shipout_8asy.html#a492ec9237389948eef49bd2778ed98ec">file3</a>.push(<a class="code" href="drawtree_8asy.html#a5f7a41c1115981da3efec41e4f10bebb">content</a>);</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>;</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    }</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="keywordflow">if</span>(!preview) <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>;</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;  }</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160; </div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  <span class="keywordtype">string</span> <a class="code" href="palette_8asy.html#a857ccf22fe404195047a93cffec6fc3b">image</a>;</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  <span class="keywordflow">if</span>((preview || (<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a> &amp;&amp; <a class="code" href="namespacesettings.html">settings</a>.render == 0)) &amp;&amp; <a class="code" href="namespacesettings.html">settings</a>.embed) {</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    <a class="code" href="palette_8asy.html#a857ccf22fe404195047a93cffec6fc3b">image</a>=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>;</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespacesettings.html">settings</a>.inlinetex) <a class="code" href="palette_8asy.html#a857ccf22fe404195047a93cffec6fc3b">image</a> += <span class="stringliteral">&quot;_0&quot;</span>;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <a class="code" href="palette_8asy.html#a857ccf22fe404195047a93cffec6fc3b">image</a> += <span class="stringliteral">&quot;.&quot;</span>+<a class="code" href="namespacesettings.html#a9a30c406b85b28268fbc113092f84be6">nativeformat</a>();</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="namespacesettings.html">settings</a>.inlinetex) <a class="code" href="plain__shipout_8asy.html#a492ec9237389948eef49bd2778ed98ec">file3</a>.push(<a class="code" href="palette_8asy.html#a857ccf22fe404195047a93cffec6fc3b">image</a>);</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <a class="code" href="palette_8asy.html#a857ccf22fe404195047a93cffec6fc3b">image</a>=<a class="code" href="plain__strings_8asy.html#a7da0ff2f23a180acb0d7173c4911164a">graphic</a>(<a class="code" href="palette_8asy.html#a857ccf22fe404195047a93cffec6fc3b">image</a>,<span class="stringliteral">&quot;hiresbb&quot;</span>);</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  }</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>) {</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.viewportshift != 0) {</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity)</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;      <a class="code" href="errormsg_8h.html#ac2b310a70298b642c6a01025a1d3a479">warning</a>(<span class="stringliteral">&quot;offaxis&quot;</span>,</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;              <span class="stringliteral">&quot;PRC does not support off-axis projections; use pan instead of</span></div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;<span class="stringliteral">shift&quot;</span>);</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160; </div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    triple lambda=<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f)-<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    Q.target -= (<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.viewportshift.x*lambda.x/<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.zoom,</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;                   <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.viewportshift.y*lambda.y/<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.zoom,0);</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    }</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160; </div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    real viewplanesize=0;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.absolute) {</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity) {</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;        <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f=modelview*<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f;</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;        triple lambda=<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f)-<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f);</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;        pair <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=<a class="code" href="three_8asy.html#abf4434cb369054c1908f82fbbf912d33">viewportmargin</a>((lambda.x,lambda.y));</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;        viewplanesize=(<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(lambda.x+2*<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>.x,lambda.y+2*<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>.y))/Q.zoom;</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;        <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f=inv*<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f;</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;      }</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;      Q=inv*Q;</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.infinity) {</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;        triple lambda=<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f)-<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f);</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;        pair <a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>=<a class="code" href="three_8asy.html#abf4434cb369054c1908f82fbbf912d33">viewportmargin</a>((lambda.x,lambda.y));</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;        viewplanesize=(<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(lambda.x+2*<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>.x,lambda.y+2*<a class="code" href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a>.y))/Q.zoom;</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;        <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>=inv*<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(-orthoshift);</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;        Q=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*Q;</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;        <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f=<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f;</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;        Q=inv*Q;</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;        <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f=inv*<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f;</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;      }</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    }</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>.L=<a class="code" href="three_8asy.html#a1896fb50bc4a56e2e025002d4bf3aee3">embed3D</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>,text=<a class="code" href="palette_8asy.html#a857ccf22fe404195047a93cffec6fc3b">image</a>,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.f,<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;                <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.width-2,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.height-2,options,script,<a class="code" href="structlight.html">light</a>,Q,viewplanesize);</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;  }</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>;</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;}</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160; </div>
<div class="line"><a name="l02963"></a><span class="lineno"><a class="line" href="three_8asy.html#ae9a8fec42079c5c4608431955ec08c3c"> 2963</a></span>&#160;<span class="keywordtype">object</span> <a class="code" href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b">embed</a>(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<a class="code" href="plain__shipout_8asy.html#af5525222dafc4fb36a7941b86564004c">outprefix</a>(), <span class="keywordtype">string</span> <a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;             <span class="keywordtype">string</span> text=<a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>, <a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;             real <a class="code" href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a5fa4b87d4c26b3a27db7ee3b9c836ffd">xsize</a>, real <a class="code" href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a063a4c9802a28b10741f1a3458378630">ysize</a>,</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;             <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#aa023a84f1ba53f790e4bedb6d139a7f9">keepAspect</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a636a2c8061042c9fe2e186005dabb14a">keepAspect</a>, <span class="keywordtype">bool</span> <a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>=<span class="keyword">true</span>, <span class="keywordtype">string</span> options=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;             <span class="keywordtype">string</span> script=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="plain__prethree_8asy.html#a5e51bbd1d6e9f644315850116a565c65">currentlight</a>,</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;             <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;{</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>=<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>(<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  <a class="code" href="structscene.html">scene</a> <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>=<a class="code" href="structscene.html">scene</a>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a>,<a class="code" href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a>,<a class="code" href="three_8asy.html#aa023a84f1ba53f790e4bedb6d139a7f9">keepAspect</a>,<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a> &amp;&amp; !(<a class="code" href="namespacesettings.html">settings</a>.xasy &amp;&amp; <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a> == <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b">embed</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>,text,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>,<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,<a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>,options,script,<a class="code" href="structlight.html">light</a>);</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    <span class="keywordtype">object</span> <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>;</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    <a class="code" href="three_8asy.html#acc3f70c0155a91346ee5d39e7f2d356a">transform</a> <a class="code" href="structevaluatedpoint.html">T</a>=<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.pic2.scaling(<a class="code" href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a>,<a class="code" href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a>,<a class="code" href="three_8asy.html#aa023a84f1ba53f790e4bedb6d139a7f9">keepAspect</a>);</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>.f=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a35767312b27a444577085e059da904f7">fit</a>(<a class="code" href="three_8asy.html#aa7b19ad43ffd9deb52d9eb4055c651bb">scale</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.t[0][0])*<a class="code" href="structevaluatedpoint.html">T</a>);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>.f,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.pic2.fit());</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>;</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  }</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;}</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160; </div>
<div class="line"><a name="l02983"></a><span class="lineno"><a class="line" href="three_8asy.html#aec1857db03c3de430dc1f5cdea1903b8"> 2983</a></span>&#160;<span class="keywordtype">object</span> <a class="code" href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b">embed</a>(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<a class="code" href="plain__shipout_8asy.html#af5525222dafc4fb36a7941b86564004c">outprefix</a>(), <span class="keywordtype">string</span> <a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;             <span class="keywordtype">string</span> text=<a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>,</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;             frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>=<span class="stringliteral">&quot;&quot;</span>, real <a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a>=0, real <a class="code" href="three_8asy.html#a3a0d5afaf5ff0c4d11398d447acc91e9">height</a>=0,</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;             <span class="keywordtype">bool</span> <a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>=<span class="keyword">true</span>, <span class="keywordtype">string</span> options=<span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">string</span> script=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;             <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="plain__prethree_8asy.html#a5e51bbd1d6e9f644315850116a565c65">currentlight</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;{</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>(<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>))</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b">embed</a>(<a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>,text,<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="structscene.html">scene</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a>,<a class="code" href="three_8asy.html#a3a0d5afaf5ff0c4d11398d447acc91e9">height</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>),<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,<a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>,options,</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;                 script,<a class="code" href="structlight.html">light</a>);</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    <span class="keywordtype">object</span> <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;    <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>.f=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>;</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;  }</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;}</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160; </div>
<div class="line"><a name="l02999"></a><span class="lineno"><a class="line" href="three_8asy.html#af776f50dbb03f81930fe6128399d4b8d"> 2999</a></span>&#160;<a class="code" href="three_8asy.html#af776f50dbb03f81930fe6128399d4b8d">embed3</a>=<span class="keyword">new</span> <a class="code" href="plain__boxes_8asy.html#a3f39dac730749079c8efe7cfc317650e">object</a>(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>, frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>, <span class="keywordtype">string</span> options,</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;                  <span class="keywordtype">string</span> script, <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>) {</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b">embed</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,options,script,<a class="code" href="structlight.html">light</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;};</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160; </div>
<div class="line"><a name="l03004"></a><span class="lineno"><a class="line" href="three_8asy.html#aa5855ee49b0b427c8ed09b5203bb83e4"> 3004</a></span>&#160;frame <a class="code" href="three_8asy.html#aa5855ee49b0b427c8ed09b5203bb83e4">embedder</a>(<span class="keywordtype">object</span> <a class="code" href="three_8asy.html#aa5855ee49b0b427c8ed09b5203bb83e4">embedder</a>(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>),</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;               <span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>, <span class="keywordtype">bool</span> <a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>, <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>)</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;{</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>=<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>(<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>) || <a class="code" href="namespacesettings.html">settings</a>.v3d;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a> &amp;&amp; <a class="code" href="namespacesettings.html">settings</a>.render != 0 &amp;&amp; !<a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>) {</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> previewcount=0;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;    <span class="keywordtype">bool</span> keep=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a> != <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<a class="code" href="plain__shipout_8asy.html#af5525222dafc4fb36a7941b86564004c">outprefix</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>)+<span class="stringliteral">&quot;+&quot;</span>+(<a class="code" href="namespacemem.html#a80d69dc16b59f697ff4f74adc111809a">string</a>) previewcount;</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    ++previewcount;</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;    <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>=<a class="code" href="namespacesettings.html#a9a30c406b85b28268fbc113092f84be6">nativeformat</a>();</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    <span class="keywordflow">if</span>(!keep) <a class="code" href="plain__shipout_8asy.html#a492ec9237389948eef49bd2778ed98ec">file3</a>.push(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>+<span class="stringliteral">&quot;.&quot;</span>+<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>);</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;  }</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;  <span class="keywordtype">object</span> <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>=<a class="code" href="three_8asy.html#aa5855ee49b0b427c8ed09b5203bb83e4">embedder</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>);</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a>)</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    <a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>.L);</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespacesettings.html">settings</a>.render == 0) {</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;      <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>.f);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="structlight.html">light</a>.<a class="code" href="structlight.html#a360b43199b82776069fc9d8b1307e150">background</a> != <a class="code" href="plain__pens_8asy.html#aa7de851e50303c39134eb2750f771ea4">nullpen</a>)</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;        <a class="code" href="three_8asy.html#a256afafa04029ab8a3404748278b1497">box</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="structlight.html">light</a>.<a class="code" href="structlight.html#a360b43199b82776069fc9d8b1307e150">background</a>,<a class="code" href="plain__filldraw_8asy.html#a70b63d9804c0fcb59d3e36e970020951">Fill</a>,<a class="code" href="plain__markers_8asy.html#ae9abafd76f56fba5203ec938b2560991">above</a>=<span class="keyword">false</span>);</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!<a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>)</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;      <a class="code" href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">label</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="namespacesettings.html">settings</a>.inlinetex ?</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;            <span class="stringliteral">&quot;\input{&quot;</span>+<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>+<span class="stringliteral">&quot;}&quot;</span> : <a class="code" href="plain__strings_8asy.html#a7da0ff2f23a180acb0d7173c4911164a">graphic</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<span class="stringliteral">&quot;hiresbb&quot;</span>));</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;  }</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;}</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160; </div>
<div class="line"><a name="l03032"></a><span class="lineno"><a class="line" href="three_8asy.html#a1d9f4d323b0c688bf6bd5d359c188087"> 3032</a></span>&#160;<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>.<a class="code" href="structpicture.html#a4a0a5fc1d6bd06e966db9407652a85ee">fitter</a>=<span class="keyword">new</span> frame(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>, <a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;                                real <a class="code" href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a>, real <a class="code" href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a>, <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#aa023a84f1ba53f790e4bedb6d139a7f9">keepAspect</a>,</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                                <span class="keywordtype">bool</span> <a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>, <span class="keywordtype">string</span> options, <span class="keywordtype">string</span> script,</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;                                <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>) {</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="plain__picture_8asy.html#a66272efdef25f79b7099130939a586e3">empty3</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#ad1fdb8bbf045b167160dbbb6557e1d87">empty3</a>();</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="plain__picture_8asy.html#a66272efdef25f79b7099130939a586e3">empty3</a> || <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a47db8175dd43ef0b7142a431f7b114f9">queueErase3</a>) {</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>=<a class="code" href="three_8asy.html#aa5855ee49b0b427c8ed09b5203bb83e4">embedder</a>(<span class="keyword">new</span> <span class="keywordtype">object</span>(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>) {</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b">embed</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>,<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,<a class="code" href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a>,<a class="code" href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a>,<a class="code" href="three_8asy.html#aa023a84f1ba53f790e4bedb6d139a7f9">keepAspect</a>,<a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>,</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;                     options,script,<a class="code" href="structlight.html">light</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;      },<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,<a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>,<a class="code" href="v3d_8asy.html#aec502adcaade532d075d75056f17ca0f">light</a>);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a47db8175dd43ef0b7142a431f7b114f9">queueErase3</a>=<span class="keyword">false</span>;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;  }</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160; </div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>(<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>) || <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a2bfd91575a9b4a41c25c4ddba93da796">queueErase</a> || <a class="code" href="namespacesettings.html">settings</a>.render == 0)</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#ad36006069527c3fb139e770a296c006f">fit2</a>(<a class="code" href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a>,<a class="code" href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a>,<a class="code" href="three_8asy.html#aa023a84f1ba53f790e4bedb6d139a7f9">keepAspect</a>));</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;};</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160; </div>
<div class="line"><a name="l03051"></a><span class="lineno"><a class="line" href="three_8asy.html#aaeaa6b7504acdc20de71969887411549"> 3051</a></span>&#160;frame <a class="code" href="three_8asy.html#aa5855ee49b0b427c8ed09b5203bb83e4">embedder</a>(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>, frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>, real <a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a>, real <a class="code" href="three_8asy.html#a3a0d5afaf5ff0c4d11398d447acc91e9">height</a>,</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;               <span class="keywordtype">bool</span> <a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>, <span class="keywordtype">string</span> options, <span class="keywordtype">string</span> script, <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>,</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;               <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>)</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;{</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#aa5855ee49b0b427c8ed09b5203bb83e4">embedder</a>(<span class="keyword">new</span> <span class="keywordtype">object</span>(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>) {</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b">embed</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,<a class="code" href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a>,<a class="code" href="three_8asy.html#a3a0d5afaf5ff0c4d11398d447acc91e9">height</a>,<a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>,options,script,</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                   <a class="code" href="structlight.html">light</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    },<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,<a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>,<a class="code" href="v3d_8asy.html#aec502adcaade532d075d75056f17ca0f">light</a>);</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;}</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160; </div>
<div class="line"><a name="l03061"></a><span class="lineno"><a class="line" href="three_8asy.html#aa76e815eeb8712bc3a03d24ab98aad6b"> 3061</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[][] <a class="code" href="three_8asy.html#aa76e815eeb8712bc3a03d24ab98aad6b">ThreeViewsUS</a>={{<a class="code" href="three_8asy.html#aad9dbc63807ae89447641c1b757b08ff">TopView</a>},</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;                             {<a class="code" href="three_8asy.html#a04dd3c759085ab55136c0af8e6bad847">FrontView</a>,<a class="code" href="three_8asy.html#af5b892ba4c2317293012f1691c11f808">RightView</a>}};</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160; </div>
<div class="line"><a name="l03064"></a><span class="lineno"><a class="line" href="three_8asy.html#ae2b00089aa974e9aa1b2bf2c08e99bd5"> 3064</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[][] <a class="code" href="three_8asy.html#ae2b00089aa974e9aa1b2bf2c08e99bd5">SixViewsUS</a>={{<span class="keyword">null</span>,<a class="code" href="three_8asy.html#aad9dbc63807ae89447641c1b757b08ff">TopView</a>},</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;                           {<a class="code" href="three_8asy.html#a91e87defe143ed1fcddb707c568d0c53">LeftView</a>,<a class="code" href="three_8asy.html#a04dd3c759085ab55136c0af8e6bad847">FrontView</a>,<a class="code" href="three_8asy.html#af5b892ba4c2317293012f1691c11f808">RightView</a>,<a class="code" href="three_8asy.html#acdafb953bb894cd5384929f89b576bb2">BackView</a>},</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;                           {<span class="keyword">null</span>,<a class="code" href="three_8asy.html#a090b38e905a42d66877194e8ea0657ff">BottomView</a>}};</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160; </div>
<div class="line"><a name="l03068"></a><span class="lineno"><a class="line" href="three_8asy.html#aba06a7e758df61847f213c837aa5f2d7"> 3068</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[][] <a class="code" href="three_8asy.html#aba06a7e758df61847f213c837aa5f2d7">ThreeViewsFR</a>={{<a class="code" href="three_8asy.html#af5b892ba4c2317293012f1691c11f808">RightView</a>,<a class="code" href="three_8asy.html#a04dd3c759085ab55136c0af8e6bad847">FrontView</a>},</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;                             {<span class="keyword">null</span>,<a class="code" href="three_8asy.html#aad9dbc63807ae89447641c1b757b08ff">TopView</a>}};</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160; </div>
<div class="line"><a name="l03071"></a><span class="lineno"><a class="line" href="three_8asy.html#aa9a4932ecb8b5079921b169f5b9fd66c"> 3071</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[][] <a class="code" href="three_8asy.html#aa9a4932ecb8b5079921b169f5b9fd66c">SixViewsFR</a>={{<span class="keyword">null</span>,<a class="code" href="three_8asy.html#a090b38e905a42d66877194e8ea0657ff">BottomView</a>},</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;                           {<a class="code" href="three_8asy.html#af5b892ba4c2317293012f1691c11f808">RightView</a>,<a class="code" href="three_8asy.html#a04dd3c759085ab55136c0af8e6bad847">FrontView</a>,<a class="code" href="three_8asy.html#a91e87defe143ed1fcddb707c568d0c53">LeftView</a>,<a class="code" href="three_8asy.html#acdafb953bb894cd5384929f89b576bb2">BackView</a>},</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;                           {<span class="keyword">null</span>,<a class="code" href="three_8asy.html#aad9dbc63807ae89447641c1b757b08ff">TopView</a>}};</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160; </div>
<div class="line"><a name="l03075"></a><span class="lineno"><a class="line" href="three_8asy.html#a4675c100246960b926c68f25e1119fba"> 3075</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[][] <a class="code" href="three_8asy.html#a4675c100246960b926c68f25e1119fba">ThreeViews</a>={{<a class="code" href="three_8asy.html#a04dd3c759085ab55136c0af8e6bad847">FrontView</a>,<a class="code" href="three_8asy.html#aad9dbc63807ae89447641c1b757b08ff">TopView</a>,<a class="code" href="three_8asy.html#af5b892ba4c2317293012f1691c11f808">RightView</a>}};</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160; </div>
<div class="line"><a name="l03077"></a><span class="lineno"><a class="line" href="three_8asy.html#ade8d507acf6080b28fad392a46db3aba"> 3077</a></span>&#160;<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[][] <a class="code" href="three_8asy.html#ade8d507acf6080b28fad392a46db3aba">SixViews</a>={{<a class="code" href="three_8asy.html#a04dd3c759085ab55136c0af8e6bad847">FrontView</a>,<a class="code" href="three_8asy.html#aad9dbc63807ae89447641c1b757b08ff">TopView</a>,<a class="code" href="three_8asy.html#af5b892ba4c2317293012f1691c11f808">RightView</a>},</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;                         {<a class="code" href="three_8asy.html#acdafb953bb894cd5384929f89b576bb2">BackView</a>,<a class="code" href="three_8asy.html#a090b38e905a42d66877194e8ea0657ff">BottomView</a>,<a class="code" href="three_8asy.html#a91e87defe143ed1fcddb707c568d0c53">LeftView</a>}};</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160; </div>
<div class="line"><a name="l03080"></a><span class="lineno"><a class="line" href="three_8asy.html#a5af38ef8a878c8476e26baee7872545e"> 3080</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a5af38ef8a878c8476e26baee7872545e">addViews</a>(<a class="code" href="structpicture.html">picture</a> dest, <a class="code" href="structpicture.html">picture</a> src, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[][] views=<a class="code" href="three_8asy.html#ae2b00089aa974e9aa1b2bf2c08e99bd5">SixViewsUS</a>,</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;              <span class="keywordtype">bool</span> group=<span class="keyword">true</span>, <a class="code" href="structfilltype.html">filltype</a> <a class="code" href="structfilltype.html">filltype</a>=NoFill)</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;{</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;  frame[][] <a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>=<a class="code" href="plain__strings_8asy.html#a3d835a08fa296bbf38a63f8dd5eb76d5">array</a>(views.length,<span class="keyword">new</span> frame[]);</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  pair[][] <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=<a class="code" href="plain__strings_8asy.html#a3d835a08fa296bbf38a63f8dd5eb76d5">array</a>(views.length,<span class="keyword">new</span> pair[]);</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;  pair[][] <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>=<a class="code" href="plain__strings_8asy.html#a3d835a08fa296bbf38a63f8dd5eb76d5">array</a>(views.length,<span class="keyword">new</span> pair[]);</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160; </div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; views.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[] viewsi=views[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    frame[] Fi=<a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    pair[] Mi=<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    pair[] mi=<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    <span class="keywordflow">for</span>(<a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a> : viewsi) {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a> != <span class="keyword">null</span>) {</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>=src.<a class="code" href="structpicture.html#a35767312b27a444577085e059da904f7">fit</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        mi.push(<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>));</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;        Mi.push(<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>));</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;        Fi.push(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>);</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;        pair <a class="code" href="geometry_8asy.html#ab563052a79b6e768b7955d27c507b9fd">Infinity</a>=(<a class="code" href="plain__prethree_8asy.html#a5b951aaf65f14b0961f103cea90bafe3">infinity</a>,<a class="code" href="plain__prethree_8asy.html#a5b951aaf65f14b0961f103cea90bafe3">infinity</a>);</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;        mi.push(<a class="code" href="geometry_8asy.html#ab563052a79b6e768b7955d27c507b9fd">Infinity</a>);</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        Mi.push(-<a class="code" href="geometry_8asy.html#ab563052a79b6e768b7955d27c507b9fd">Infinity</a>);</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;        Fi.push(newframe);</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      }</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    }</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;  }</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160; </div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;  real[] my=<span class="keyword">new</span> real[views.length];</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;  real[] My=<span class="keyword">new</span> real[views.length];</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160; </div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  <span class="keywordtype">int</span> Nj=0;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; views.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    my[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="three__surface_8asy.html#a025286b0b6b4704800487c9f7215eab1">minbound</a>(<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]).y;</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    My[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="three__surface_8asy.html#a0ed578f475a0bfa13e11cd4dd92a4ca0">maxbound</a>(<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]).y;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    Nj=<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(Nj,views[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].<a class="code" href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a>);</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  }</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160; </div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  real[] mx=<a class="code" href="plain__strings_8asy.html#a3d835a08fa296bbf38a63f8dd5eb76d5">array</a>(Nj,<a class="code" href="plain__prethree_8asy.html#a5b951aaf65f14b0961f103cea90bafe3">infinity</a>);</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;  real[] Mx=<a class="code" href="plain__strings_8asy.html#a3d835a08fa296bbf38a63f8dd5eb76d5">array</a>(Nj,-<a class="code" href="plain__prethree_8asy.html#a5b951aaf65f14b0961f103cea90bafe3">infinity</a>);</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; views.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    pair[] mi=<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    pair[] Mi=<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j &lt; views[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].length; ++j) {</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;      mx[j]=<a class="code" href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a>(mx[j],mi[j].<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>);</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;      Mx[j]=<a class="code" href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a>(Mx[j],Mi[j].<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>);</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    }</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;  }</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160; </div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  <span class="keywordflow">if</span>(group) <a class="code" href="plain__picture_8asy.html#ab5eb312cb87a2207aeaf491238ae5a20">begingroup</a>(dest);</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160; </div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  real <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>;</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; views.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    real <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>;</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    pair[] mi=<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>];</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j &lt; views[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>].length; ++j) {</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#a1e85b1619007224764c10dce3b590fe6">size</a>(<a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>][j]) != 0)</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;        <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(dest,<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(<a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a>-mx[j],<a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a>+my[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>])*<a class="code" href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>][j],<a class="code" href="structfilltype.html">filltype</a>);</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      <a class="code" href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a> += (Mx[j]-mx[j]);</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    }</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;    <a class="code" href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a> -= (My[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]-my[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  }</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160; </div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  <span class="keywordflow">if</span>(group) <a class="code" href="plain__picture_8asy.html#ac05cdc07758674a77a99072d5ba778f1">endgroup</a>(dest);</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;}</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160; </div>
<div class="line"><a name="l03145"></a><span class="lineno"><a class="line" href="three_8asy.html#afec6b62df385c75e73921989852b5493"> 3145</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a5af38ef8a878c8476e26baee7872545e">addViews</a>(<a class="code" href="structpicture.html">picture</a> src, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[][] views=<a class="code" href="three_8asy.html#ae2b00089aa974e9aa1b2bf2c08e99bd5">SixViewsUS</a>, <span class="keywordtype">bool</span> group=<span class="keyword">true</span>,</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;              <a class="code" href="structfilltype.html">filltype</a> <a class="code" href="structfilltype.html">filltype</a>=NoFill)</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;{</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;  <a class="code" href="three_8asy.html#a5af38ef8a878c8476e26baee7872545e">addViews</a>(<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>,src,views,group,<a class="code" href="structfilltype.html">filltype</a>);</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;}</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160; </div>
<div class="line"><a name="l03151"></a><span class="lineno"><a class="line" href="three_8asy.html#abb04af740a1a1bfd49004348a79af27a"> 3151</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#abb04af740a1a1bfd49004348a79af27a">addStereoViews</a>(<a class="code" href="structpicture.html">picture</a> dest, <a class="code" href="structpicture.html">picture</a> src, <span class="keywordtype">bool</span> group=<span class="keyword">true</span>,</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                    <a class="code" href="structfilltype.html">filltype</a> <a class="code" href="structfilltype.html">filltype</a>=NoFill, real eyetoview=<a class="code" href="three_8asy.html#ac691e2730a5947d44e408a6e1948223a">defaulteyetoview</a>,</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;                    <span class="keywordtype">bool</span> leftright=<span class="keyword">true</span>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;{</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;  triple <a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.vector();</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;  triple <a class="code" href="geometry_8asy.html#aea48bde1a661e4c9d8cb7fd80af6a4d9">h</a>=0.5*<a class="code" href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a>(<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>)*eyetoview*<a class="code" href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a>(<a class="code" href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a>(<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.up,<a class="code" href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a>));</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;  <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> leftEye=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.copy();</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;  leftEye.camera -= <a class="code" href="geometry_8asy.html#aea48bde1a661e4c9d8cb7fd80af6a4d9">h</a>;</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;  leftEye.calculate();</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> rightEye=<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>.copy();</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;  rightEye.camera += <a class="code" href="geometry_8asy.html#aea48bde1a661e4c9d8cb7fd80af6a4d9">h</a>;</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  rightEye.calculate();</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;  <a class="code" href="three_8asy.html#a5af38ef8a878c8476e26baee7872545e">addViews</a>(dest,src,leftright ?</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;           <span class="keyword">new</span> <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[][] {{leftEye,rightEye}} :</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;           <span class="keyword">new</span> <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>[][] {{rightEye,leftEye}},group,<a class="code" href="structfilltype.html">filltype</a>);</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;}</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160; </div>
<div class="line"><a name="l03168"></a><span class="lineno"><a class="line" href="three_8asy.html#a20500eb4d5541be40d580880d0f64117"> 3168</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#abb04af740a1a1bfd49004348a79af27a">addStereoViews</a>(<a class="code" href="structpicture.html">picture</a> src, <span class="keywordtype">bool</span> group=<span class="keyword">true</span>,</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                    <a class="code" href="structfilltype.html">filltype</a> <a class="code" href="structfilltype.html">filltype</a>=NoFill,</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                    real eyetoview=<a class="code" href="three_8asy.html#ac691e2730a5947d44e408a6e1948223a">defaulteyetoview</a>, <span class="keywordtype">bool</span> leftright=<span class="keyword">true</span>,</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;                    <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;{</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;  <a class="code" href="three_8asy.html#abb04af740a1a1bfd49004348a79af27a">addStereoViews</a>(<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>,src,group,<a class="code" href="structfilltype.html">filltype</a>,eyetoview,leftright,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;}</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160; </div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;<span class="comment">// Fit an array of 3D pictures simultaneously using the sizing of picture all.</span></div>
<div class="line"><a name="l03177"></a><span class="lineno"><a class="line" href="three_8asy.html#a6db3826025d3ad02b251a73bd3a4826a"> 3177</a></span>&#160;frame[] <a class="code" href="three_8asy.html#a6db3826025d3ad02b251a73bd3a4826a">fit3</a>(<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structpicture.html">picture</a>[] <a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>, <a class="code" href="structpicture.html">picture</a> all,</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;             <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>=<span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">bool</span> <a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>=<span class="keyword">true</span>, <span class="keywordtype">string</span> options=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;             <span class="keywordtype">string</span> script=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structlight.html">light</a> <a class="code" href="structlight.html">light</a>=<a class="code" href="plain__prethree_8asy.html#a5e51bbd1d6e9f644315850116a565c65">currentlight</a>,</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;             <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>)</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;{</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;  frame[] <a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>;</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;  <a class="code" href="structscene.html">scene</a> <a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>=<a class="code" href="structscene.html">scene</a>(all,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;  triple <a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>=all.<a class="code" href="structpicture.html#a61e2445a994fac003ff86eb035bef04e">min</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.t);</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;  triple <a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>=all.<a class="code" href="structpicture.html#a6bb4b71f3a51f2fcb23b87516af7d71a">max</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.t);</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;  <a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>=<span class="keyword">new</span> frame[<a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>.length];</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0;</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="three_8asy.html#a74d708555781e4ddf65c0b688349d55b">reverse</a>=<a class="code" href="namespacesettings.html">settings</a>.reverse;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;  <a class="code" href="namespacesettings.html">settings</a>.animating=<span class="keyword">true</span>;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160; </div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a> : <a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>) {</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    <a class="code" href="structpicture.html">picture</a> <a class="code" href="three_8asy.html#a826871947ddd4692641d9ab377f85697">pic2</a>;</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>=<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#aa9affe5070cf69c83c2001543df93425">fit3</a>(<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.t,<a class="code" href="three_8asy.html#a826871947ddd4692641d9ab377f85697">pic2</a>,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.P);</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespacesettings.html">settings</a>.interrupt) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="three_8asy.html#a826871947ddd4692641d9ab377f85697">pic2</a>.<a class="code" href="structpicture.html#ad36006069527c3fb139e770a296c006f">fit2</a>());</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a>,<a class="code" href="plain__pens_8asy.html#aa7de851e50303c39134eb2750f771ea4">nullpen</a>);</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    <a class="code" href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a>,<a class="code" href="plain__pens_8asy.html#aa7de851e50303c39134eb2750f771ea4">nullpen</a>);</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    <a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>;</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;  }</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160; </div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;  <span class="keywordflow">while</span>(!<a class="code" href="namespacesettings.html">settings</a>.interrupt) {</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=<a class="code" href="namespacesettings.html">settings</a>.reverse ? <a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>.length-1 : 0;</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;        <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &gt;= 0 &amp;&amp; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>.length &amp;&amp; !<a class="code" href="namespacesettings.html">settings</a>.interrupt;</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;        <a class="code" href="namespacesettings.html">settings</a>.reverse ? --<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> : ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>) {</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;      frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>=<a class="code" href="three_8asy.html#aa5855ee49b0b427c8ed09b5203bb83e4">embedder</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>],<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.width,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.height,<a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>,options,</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;                       script,<a class="code" href="structlight.html">light</a>,<a class="code" href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a>.P);</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="namespacesettings.html">settings</a>.loop) <a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]=<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    }</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="namespacesettings.html">settings</a>.loop) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;  }</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160; </div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;  <a class="code" href="namespacesettings.html">settings</a>.animating=<span class="keyword">false</span>;</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;  <a class="code" href="namespacesettings.html">settings</a>.interrupt=<span class="keyword">false</span>;</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;  <a class="code" href="namespacesettings.html">settings</a>.reverse=<a class="code" href="three_8asy.html#a74d708555781e4ddf65c0b688349d55b">reverse</a>;</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160; </div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a>;</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;}</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160; </div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;<span class="comment">// Fit an array of pictures simultaneously using the size of the first picture.</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"><a class="line" href="three_8asy.html#a296b5e024862ae6c80e068507dd51669"> 3221</a></span>&#160;<a class="code" href="three_8asy.html#a296b5e024862ae6c80e068507dd51669">fit</a>=<span class="keyword">new</span> frame[](<span class="keywordtype">string</span> <a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>=<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="structpicture.html">picture</a>[] <a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>, <span class="keywordtype">string</span> <a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;                <span class="keywordtype">bool</span> <a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>=<span class="keyword">true</span>, <span class="keywordtype">string</span> options=<span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">string</span> script=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;                <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>=<a class="code" href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a>) {</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>.length == 0)</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> frame[];</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160; </div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;  <a class="code" href="structpicture.html">picture</a> all;</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;  <a class="code" href="three_8asy.html#a1e85b1619007224764c10dce3b590fe6">size</a>(all,<a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>[0]);</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a> : <a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>)</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(all,<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>);</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160; </div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;  <span class="keywordflow">return</span> all.<a class="code" href="structpicture.html#ad1fdb8bbf045b167160dbbb6557e1d87">empty3</a>() ? <a class="code" href="plain__arrows_8asy.html#ad093e7fa932215377cefea32cba53eff">fit2</a>(<a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>,all) :</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;  <a class="code" href="three_8asy.html#a6db3826025d3ad02b251a73bd3a4826a">fit3</a>(<a class="code" href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a>,<a class="code" href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a>,all,<a class="code" href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a>,<a class="code" href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">view</a>,options,script,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>);</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;};</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160; </div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;<span class="comment">// Add frame src to picture dest about position.</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"><a class="line" href="three_8asy.html#a1bcf94bb550b7277607c012c3243b481"> 3237</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="structpicture.html">picture</a> dest=<a class="code" href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a>, frame src, triple <a class="code" href="classposition.html">position</a>)</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;{</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a>(src)) {</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    dest.add(<span class="keyword">new</span> <span class="keywordtype">void</span>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, <a class="code" href="structpicture.html">picture</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a>) {</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;        <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="classposition.html">position</a>)*src);</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;      },<span class="keyword">true</span>);</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    dest.add(<span class="keyword">new</span> <span class="keywordtype">void</span>(frame, <a class="code" href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a> <a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>, <a class="code" href="structpicture.html">picture</a> <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>, <a class="code" href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a> <a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>) {</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a> != <span class="keyword">null</span>) {</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;          <a class="code" href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a>.<a class="code" href="structpicture.html#a0fa3f33515d5c46dcb9102c6f183cee7">add</a>(<span class="keyword">new</span> <span class="keywordtype">void</span>(frame <a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>, <a class="code" href="three_8asy.html#acc3f70c0155a91346ee5d39e7f2d356a">transform</a> <a class="code" href="structevaluatedpoint.html">T</a>) {</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;              <a class="code" href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a>(<a class="code" href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a>,<a class="code" href="structevaluatedpoint.html">T</a>*<a class="code" href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a>(<a class="code" href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a>(<a class="code" href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a>*<a class="code" href="classposition.html">position</a>,<a class="code" href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a>))*src);</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;            },<span class="keyword">true</span>);</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;        }</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;      },<span class="keyword">true</span>);</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;  }</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;  dest.addBox(<a class="code" href="classposition.html">position</a>,<a class="code" href="classposition.html">position</a>,<a class="code" href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a>(src),<a class="code" href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a>(src));</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;}</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160; </div>
<div class="line"><a name="l03255"></a><span class="lineno"><a class="line" href="three_8asy.html#afc6947c5cc90cc324098e40b4e350ac9"> 3255</a></span>&#160;<a class="code" href="plain_8asy.html#af988f59a3aeb1cf412bef4c6d7aa2e35">exitfcn</a> <a class="code" href="three_8asy.html#afc6947c5cc90cc324098e40b4e350ac9">currentexitfunction</a>=<a class="code" href="three_8asy.html#afcb6414b811a6c3663a055f61298a25c">atexit</a>();</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160; </div>
<div class="line"><a name="l03257"></a><span class="lineno"><a class="line" href="three_8asy.html#ab28c457ce357833c0d5cfc7348de9386"> 3257</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="three_8asy.html#ab28c457ce357833c0d5cfc7348de9386">exitfunction</a>()</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;{</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="three_8asy.html#afc6947c5cc90cc324098e40b4e350ac9">currentexitfunction</a> != <span class="keyword">null</span>) <a class="code" href="three_8asy.html#afc6947c5cc90cc324098e40b4e350ac9">currentexitfunction</a>();</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="namespacesettings.html">settings</a>.keep)</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>=0; <a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a> &lt; <a class="code" href="plain__shipout_8asy.html#a492ec9237389948eef49bd2778ed98ec">file3</a>.length; ++<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>)</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;      <span class="keyword">delete</span>(<a class="code" href="plain__shipout_8asy.html#a492ec9237389948eef49bd2778ed98ec">file3</a>[<a class="code" href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a>]);</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;  <a class="code" href="plain__shipout_8asy.html#a492ec9237389948eef49bd2778ed98ec">file3</a>=<span class="keyword">new</span> <span class="keywordtype">string</span>[];</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;}</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160; </div>
<div class="line"><a name="l03266"></a><span class="lineno"><a class="line" href="three_8asy.html#afcb6414b811a6c3663a055f61298a25c"> 3266</a></span>&#160;<a class="code" href="three_8asy.html#afcb6414b811a6c3663a055f61298a25c">atexit</a>(<a class="code" href="three_8asy.html#ab28c457ce357833c0d5cfc7348de9386">exitfunction</a>);</div>
<div class="ttc" id="aanimation_8asy_html_ab7b6fb49a3a178b1628690ad0f00927d"><div class="ttname"><a href="animation_8asy.html#ab7b6fb49a3a178b1628690ad0f00927d">prefix</a></div><div class="ttdeci">string prefix</div><div class="ttdef"><b>Definition:</b> <a href="animation_8asy_source.html#l00190">animation.asy:190</a></div></div>
<div class="ttc" id="aanimation_8asy_html_ae899c0bdf6bd277efae69cb34d83bc11"><div class="ttname"><a href="animation_8asy.html#ae899c0bdf6bd277efae69cb34d83bc11">pictures</a></div><div class="ttdeci">picture[] pictures</div><div class="ttdef"><b>Definition:</b> <a href="animation_8asy_source.html#l00186">animation.asy:186</a></div></div>
<div class="ttc" id="aanimation_8asy_html_af7b7714ba5ec0fbfe427850d016760b4"><div class="ttname"><a href="animation_8asy.html#af7b7714ba5ec0fbfe427850d016760b4">name</a></div><div class="ttdeci">string name(string prefix, int index)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8asy_source.html#l00205">animation.asy:205</a></div></div>
<div class="ttc" id="abezulate_8asy_html_a36b6e17301964fe6789282dec6ab0280"><div class="ttname"><a href="bezulate_8asy.html#a36b6e17301964fe6789282dec6ab0280">fuzz</a></div><div class="ttdeci">private real fuzz</div><div class="ttdef"><b>Definition:</b> <a href="bezulate_8asy_source.html#l00003">bezulate.asy:3</a></div></div>
<div class="ttc" id="abinarytree_8asy_html_addc5fc894e5a2e726fda0ee11d84de69"><div class="ttname"><a href="binarytree_8asy.html#addc5fc894e5a2e726fda0ee11d84de69">n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="binarytree_8asy_source.html#l00257">binarytree.asy:257</a></div></div>
<div class="ttc" id="absp_8asy_html_a1a666c93df031d35c2a9a7d6b07c5aa0"><div class="ttname"><a href="bsp_8asy.html#a1a666c93df031d35c2a9a7d6b07c5aa0">pic</a></div><div class="ttdeci">picture pic</div><div class="ttdef"><b>Definition:</b> <a href="bsp_8asy_source.html#l00035">bsp.asy:35</a></div></div>
<div class="ttc" id="aclassposition_html"><div class="ttname"><a href="classposition.html">position</a></div><div class="ttdef"><b>Definition:</b> <a href="errormsg_8h_source.html#l00070">errormsg.h:70</a></div></div>
<div class="ttc" id="aclassposition_html_a1aa257770e698e8f3e96c48d90ab000d"><div class="ttname"><a href="classposition.html#a1aa257770e698e8f3e96c48d90ab000d">position::relative</a></div><div class="ttdeci">bool relative</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00183">plain_Label.asy:183</a></div></div>
<div class="ttc" id="acontour3_8asy_html_a65cb3f1ac9a58ad373c5c647d974d64e"><div class="ttname"><a href="contour3_8asy.html#a65cb3f1ac9a58ad373c5c647d974d64e">val</a></div><div class="ttdeci">triple val</div><div class="ttdef"><b>Definition:</b> <a href="contour3_8asy_source.html#l00018">contour3.asy:18</a></div></div>
<div class="ttc" id="acontour3_8asy_html_a69f456f039e2ac3ea4aabc3c84d24c25"><div class="ttname"><a href="contour3_8asy.html#a69f456f039e2ac3ea4aabc3c84d24c25">surface</a></div><div class="ttdeci">surface surface(vertex[][] g)</div><div class="ttdef"><b>Definition:</b> <a href="contour3_8asy_source.html#l00477">contour3.asy:477</a></div></div>
<div class="ttc" id="acontour3_8asy_html_acb566003a29ebe66daede177a8165d13"><div class="ttname"><a href="contour3_8asy.html#acb566003a29ebe66daede177a8165d13">v</a></div><div class="ttdeci">private struct weighted v</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l01509">geometry.asy:1509</a></div></div>
<div class="ttc" id="acontour_8asy_html_a5962484135e4c0ad1ace0fe8bd91ad14"><div class="ttname"><a href="contour_8asy.html#a5962484135e4c0ad1ace0fe8bd91ad14">c</a></div><div class="ttdeci">int c</div><div class="ttdef"><b>Definition:</b> <a href="contour_8asy_source.html#l00034">contour.asy:34</a></div></div>
<div class="ttc" id="acontour_8asy_html_aa684f3a7807aa2a32bcada92fcd284bf"><div class="ttname"><a href="contour_8asy.html#aa684f3a7807aa2a32bcada92fcd284bf">b</a></div><div class="ttdeci">pair b</div><div class="ttdef"><b>Definition:</b> <a href="contour_8asy_source.html#l00033">contour.asy:33</a></div></div>
<div class="ttc" id="acontour_8asy_html_ac07dc21abb590334fae0755b62c213d5"><div class="ttname"><a href="contour_8asy.html#ac07dc21abb590334fae0755b62c213d5">a</a></div><div class="ttdeci">pair a</div><div class="ttdef"><b>Definition:</b> <a href="contour_8asy_source.html#l00033">contour.asy:33</a></div></div>
<div class="ttc" id="adrawtree_8asy_html_a1d3ba62b9f0438cd4458fcf24825570a"><div class="ttname"><a href="drawtree_8asy.html#a1d3ba62b9f0438cd4458fcf24825570a">adjust</a></div><div class="ttdeci">real adjust</div><div class="ttdef"><b>Definition:</b> <a href="drawtree_8asy_source.html#l00025">drawtree.asy:25</a></div></div>
<div class="ttc" id="adrawtree_8asy_html_a5f7a41c1115981da3efec41e4f10bebb"><div class="ttname"><a href="drawtree_8asy.html#a5f7a41c1115981da3efec41e4f10bebb">content</a></div><div class="ttdeci">frame content</div><div class="ttdef"><b>Definition:</b> <a href="drawtree_8asy_source.html#l00022">drawtree.asy:22</a></div></div>
<div class="ttc" id="adrawtree_8asy_html_a696ad6028ea970b11ed9f8c879891948"><div class="ttname"><a href="drawtree_8asy.html#a696ad6028ea970b11ed9f8c879891948">pos</a></div><div class="ttdeci">pair pos</div><div class="ttdef"><b>Definition:</b> <a href="drawtree_8asy_source.html#l00024">drawtree.asy:24</a></div></div>
<div class="ttc" id="aerrormsg_8h_html_ac2b310a70298b642c6a01025a1d3a479"><div class="ttname"><a href="errormsg_8h.html#ac2b310a70298b642c6a01025a1d3a479">warning</a></div><div class="ttdeci">string warning(string s)</div></div>
<div class="ttc" id="aerrortestBrokenTemplate_8asy_html_a4afc6b6441d04584fd4904deab10b73d"><div class="ttname"><a href="errortestBrokenTemplate_8asy.html#a4afc6b6441d04584fd4904deab10b73d">assert</a></div><div class="ttdeci">assert(false)</div></div>
<div class="ttc" id="ageometry_8asy_html_a072832901f0528254cd311943767d3ae"><div class="ttname"><a href="geometry_8asy.html#a072832901f0528254cd311943767d3ae">r</a></div><div class="ttdeci">real r</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l02557">geometry.asy:2557</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a1cf16c9ae223f8d6cf6ba807ac12e2bf"><div class="ttname"><a href="geometry_8asy.html#a1cf16c9ae223f8d6cf6ba807ac12e2bf">M</a></div><div class="ttdeci">point M</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l05274">geometry.asy:5274</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a2ddba5ea4e14af3ae8815ea8d57ee2d3"><div class="ttname"><a href="geometry_8asy.html#a2ddba5ea4e14af3ae8815ea8d57ee2d3">l</a></div><div class="ttdeci">line[] l</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l02520">geometry.asy:2520</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a3f703f88fde5c118f6d6c484aec8f68f"><div class="ttname"><a href="geometry_8asy.html#a3f703f88fde5c118f6d6c484aec8f68f">dot</a></div><div class="ttdeci">real dot(pair, pair)</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l00265">geometry.asy:265</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a5e0608bee06090712681b5b1ad6ae040"><div class="ttname"><a href="geometry_8asy.html#a5e0608bee06090712681b5b1ad6ae040">D</a></div><div class="ttdeci">line D</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l02519">geometry.asy:2519</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a5e1c380967c95936fa42605b37d726d6"><div class="ttname"><a href="geometry_8asy.html#a5e1c380967c95936fa42605b37d726d6">y</a></div><div class="ttdeci">restricted real y</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l00451">geometry.asy:451</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a617cdbaa195c28a9439ac26df0f46a28"><div class="ttname"><a href="geometry_8asy.html#a617cdbaa195c28a9439ac26df0f46a28">beta</a></div><div class="ttdeci">real beta()</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l05711">geometry.asy:5711</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a6d98d61acd9b8dd4e1fb6ebb6aa45a88"><div class="ttname"><a href="geometry_8asy.html#a6d98d61acd9b8dd4e1fb6ebb6aa45a88">u</a></div><div class="ttdeci">restricted vector u</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l01509">geometry.asy:1509</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a78f16285544f5f895276226acd845d7f"><div class="ttname"><a href="geometry_8asy.html#a78f16285544f5f895276226acd845d7f">m</a></div><div class="ttdeci">real m</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l00453">geometry.asy:453</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a7c328779cd8ecbe601cdb8eb28e74021"><div class="ttname"><a href="geometry_8asy.html#a7c328779cd8ecbe601cdb8eb28e74021">C</a></div><div class="ttdeci">point C</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l02556">geometry.asy:2556</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a878fc714cb5bb79e6127cdc95c984904"><div class="ttname"><a href="geometry_8asy.html#a878fc714cb5bb79e6127cdc95c984904">alpha</a></div><div class="ttdeci">real alpha()</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l05706">geometry.asy:5706</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a89d98e267476d74d3dea65f84ddd830a"><div class="ttname"><a href="geometry_8asy.html#a89d98e267476d74d3dea65f84ddd830a">direction</a></div><div class="ttdeci">bool direction</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l04892">geometry.asy:4892</a></div></div>
<div class="ttc" id="ageometry_8asy_html_a89ed15412e80c5bdeb597d9eb6a1c884"><div class="ttname"><a href="geometry_8asy.html#a89ed15412e80c5bdeb597d9eb6a1c884">F</a></div><div class="ttdeci">point F</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l02518">geometry.asy:2518</a></div></div>
<div class="ttc" id="ageometry_8asy_html_aa7453a2639087da385aa95fdcdd725f4"><div class="ttname"><a href="geometry_8asy.html#aa7453a2639087da385aa95fdcdd725f4">e</a></div><div class="ttdeci">real e</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l02516">geometry.asy:2516</a></div></div>
<div class="ttc" id="ageometry_8asy_html_aa817eabbb6083e36d0bdd6f479200f94"><div class="ttname"><a href="geometry_8asy.html#aa817eabbb6083e36d0bdd6f479200f94">arclength</a></div><div class="ttdeci">real arclength(circle c)</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l04007">geometry.asy:4007</a></div></div>
<div class="ttc" id="ageometry_8asy_html_ab007ab0b66c9f70d8120f20daa9076c8"><div class="ttname"><a href="geometry_8asy.html#ab007ab0b66c9f70d8120f20daa9076c8">p</a></div><div class="ttdeci">real p</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l02516">geometry.asy:2516</a></div></div>
<div class="ttc" id="ageometry_8asy_html_ab433219ccfa75127d5809f9fd5cfb2f1"><div class="ttname"><a href="geometry_8asy.html#ab433219ccfa75127d5809f9fd5cfb2f1">x</a></div><div class="ttdeci">restricted real x</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l00451">geometry.asy:451</a></div></div>
<div class="ttc" id="ageometry_8asy_html_ab563052a79b6e768b7955d27c507b9fd"><div class="ttname"><a href="geometry_8asy.html#ab563052a79b6e768b7955d27c507b9fd">Infinity</a></div><div class="ttdeci">real Infinity</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l00033">geometry.asy:33</a></div></div>
<div class="ttc" id="ageometry_8asy_html_ab895cf69584d60c2113bd8e9ee6ac7c7"><div class="ttname"><a href="geometry_8asy.html#ab895cf69584d60c2113bd8e9ee6ac7c7">abs</a></div><div class="ttdeci">real abs(pair)</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l00263">geometry.asy:263</a></div></div>
<div class="ttc" id="ageometry_8asy_html_acbd6122136afa26d486b9e9b39d079bb"><div class="ttname"><a href="geometry_8asy.html#acbd6122136afa26d486b9e9b39d079bb">A</a></div><div class="ttdeci">restricted point A</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l01507">geometry.asy:1507</a></div></div>
<div class="ttc" id="ageometry_8asy_html_ae6809870b7b153af25ec7dd6d37e2d3d"><div class="ttname"><a href="geometry_8asy.html#ae6809870b7b153af25ec7dd6d37e2d3d">operator</a></div><div class="ttdeci">struct coordsys operator</div></div>
<div class="ttc" id="ageometry_8asy_html_aea48bde1a661e4c9d8cb7fd80af6a4d9"><div class="ttname"><a href="geometry_8asy.html#aea48bde1a661e4c9d8cb7fd80af6a4d9">h</a></div><div class="ttdeci">real h</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l02516">geometry.asy:2516</a></div></div>
<div class="ttc" id="ageometry_8asy_html_aedd812393356955cdc23971e491e4486"><div class="ttname"><a href="geometry_8asy.html#aedd812393356955cdc23971e491e4486">k</a></div><div class="ttdeci">real k</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l06393">geometry.asy:6393</a></div></div>
<div class="ttc" id="ageometry_8asy_html_af1ae12e5c95b0b9af316bfcd80a052d5"><div class="ttname"><a href="geometry_8asy.html#af1ae12e5c95b0b9af316bfcd80a052d5">unit</a></div><div class="ttdeci">vector unit(point M)</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l01056">geometry.asy:1056</a></div></div>
<div class="ttc" id="agraph3_8asy_html_a5d38b718ca44a4e50dd41574b7a0f37b"><div class="ttname"><a href="graph3_8asy.html#a5d38b718ca44a4e50dd41574b7a0f37b">V</a></div><div class="ttdeci">triple V</div><div class="ttdef"><b>Definition:</b> <a href="graph3_8asy_source.html#l00048">graph3.asy:48</a></div></div>
<div class="ttc" id="agraph_8asy_html_a7722c8ecbb62d99aee7ce68b1752f337"><div class="ttname"><a href="graph_8asy.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a></div><div class="ttdeci">int N</div><div class="ttdef"><b>Definition:</b> <a href="graph_8asy_source.html#l00514">graph.asy:514</a></div></div>
<div class="ttc" id="agraph_8asy_html_a95ad6c7f5b93e387e05a0943bfb29c5c"><div class="ttname"><a href="graph_8asy.html#a95ad6c7f5b93e387e05a0943bfb29c5c">None</a></div><div class="ttdeci">tickvalues None(tickvalues v)</div><div class="ttdef"><b>Definition:</b> <a href="graph_8asy_source.html#l00831">graph.asy:831</a></div></div>
<div class="ttc" id="agraph_8asy_html_aa0490659d38caa08d04d91bfd8cb17d2"><div class="ttname"><a href="graph_8asy.html#aa0490659d38caa08d04d91bfd8cb17d2">ceil</a></div><div class="ttdeci">int ceil()</div><div class="ttdef"><b>Definition:</b> <a href="graph_8asy_source.html#l00115">graph.asy:115</a></div></div>
<div class="ttc" id="agraph_8asy_html_abbeb8ae63622a7fef0b5a56bb91a1682"><div class="ttname"><a href="graph_8asy.html#abbeb8ae63622a7fef0b5a56bb91a1682">sign</a></div><div class="ttdeci">int sign</div><div class="ttdef"><b>Definition:</b> <a href="graph_8asy_source.html#l00112">graph.asy:112</a></div></div>
<div class="ttc" id="anamespaceasymptote_html_abb2a788e0458b6bee7f402483df336d0"><div class="ttname"><a href="namespaceasymptote.html#abb2a788e0458b6bee7f402483df336d0">asymptote.g</a></div><div class="ttdeci">g</div><div class="ttdef"><b>Definition:</b> <a href="asymptote_8py_source.html#l00037">asymptote.py:37</a></div></div>
<div class="ttc" id="anamespacecamp_html_a0b19f4868e3ff64d54e6e2b1765ec08b"><div class="ttname"><a href="namespacecamp.html#a0b19f4868e3ff64d54e6e2b1765ec08b">camp::degrees</a></div><div class="ttdeci">double degrees(double theta)</div><div class="ttdef"><b>Definition:</b> <a href="angle_8h_source.html#l00026">angle.h:26</a></div></div>
<div class="ttc" id="anamespacecamp_html_a4e8afb80fe901fc3ad3196628b983093"><div class="ttname"><a href="namespacecamp.html#a4e8afb80fe901fc3ad3196628b983093">camp::s</a></div><div class="ttdeci">const string s</div><div class="ttdef"><b>Definition:</b> <a href="jsfile_8cc_source.html#l00011">jsfile.cc:11</a></div></div>
<div class="ttc" id="anamespacecamp_html_a4ff83fe5f0ff1fec037d95decab27370"><div class="ttname"><a href="namespacecamp.html#a4ff83fe5f0ff1fec037d95decab27370">camp::join</a></div><div class="ttdeci">void join(bbox &amp;b, double t, path p, pen pentype)</div><div class="ttdef"><b>Definition:</b> <a href="drawpath_8cc_source.html#l00119">drawpath.cc:119</a></div></div>
<div class="ttc" id="anamespacecamp_html_a6bdec53fb58110affa080e4ea118fa33"><div class="ttname"><a href="namespacecamp.html#a6bdec53fb58110affa080e4ea118fa33">camp::intersect</a></div><div class="ttdeci">bool intersect(double &amp;S, double &amp;T, path &amp;p, path &amp;q, double fuzz, unsigned depth=maxdepth)</div></div>
<div class="ttc" id="anamespacecamp_html_a6cea9ce3d47a44ad6bb2f5fd64688c49"><div class="ttname"><a href="namespacecamp.html#a6cea9ce3d47a44ad6bb2f5fd64688c49">camp::concat</a></div><div class="ttdeci">path concat(const path &amp;p1, const path &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="path_8cc_source.html#l01118">path.cc:1118</a></div></div>
<div class="ttc" id="anamespacecamp_html_acd5ee35364af4ac85d4fdf77caf6e8df"><div class="ttname"><a href="namespacecamp.html#acd5ee35364af4ac85d4fdf77caf6e8df">camp::split</a></div><div class="ttdeci">pair split(double t, const pair &amp;x, const pair &amp;y)</div><div class="ttdef"><b>Definition:</b> <a href="path_8cc_source.html#l00376">path.cc:376</a></div></div>
<div class="ttc" id="anamespacecamp_html_ae1d5c613fcf5ad3521d28f8d1cb0222a"><div class="ttname"><a href="namespacecamp.html#ae1d5c613fcf5ad3521d28f8d1cb0222a">camp::intersections</a></div><div class="ttdeci">void intersections(std::vector&lt; double &gt; &amp;T, const path &amp;g, const pair &amp;z, double fuzz)</div><div class="ttdef"><b>Definition:</b> <a href="path_8cc_source.html#l00777">path.cc:777</a></div></div>
<div class="ttc" id="anamespacemem_html_a80d69dc16b59f697ff4f74adc111809a"><div class="ttname"><a href="namespacemem.html#a80d69dc16b59f697ff4f74adc111809a">mem::string</a></div><div class="ttdeci">std::string string</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00147">memory.h:147</a></div></div>
<div class="ttc" id="anamespacerun_html_a04db2657ff9f4483f0a68c9d55b90df6"><div class="ttname"><a href="namespacerun.html#a04db2657ff9f4483f0a68c9d55b90df6">run::diagonal</a></div><div class="ttdeci">void diagonal(vm::stack *s)</div><div class="ttdef"><b>Definition:</b> <a href="arrayop_8h_source.html#l00230">arrayop.h:230</a></div></div>
<div class="ttc" id="anamespacerun_html_a99dbffd093afaa0e3b3c901f991a2112"><div class="ttname"><a href="namespacerun.html#a99dbffd093afaa0e3b3c901f991a2112">run::norm</a></div><div class="ttdeci">double norm(double *a, size_t n)</div></div>
<div class="ttc" id="anamespacerun_html_ab49892afcf979845d9239d53fc6b0228"><div class="ttname"><a href="namespacerun.html#ab49892afcf979845d9239d53fc6b0228">run::cast</a></div><div class="ttdeci">void cast(vm::stack *s)</div><div class="ttdef"><b>Definition:</b> <a href="castop_8h_source.html#l00027">castop.h:27</a></div></div>
<div class="ttc" id="anamespacerun_html_af5ebe7e996cab0672d494ff81be7d121"><div class="ttname"><a href="namespacerun.html#af5ebe7e996cab0672d494ff81be7d121">run::inverse</a></div><div class="ttdeci">void inverse(double *a, size_t n)</div></div>
<div class="ttc" id="anamespacesettings_html"><div class="ttname"><a href="namespacesettings.html">settings</a></div><div class="ttdef"><b>Definition:</b> <a href="locate_8cc_source.html#l00013">locate.cc:13</a></div></div>
<div class="ttc" id="anamespacesettings_html_a3e8010c886d3d487bee6d960bfc0723e"><div class="ttname"><a href="namespacesettings.html#a3e8010c886d3d487bee6d960bfc0723e">settings::latex</a></div><div class="ttdeci">bool latex(const string &amp;texengine)</div><div class="ttdef"><b>Definition:</b> <a href="settings_8cc_source.html#l01792">settings.cc:1792</a></div></div>
<div class="ttc" id="anamespacesettings_html_a50ef98223a134d912af153f046a4dc92"><div class="ttname"><a href="namespacesettings.html#a50ef98223a134d912af153f046a4dc92">settings::warn</a></div><div class="ttdeci">bool warn(const string &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="settings_8cc_source.html#l00359">settings.cc:359</a></div></div>
<div class="ttc" id="anamespacesettings_html_a9a30c406b85b28268fbc113092f84be6"><div class="ttname"><a href="namespacesettings.html#a9a30c406b85b28268fbc113092f84be6">settings::nativeformat</a></div><div class="ttdeci">string nativeformat()</div><div class="ttdef"><b>Definition:</b> <a href="settings_8cc_source.html#l01798">settings.cc:1798</a></div></div>
<div class="ttc" id="anamespacesettings_html_addc85b9452e6489caffd6db0356c67e0"><div class="ttname"><a href="namespacesettings.html#addc85b9452e6489caffd6db0356c67e0">settings::view</a></div><div class="ttdeci">bool view()</div><div class="ttdef"><b>Definition:</b> <a href="settings_8cc_source.html#l01644">settings.cc:1644</a></div></div>
<div class="ttc" id="anamespacesym_html_a0533c5b32e2975cbab98d64b79d23429"><div class="ttname"><a href="namespacesym.html#a0533c5b32e2975cbab98d64b79d23429">sym::B</a></div><div class="ttdeci">const uint B</div><div class="ttdef"><b>Definition:</b> <a href="symbol_8cc_source.html#l00089">symbol.cc:89</a></div></div>
<div class="ttc" id="anamespacetrans_html_ab564610e94b96066bfe06d4f3a3cd208"><div class="ttname"><a href="namespacetrans.html#ab564610e94b96066bfe06d4f3a3cd208">trans::label</a></div><div class="ttdeci">label_t * label</div><div class="ttdef"><b>Definition:</b> <a href="coder_8h_source.html#l00057">coder.h:57</a></div></div>
<div class="ttc" id="anamespacevm_html_a881148bee2541d80a4987d8fa7876168"><div class="ttname"><a href="namespacevm.html#a881148bee2541d80a4987d8fa7876168">vm::offset</a></div><div class="ttdeci">ptrdiff_t offset(const program::label &amp;left, const program::label &amp;right)</div><div class="ttdef"><b>Definition:</b> <a href="program_8h_source.html#l00095">program.h:95</a></div></div>
<div class="ttc" id="aode_8asy_html_a0dfa4a68ae1c7e2ee041fbcd931ffb9f"><div class="ttname"><a href="ode_8asy.html#a0dfa4a68ae1c7e2ee041fbcd931ffb9f">phi1</a></div><div class="ttdeci">real phi1(real x)</div><div class="ttdef"><b>Definition:</b> <a href="ode_8asy_source.html#l00049">ode.asy:49</a></div></div>
<div class="ttc" id="aode_8asy_html_a32d03438a4c24b3735c7ba9fbefea0d7"><div class="ttname"><a href="ode_8asy.html#a32d03438a4c24b3735c7ba9fbefea0d7">phi2</a></div><div class="ttdeci">real phi2(real x)</div><div class="ttdef"><b>Definition:</b> <a href="ode_8asy_source.html#l00053">ode.asy:53</a></div></div>
<div class="ttc" id="apalette_8asy_html_a857ccf22fe404195047a93cffec6fc3b"><div class="ttname"><a href="palette_8asy.html#a857ccf22fe404195047a93cffec6fc3b">image</a></div><div class="ttdeci">void image(frame f, real[][] data, pair initial, pair final, pen[] palette, bool transpose=(initial.x&lt; final.x &amp;&amp;initial.y&lt; final.y), transform t=identity(), bool copy=true, bool antialias=false)</div><div class="ttdef"><b>Definition:</b> <a href="palette_8asy_source.html#l00027">palette.asy:27</a></div></div>
<div class="ttc" id="aplain_8asy_html_a09e42e976267467710ceb1fd50f12fea"><div class="ttname"><a href="plain_8asy.html#a09e42e976267467710ceb1fd50f12fea">sequence</a></div><div class="ttdeci">int[] sequence(int n, int m)</div><div class="ttdef"><b>Definition:</b> <a href="plain_8asy_source.html#l00151">plain.asy:151</a></div></div>
<div class="ttc" id="aplain_8asy_html_a3e1325cc699bfc596435e05f86a26cc2"><div class="ttname"><a href="plain_8asy.html#a3e1325cc699bfc596435e05f86a26cc2">restoreThunk</a></div><div class="ttdeci">void() restoreThunk</div><div class="ttdef"><b>Definition:</b> <a href="plain_8asy_source.html#l00066">plain.asy:66</a></div></div>
<div class="ttc" id="aplain_8asy_html_af988f59a3aeb1cf412bef4c6d7aa2e35"><div class="ttname"><a href="plain_8asy.html#af988f59a3aeb1cf412bef4c6d7aa2e35">exitfcn</a></div><div class="ttdeci">void() exitfcn</div><div class="ttdef"><b>Definition:</b> <a href="plain_8asy_source.html#l00044">plain.asy:44</a></div></div>
<div class="ttc" id="aplain__Label_8asy_html_a4d451f27ba1f242f9c130b4129a64812"><div class="ttname"><a href="plain__Label_8asy.html#a4d451f27ba1f242f9c130b4129a64812">L</a></div><div class="ttdeci">Label L</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00533">plain_Label.asy:533</a></div></div>
<div class="ttc" id="aplain__Label_8asy_html_a7fe550b2d7b062be66027ef9e14d840f"><div class="ttname"><a href="plain__Label_8asy.html#a7fe550b2d7b062be66027ef9e14d840f">NoAlign</a></div><div class="ttdeci">restricted align NoAlign</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00174">plain_Label.asy:174</a></div></div>
<div class="ttc" id="aplain__Label_8asy_html_aef6528128089731796126bb79b2554b3"><div class="ttname"><a href="plain__Label_8asy.html#aef6528128089731796126bb79b2554b3">embed</a></div><div class="ttdeci">transform(transform) embed</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00204">plain_Label.asy:204</a></div></div>
<div class="ttc" id="aplain__arcs_8asy_html_a4fac6bf69171728dec65aa3e5595090a"><div class="ttname"><a href="plain__arcs_8asy.html#a4fac6bf69171728dec65aa3e5595090a">CCW</a></div><div class="ttdeci">bool CCW</div><div class="ttdef"><b>Definition:</b> <a href="plain__arcs_8asy_source.html#l00001">plain_arcs.asy:1</a></div></div>
<div class="ttc" id="aplain__arcs_8asy_html_a5cf118cc2b3d46d765f936c571953f58"><div class="ttname"><a href="plain__arcs_8asy.html#a5cf118cc2b3d46d765f936c571953f58">CW</a></div><div class="ttdeci">bool CW</div><div class="ttdef"><b>Definition:</b> <a href="plain__arcs_8asy_source.html#l00002">plain_arcs.asy:2</a></div></div>
<div class="ttc" id="aplain__arrows_8asy_html_a53a3dd50582321b537245059eb4385b1"><div class="ttname"><a href="plain__arrows_8asy.html#a53a3dd50582321b537245059eb4385b1">bar</a></div><div class="ttdeci">void bar(picture pic, pair a, pair d, pen p=currentpen)</div><div class="ttdef"><b>Definition:</b> <a href="plain__arrows_8asy_source.html#l00288">plain_arrows.asy:288</a></div></div>
<div class="ttc" id="aplain__arrows_8asy_html_a7e9974cf535c0d72ef741de540031f16"><div class="ttname"><a href="plain__arrows_8asy.html#a7e9974cf535c0d72ef741de540031f16">arrowlength</a></div><div class="ttdeci">real arrowlength</div><div class="ttdef"><b>Definition:</b> <a href="plain__arrows_8asy_source.html#l00001">plain_arrows.asy:1</a></div></div>
<div class="ttc" id="aplain__arrows_8asy_html_ad093e7fa932215377cefea32cba53eff"><div class="ttname"><a href="plain__arrows_8asy.html#ad093e7fa932215377cefea32cba53eff">fit2</a></div><div class="ttdeci">frame[] fit2(picture[] pictures, picture all)</div><div class="ttdef"><b>Definition:</b> <a href="plain__arrows_8asy_source.html#l00599">plain_arrows.asy:599</a></div></div>
<div class="ttc" id="aplain__bounds_8asy_html_a6194bc5c7e66a7f13ecacd723ee36134"><div class="ttname"><a href="plain__bounds_8asy.html#a6194bc5c7e66a7f13ecacd723ee36134">exact</a></div><div class="ttdeci">bool exact</div><div class="ttdef"><b>Definition:</b> <a href="plain__bounds_8asy_source.html#l00660">plain_bounds.asy:660</a></div></div>
<div class="ttc" id="aplain__boxes_8asy_html_a3f39dac730749079c8efe7cfc317650e"><div class="ttname"><a href="plain__boxes_8asy.html#a3f39dac730749079c8efe7cfc317650e">object</a></div><div class="ttdeci">object object(Label L, envelope e, real xmargin=0, real ymargin=xmargin, pen p=currentpen, filltype filltype=NoFill, bool above=true)</div><div class="ttdef"><b>Definition:</b> <a href="plain__boxes_8asy_source.html#l00079">plain_boxes.asy:79</a></div></div>
<div class="ttc" id="aplain__constants_8asy_html_a1755e659ef445c5b71f2cb2b8721cd5b"><div class="ttname"><a href="plain__constants_8asy.html#a1755e659ef445c5b71f2cb2b8721cd5b">stdout</a></div><div class="ttdeci">restricted file stdout</div><div class="ttdef"><b>Definition:</b> <a href="plain__constants_8asy_source.html#l00064">plain_constants.asy:64</a></div></div>
<div class="ttc" id="aplain__constants_8asy_html_a1c4f7f4438e86514687f3a2b648a33f2"><div class="ttname"><a href="plain__constants_8asy.html#a1c4f7f4438e86514687f3a2b648a33f2">identity</a></div><div class="ttdeci">restricted transform identity</div><div class="ttdef"><b>Definition:</b> <a href="plain__constants_8asy_source.html#l00039">plain_constants.asy:39</a></div></div>
<div class="ttc" id="aplain__constants_8asy_html_a5be33234ec497964674067d154ae777f"><div class="ttname"><a href="plain__constants_8asy.html#a5be33234ec497964674067d154ae777f">newl</a></div><div class="ttdeci">void newl(file file)</div><div class="ttdef"><b>Definition:</b> <a href="plain__constants_8asy_source.html#l00068">plain_constants.asy:68</a></div></div>
<div class="ttc" id="aplain__constants_8asy_html_a5dff8b242bdd7e6e908cecaca3e6040b"><div class="ttname"><a href="plain__constants_8asy.html#a5dff8b242bdd7e6e908cecaca3e6040b">endl</a></div><div class="ttdeci">void endl(file file)</div><div class="ttdef"><b>Definition:</b> <a href="plain__constants_8asy_source.html#l00067">plain_constants.asy:67</a></div></div>
<div class="ttc" id="aplain__constants_8asy_html_a60beb33e89be21ea37d895d2e71e02ff"><div class="ttname"><a href="plain__constants_8asy.html#a60beb33e89be21ea37d895d2e71e02ff">suffix</a></div><div class="ttdeci">void(file) suffix</div><div class="ttdef"><b>Definition:</b> <a href="plain__constants_8asy_source.html#l00073">plain_constants.asy:73</a></div></div>
<div class="ttc" id="aplain__constants_8asy_html_a701f8a001c346353dc90bcae8cdbc2f8"><div class="ttname"><a href="plain__constants_8asy.html#a701f8a001c346353dc90bcae8cdbc2f8">mm</a></div><div class="ttdeci">restricted real mm</div><div class="ttdef"><b>Definition:</b> <a href="plain__constants_8asy_source.html#l00006">plain_constants.asy:6</a></div></div>
<div class="ttc" id="aplain__constants_8asy_html_aa0824281d3ca0e9628f8072e015a6441"><div class="ttname"><a href="plain__constants_8asy.html#aa0824281d3ca0e9628f8072e015a6441">sqrtEpsilon</a></div><div class="ttdeci">restricted real sqrtEpsilon</div><div class="ttdef"><b>Definition:</b> <a href="plain__constants_8asy_source.html#l00035">plain_constants.asy:35</a></div></div>
<div class="ttc" id="aplain__constants_8asy_html_aa7dc325c80b50e893fccd5560140587a"><div class="ttname"><a href="plain__constants_8asy.html#aa7dc325c80b50e893fccd5560140587a">S</a></div><div class="ttdeci">restricted pair S</div><div class="ttdef"><b>Definition:</b> <a href="plain__constants_8asy_source.html#l00019">plain_constants.asy:19</a></div></div>
<div class="ttc" id="aplain__constants_8asy_html_accfdb9ff8fb800028125d5906f48975a"><div class="ttname"><a href="plain__constants_8asy.html#accfdb9ff8fb800028125d5906f48975a">none</a></div><div class="ttdeci">void none(file file)</div><div class="ttdef"><b>Definition:</b> <a href="plain__constants_8asy_source.html#l00066">plain_constants.asy:66</a></div></div>
<div class="ttc" id="aplain__debugger_8asy_html_af8d9b783dda9ae977c030d1fdf2f238c"><div class="ttname"><a href="plain__debugger_8asy.html#af8d9b783dda9ae977c030d1fdf2f238c">stop</a></div><div class="ttdeci">void stop(string file, string text, code s=quote{})</div><div class="ttdef"><b>Definition:</b> <a href="plain__debugger_8asy_source.html#l00013">plain_debugger.asy:13</a></div></div>
<div class="ttc" id="aplain__filldraw_8asy_html_a70b63d9804c0fcb59d3e36e970020951"><div class="ttname"><a href="plain__filldraw_8asy.html#a70b63d9804c0fcb59d3e36e970020951">Fill</a></div><div class="ttdeci">filltype Fill(real xmargin=0, real ymargin=xmargin, pen p=nullpen)</div><div class="ttdef"><b>Definition:</b> <a href="plain__filldraw_8asy_source.html#l00130">plain_filldraw.asy:130</a></div></div>
<div class="ttc" id="aplain__margins_8asy_html_a87af75a7a824d0477918662a73553ec9"><div class="ttname"><a href="plain__margins_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a></div><div class="ttdeci">marginT(path, pen) margin</div><div class="ttdef"><b>Definition:</b> <a href="plain__margins_8asy_source.html#l00006">plain_margins.asy:6</a></div></div>
<div class="ttc" id="aplain__markers_8asy_html_ae9abafd76f56fba5203ec938b2560991"><div class="ttname"><a href="plain__markers_8asy.html#ae9abafd76f56fba5203ec938b2560991">above</a></div><div class="ttdeci">bool above</div><div class="ttdef"><b>Definition:</b> <a href="plain__markers_8asy_source.html#l00105">plain_markers.asy:105</a></div></div>
<div class="ttc" id="aplain__paths_8asy_html_a15c0c9ba2c5455f738cf3b61b2a7ca7a"><div class="ttname"><a href="plain__paths_8asy.html#a15c0c9ba2c5455f738cf3b61b2a7ca7a">JOIN_OUT</a></div><div class="ttdeci">restricted int JOIN_OUT</div><div class="ttdef"><b>Definition:</b> <a href="plain__paths_8asy_source.html#l00008">plain_paths.asy:8</a></div></div>
<div class="ttc" id="aplain__paths_8asy_html_a29f3290dba7bdab656247caf00912fa0"><div class="ttname"><a href="plain__paths_8asy.html#a29f3290dba7bdab656247caf00912fa0">JOIN_IN</a></div><div class="ttdeci">restricted int JOIN_IN</div><div class="ttdef"><b>Definition:</b> <a href="plain__paths_8asy_source.html#l00009">plain_paths.asy:9</a></div></div>
<div class="ttc" id="aplain__paths_8asy_html_a4f6667cb82a08e7937849b5c10a1c844"><div class="ttname"><a href="plain__paths_8asy.html#a4f6667cb82a08e7937849b5c10a1c844">nullpath</a></div><div class="ttdeci">path nullpath</div><div class="ttdef"><b>Definition:</b> <a href="plain__paths_8asy_source.html#l00001">plain_paths.asy:1</a></div></div>
<div class="ttc" id="aplain__pens_8asy_html_aa7de851e50303c39134eb2750f771ea4"><div class="ttname"><a href="plain__pens_8asy.html#aa7de851e50303c39134eb2750f771ea4">nullpen</a></div><div class="ttdeci">pen nullpen</div><div class="ttdef"><b>Definition:</b> <a href="plain__pens_8asy_source.html#l00046">plain_pens.asy:46</a></div></div>
<div class="ttc" id="aplain__pens_8asy_html_ac3928e0f86f6be623abb2d204663ee6d"><div class="ttname"><a href="plain__pens_8asy.html#ac3928e0f86f6be623abb2d204663ee6d">linetype</a></div><div class="ttdeci">pen linetype(string pattern, real offset=0, bool scale=true, bool adjust=true)</div><div class="ttdef"><b>Definition:</b> <a href="plain__pens_8asy_source.html#l00011">plain_pens.asy:11</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_a06d9f518405182d969cfc318cad7462e"><div class="ttname"><a href="plain__picture_8asy.html#a06d9f518405182d969cfc318cad7462e">ysize</a></div><div class="ttdeci">real ysize</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01111">plain_picture.asy:1111</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_a1fe8d383129a4c24f5b5592e507b486b"><div class="ttname"><a href="plain__picture_8asy.html#a1fe8d383129a4c24f5b5592e507b486b">zsize3</a></div><div class="ttdeci">real zsize3</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01113">plain_picture.asy:1113</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_a267db2b09aa4be24aaaaaf612dc366e2"><div class="ttname"><a href="plain__picture_8asy.html#a267db2b09aa4be24aaaaaf612dc366e2">scale3</a></div><div class="ttdeci">transform3 scale3(frame f, real xsize3=this.xsize3, real ysize3=this.ysize3, real zsize3=this.zsize3, bool keepaspect=this.keepAspect)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01642">plain_picture.asy:1642</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_a3a0c10bd46047b5d45389cccb62ad30a"><div class="ttname"><a href="plain__picture_8asy.html#a3a0c10bd46047b5d45389cccb62ad30a">_draw</a></div><div class="ttdeci">void _draw(picture pic, path g, pen p, margin margin)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01270">plain_picture.asy:1270</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_a40d50e8f8d2caba4649014eb68cf2af9"><div class="ttname"><a href="plain__picture_8asy.html#a40d50e8f8d2caba4649014eb68cf2af9">xsize3</a></div><div class="ttdeci">real xsize3</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01113">plain_picture.asy:1113</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_a484fd688bee738d6d72230d9a300a27a"><div class="ttname"><a href="plain__picture_8asy.html#a484fd688bee738d6d72230d9a300a27a">rectify</a></div><div class="ttdeci">pair rectify(pair dir)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01159">plain_picture.asy:1159</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_a66272efdef25f79b7099130939a586e3"><div class="ttname"><a href="plain__picture_8asy.html#a66272efdef25f79b7099130939a586e3">empty3</a></div><div class="ttdeci">bool empty3()</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01160">plain_picture.asy:1160</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_a958e007625b437895d5658cec3028abb"><div class="ttname"><a href="plain__picture_8asy.html#a958e007625b437895d5658cec3028abb">xsize</a></div><div class="ttdeci">real xsize</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01111">plain_picture.asy:1111</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_aacb48e60e3902ef099aa1b9fcab1ff23"><div class="ttname"><a href="plain__picture_8asy.html#aacb48e60e3902ef099aa1b9fcab1ff23">ysize3</a></div><div class="ttdeci">real ysize3</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01113">plain_picture.asy:1113</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_aada482ccc2c1525e42f69a0a4d28f2eb"><div class="ttname"><a href="plain__picture_8asy.html#aada482ccc2c1525e42f69a0a4d28f2eb">viewportsize</a></div><div class="ttdeci">pair viewportsize</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00007">plain_picture.asy:7</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_ab5eb312cb87a2207aeaf491238ae5a20"><div class="ttname"><a href="plain__picture_8asy.html#ab5eb312cb87a2207aeaf491238ae5a20">begingroup</a></div><div class="ttdeci">void begingroup(picture pic=currentpicture)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01247">plain_picture.asy:1247</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_ac05cdc07758674a77a99072d5ba778f1"><div class="ttname"><a href="plain__picture_8asy.html#ac05cdc07758674a77a99072d5ba778f1">endgroup</a></div><div class="ttdeci">void endgroup(picture pic=currentpicture)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01254">plain_picture.asy:1254</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_ac9e0e6960518c81c3a9f74879bf47728"><div class="ttname"><a href="plain__picture_8asy.html#ac9e0e6960518c81c3a9f74879bf47728">z</a></div><div class="ttdeci">autoscaleT z</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00121">plain_picture.asy:121</a></div></div>
<div class="ttc" id="aplain__picture_8asy_html_af461a0f1f75e6ea471d190312129ea62"><div class="ttname"><a href="plain__picture_8asy.html#af461a0f1f75e6ea471d190312129ea62">currentpicture</a></div><div class="ttdeci">picture currentpicture</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l01072">plain_picture.asy:1072</a></div></div>
<div class="ttc" id="aplain__prethree_8asy_html_a24c7b1a6414d3920b271abf925483711"><div class="ttname"><a href="plain__prethree_8asy.html#a24c7b1a6414d3920b271abf925483711">autoadjust</a></div><div class="ttdeci">bool autoadjust</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00075">plain_prethree.asy:75</a></div></div>
<div class="ttc" id="aplain__prethree_8asy_html_a382b0b516d3dab1d4f2f8194a2019b90"><div class="ttname"><a href="plain__prethree_8asy.html#a382b0b516d3dab1d4f2f8194a2019b90">viewportshift</a></div><div class="ttdeci">pair viewportshift</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00069">plain_prethree.asy:69</a></div></div>
<div class="ttc" id="aplain__prethree_8asy_html_a53f44bf6d4177aa279b9fca82898bdca"><div class="ttname"><a href="plain__prethree_8asy.html#a53f44bf6d4177aa279b9fca82898bdca">transform3</a></div><div class="ttdeci">real[][] transform3</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00005">plain_prethree.asy:5</a></div></div>
<div class="ttc" id="aplain__prethree_8asy_html_a5406d2b1c72cd976dc1169f1659d22f7"><div class="ttname"><a href="plain__prethree_8asy.html#a5406d2b1c72cd976dc1169f1659d22f7">identity4</a></div><div class="ttdeci">restricted transform3 identity4</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00006">plain_prethree.asy:6</a></div></div>
<div class="ttc" id="aplain__prethree_8asy_html_a5b951aaf65f14b0961f103cea90bafe3"><div class="ttname"><a href="plain__prethree_8asy.html#a5b951aaf65f14b0961f103cea90bafe3">infinity</a></div><div class="ttdeci">bool infinity</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00063">plain_prethree.asy:63</a></div></div>
<div class="ttc" id="aplain__prethree_8asy_html_a5e51bbd1d6e9f644315850116a565c65"><div class="ttname"><a href="plain__prethree_8asy.html#a5e51bbd1d6e9f644315850116a565c65">currentlight</a></div><div class="ttdeci">struct light currentlight</div></div>
<div class="ttc" id="aplain__prethree_8asy_html_a7c6c921e205569b3a459069750b5d5f2"><div class="ttname"><a href="plain__prethree_8asy.html#a7c6c921e205569b3a459069750b5d5f2">shiftless</a></div><div class="ttdeci">transform3 shiftless(transform3 t)</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00026">plain_prethree.asy:26</a></div></div>
<div class="ttc" id="aplain__prethree_8asy_html_a7d0c95463b9a591d41c670ae0f526d22"><div class="ttname"><a href="plain__prethree_8asy.html#a7d0c95463b9a591d41c670ae0f526d22">showtarget</a></div><div class="ttdeci">bool showtarget</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00072">plain_prethree.asy:72</a></div></div>
<div class="ttc" id="aplain__prethree_8asy_html_ac73adbe134768c893cc71f359afe30c8"><div class="ttname"><a href="plain__prethree_8asy.html#ac73adbe134768c893cc71f359afe30c8">zoom</a></div><div class="ttdeci">real zoom</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00070">plain_prethree.asy:70</a></div></div>
<div class="ttc" id="aplain__prethree_8asy_html_acb46b59c24c126dd8de181aed3de0b3c"><div class="ttname"><a href="plain__prethree_8asy.html#acb46b59c24c126dd8de181aed3de0b3c">center</a></div><div class="ttdeci">bool center</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00076">plain_prethree.asy:76</a></div></div>
<div class="ttc" id="aplain__prethree_8asy_html_ae6c45a73d771d8bccaabef338c62172b"><div class="ttname"><a href="plain__prethree_8asy.html#ae6c45a73d771d8bccaabef338c62172b">ninterpolate</a></div><div class="ttdeci">int ninterpolate</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00077">plain_prethree.asy:77</a></div></div>
<div class="ttc" id="aplain__shipout_8asy_html_a423e0d3784cf809ce11394e3565ea26b"><div class="ttname"><a href="plain__shipout_8asy.html#a423e0d3784cf809ce11394e3565ea26b">Embed</a></div><div class="ttdeci">string Embed(string name, string text=&quot;&quot;, string options=&quot;&quot;, real width=0, real height=0)</div></div>
<div class="ttc" id="aplain__shipout_8asy_html_a492ec9237389948eef49bd2778ed98ec"><div class="ttname"><a href="plain__shipout_8asy.html#a492ec9237389948eef49bd2778ed98ec">file3</a></div><div class="ttdeci">string[] file3</div><div class="ttdef"><b>Definition:</b> <a href="plain__shipout_8asy_source.html#l00008">plain_shipout.asy:8</a></div></div>
<div class="ttc" id="aplain__shipout_8asy_html_a89a7ab998ae3ac2147a0aba1770cb036"><div class="ttname"><a href="plain__shipout_8asy.html#a89a7ab998ae3ac2147a0aba1770cb036">is3D</a></div><div class="ttdeci">bool is3D(string format=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="plain__shipout_8asy_source.html#l00053">plain_shipout.asy:53</a></div></div>
<div class="ttc" id="aplain__shipout_8asy_html_ab1ec2d860526c93da9364b16a1975552"><div class="ttname"><a href="plain__shipout_8asy.html#ab1ec2d860526c93da9364b16a1975552">prconly</a></div><div class="ttdeci">bool prconly(string format=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="plain__shipout_8asy_source.html#l00039">plain_shipout.asy:39</a></div></div>
<div class="ttc" id="aplain__shipout_8asy_html_abc611be0d7fae43b70d6c24cced016db"><div class="ttname"><a href="plain__shipout_8asy.html#abc611be0d7fae43b70d6c24cced016db">prc</a></div><div class="ttdeci">bool prc(string format=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="plain__shipout_8asy_source.html#l00049">plain_shipout.asy:49</a></div></div>
<div class="ttc" id="aplain__shipout_8asy_html_af4e47cf2c50325d066588ec09c67f371"><div class="ttname"><a href="plain__shipout_8asy.html#af4e47cf2c50325d066588ec09c67f371">prc0</a></div><div class="ttdeci">bool prc0(string format=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="plain__shipout_8asy_source.html#l00044">plain_shipout.asy:44</a></div></div>
<div class="ttc" id="aplain__shipout_8asy_html_af5525222dafc4fb36a7941b86564004c"><div class="ttname"><a href="plain__shipout_8asy.html#af5525222dafc4fb36a7941b86564004c">outprefix</a></div><div class="ttdeci">string outprefix(string prefix=stripextension(defaultfilename))</div><div class="ttdef"><b>Definition:</b> <a href="plain__shipout_8asy_source.html#l00010">plain_shipout.asy:10</a></div></div>
<div class="ttc" id="aplain__strings_8asy_html_a3d835a08fa296bbf38a63f8dd5eb76d5"><div class="ttname"><a href="plain__strings_8asy.html#a3d835a08fa296bbf38a63f8dd5eb76d5">array</a></div><div class="ttdeci">string[] array(string s)</div><div class="ttdef"><b>Definition:</b> <a href="plain__strings_8asy_source.html#l00114">plain_strings.asy:114</a></div></div>
<div class="ttc" id="aplain__strings_8asy_html_a715f89abb13c53782fbe0801c4578d73"><div class="ttname"><a href="plain__strings_8asy.html#a715f89abb13c53782fbe0801c4578d73">replace</a></div><div class="ttdeci">string replace(string s, string before, string after)</div><div class="ttdef"><b>Definition:</b> <a href="plain__strings_8asy_source.html#l00052">plain_strings.asy:52</a></div></div>
<div class="ttc" id="aplain__strings_8asy_html_a7da0ff2f23a180acb0d7173c4911164a"><div class="ttname"><a href="plain__strings_8asy.html#a7da0ff2f23a180acb0d7173c4911164a">graphic</a></div><div class="ttdeci">string graphic(string name, string options=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="plain__strings_8asy_source.html#l00185">plain_strings.asy:185</a></div></div>
<div class="ttc" id="aplain__strings_8asy_html_a8996013128fc4dd30662873e1a071bcc"><div class="ttname"><a href="plain__strings_8asy.html#a8996013128fc4dd30662873e1a071bcc">file</a></div><div class="ttdeci">string file(string s)</div><div class="ttdef"><b>Definition:</b> <a href="plain__strings_8asy_source.html#l00149">plain_strings.asy:149</a></div></div>
<div class="ttc" id="aplain__strings_8asy_html_aac15cdd30dfd02862d13fd05133b3688"><div class="ttname"><a href="plain__strings_8asy.html#aac15cdd30dfd02862d13fd05133b3688">jobname</a></div><div class="ttdeci">string jobname(string name)</div><div class="ttdef"><b>Definition:</b> <a href="plain__strings_8asy_source.html#l00179">plain_strings.asy:179</a></div></div>
<div class="ttc" id="aslide_8asy_html_aa4c297264c9e95a82035be6cd5158d98"><div class="ttname"><a href="slide_8asy.html#aa4c297264c9e95a82035be6cd5158d98">tinv</a></div><div class="ttdeci">transform tinv</div><div class="ttdef"><b>Definition:</b> <a href="slide_8asy_source.html#l00037">slide.asy:37</a></div></div>
<div class="ttc" id="asmoothcontour3_8asy_html_a37722a150250e2a5a98e5e0d11e53449"><div class="ttname"><a href="smoothcontour3_8asy.html#a37722a150250e2a5a98e5e0d11e53449">start</a></div><div class="ttdeci">int start</div><div class="ttdef"><b>Definition:</b> <a href="smoothcontour3_8asy_source.html#l00451">smoothcontour3.asy:451</a></div></div>
<div class="ttc" id="asmoothcontour3_8asy_html_abce9f5dc9c83f2639b72024fdee5d388"><div class="ttname"><a href="smoothcontour3_8asy.html#abce9f5dc9c83f2639b72024fdee5d388">end</a></div><div class="ttdeci">int end</div><div class="ttdef"><b>Definition:</b> <a href="smoothcontour3_8asy_source.html#l00452">smoothcontour3.asy:452</a></div></div>
<div class="ttc" id="astructControls_html"><div class="ttname"><a href="structControls.html">Controls</a></div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00839">three.asy:839</a></div></div>
<div class="ttc" id="astructControls_html_a7a43684554e4838e6425403825855dd2"><div class="ttname"><a href="structControls.html#a7a43684554e4838e6425403825855dd2">Controls::c0</a></div><div class="ttdeci">triple c0</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00840">three.asy:840</a></div></div>
<div class="ttc" id="astructControls_html_acffda8ff6e3045db7c9be056654c3ebf"><div class="ttname"><a href="structControls.html#acffda8ff6e3045db7c9be056654c3ebf">Controls::c1</a></div><div class="ttdeci">triple c1</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00840">three.asy:840</a></div></div>
<div class="ttc" id="astructLabel_html"><div class="ttname"><a href="structLabel.html">Label</a></div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00218">plain_Label.asy:218</a></div></div>
<div class="ttc" id="astructLabel_html_a164446482c854ccaf58fb727a7fb3d30"><div class="ttname"><a href="structLabel.html#a164446482c854ccaf58fb727a7fb3d30">Label::defaultposition</a></div><div class="ttdeci">bool defaultposition</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00221">plain_Label.asy:221</a></div></div>
<div class="ttc" id="astructLabel_html_a8c7813f1aafa9071690baf84daa8534f"><div class="ttname"><a href="structLabel.html#a8c7813f1aafa9071690baf84daa8534f">Label::position</a></div><div class="ttdeci">position position</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00220">plain_Label.asy:220</a></div></div>
<div class="ttc" id="astructLabel_html_aa7df593b41ac1e28f793b684092ac62c"><div class="ttname"><a href="structLabel.html#aa7df593b41ac1e28f793b684092ac62c">Label::p</a></div><div class="ttdeci">pen p</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00223">plain_Label.asy:223</a></div></div>
<div class="ttc" id="astructLabel_html_ab80fc51d1c8931f9319f1c6f30f9bcbb"><div class="ttname"><a href="structLabel.html#ab80fc51d1c8931f9319f1c6f30f9bcbb">Label::align</a></div><div class="ttdeci">align align</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00222">plain_Label.asy:222</a></div></div>
<div class="ttc" id="astructLabel_html_ad0913c276d76cdf5f92925aca91467e3"><div class="ttname"><a href="structLabel.html#ad0913c276d76cdf5f92925aca91467e3">Label::copy</a></div><div class="ttdeci">Label copy(transform3 T3=this.T3)</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00265">plain_Label.asy:265</a></div></div>
<div class="ttc" id="astructLabel_html_ada063583d7c8bb0a2c452d56db04b46d"><div class="ttname"><a href="structLabel.html#ada063583d7c8bb0a2c452d56db04b46d">Label::relative</a></div><div class="ttdeci">real relative()</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00368">plain_Label.asy:368</a></div></div>
<div class="ttc" id="astructLabel_html_adf1cb1138992fb5d2af206ffe6b3c6ca"><div class="ttname"><a href="structLabel.html#adf1cb1138992fb5d2af206ffe6b3c6ca">Label::transform3</a></div><div class="ttdeci">void transform3(transform3 T)</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00260">plain_Label.asy:260</a></div></div>
<div class="ttc" id="astructLabel_html_ae8e34e8096cff07be532ad5b371ef3cc"><div class="ttname"><a href="structLabel.html#ae8e34e8096cff07be532ad5b371ef3cc">Label::transform</a></div><div class="ttdeci">void transform(transform T)</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00255">plain_Label.asy:255</a></div></div>
<div class="ttc" id="astructLabel_html_af85b6fc2d689ced623d9a8a9672e26dd"><div class="ttname"><a href="structLabel.html#af85b6fc2d689ced623d9a8a9672e26dd">Label::s</a></div><div class="ttdeci">string s</div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00219">plain_Label.asy:219</a></div></div>
<div class="ttc" id="astructTension_html"><div class="ttname"><a href="structTension.html">Tension</a></div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00513">three.asy:513</a></div></div>
<div class="ttc" id="astructTension_html_a0e6d2107875724a96b0c15890cb06625"><div class="ttname"><a href="structTension.html#a0e6d2107875724a96b0c15890cb06625">Tension::in</a></div><div class="ttdeci">real in</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00514">three.asy:514</a></div></div>
<div class="ttc" id="astructTension_html_a39cc749cf80094cc729450489a33a687"><div class="ttname"><a href="structTension.html#a39cc749cf80094cc729450489a33a687">Tension::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00516">three.asy:516</a></div></div>
<div class="ttc" id="astructTension_html_ae05e5fccb06e8851bc24f77b883a0f08"><div class="ttname"><a href="structTension.html#ae05e5fccb06e8851bc24f77b883a0f08">Tension::atLeast</a></div><div class="ttdeci">bool atLeast</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00515">three.asy:515</a></div></div>
<div class="ttc" id="astructTension_html_ae7765a90aa3b213428418e8a503d5ed1"><div class="ttname"><a href="structTension.html#ae7765a90aa3b213428418e8a503d5ed1">Tension::out</a></div><div class="ttdeci">real out</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00514">three.asy:514</a></div></div>
<div class="ttc" id="astructalign_html"><div class="ttname"><a href="structalign.html">align</a></div><div class="ttdef"><b>Definition:</b> <a href="plain__Label_8asy_source.html#l00085">plain_Label.asy:85</a></div></div>
<div class="ttc" id="astructbool3_html"><div class="ttname"><a href="structbool3.html">bool3</a></div><div class="ttdef"><b>Definition:</b> <a href="plain__constants_8asy_source.html#l00100">plain_constants.asy:100</a></div></div>
<div class="ttc" id="astructcontrol_html"><div class="ttname"><a href="structcontrol.html">control</a></div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00481">three.asy:481</a></div></div>
<div class="ttc" id="astructcontrol_html_a00b652361564f4b5610e07c555f079ee"><div class="ttname"><a href="structcontrol.html#a00b652361564f4b5610e07c555f079ee">control::straight</a></div><div class="ttdeci">bool straight</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00484">three.asy:484</a></div></div>
<div class="ttc" id="astructcontrol_html_a7be9f124f4b991427f35efd2f5c939a1"><div class="ttname"><a href="structcontrol.html#a7be9f124f4b991427f35efd2f5c939a1">control::post</a></div><div class="ttdeci">triple post</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00482">three.asy:482</a></div></div>
<div class="ttc" id="astructcontrol_html_a825377c3fc7439e157fdd132c3a3cc46"><div class="ttname"><a href="structcontrol.html#a825377c3fc7439e157fdd132c3a3cc46">control::pre</a></div><div class="ttdeci">triple pre</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00482">three.asy:482</a></div></div>
<div class="ttc" id="astructcontrol_html_a8fca8b52e7f818da5a8d4d65d1ab71a9"><div class="ttname"><a href="structcontrol.html#a8fca8b52e7f818da5a8d4d65d1ab71a9">control::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00483">three.asy:483</a></div></div>
<div class="ttc" id="astructdir_html"><div class="ttname"><a href="structdir.html">dir</a></div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00547">three.asy:547</a></div></div>
<div class="ttc" id="astructdir_html_a2b2ece9d30ec0c13f9ebfd7a02b3e288"><div class="ttname"><a href="structdir.html#a2b2ece9d30ec0c13f9ebfd7a02b3e288">dir::copy</a></div><div class="ttdeci">dir copy()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00573">three.asy:573</a></div></div>
<div class="ttc" id="astructdir_html_a5e44cc87eaa306a1696a75d43d95ab6a"><div class="ttname"><a href="structdir.html#a5e44cc87eaa306a1696a75d43d95ab6a">dir::gamma</a></div><div class="ttdeci">real gamma</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00549">three.asy:549</a></div></div>
<div class="ttc" id="astructdir_html_a68115fd3b9d1c256ddaa5370f6bc9845"><div class="ttname"><a href="structdir.html#a68115fd3b9d1c256ddaa5370f6bc9845">dir::init</a></div><div class="ttdeci">void init(triple v)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00554">three.asy:554</a></div></div>
<div class="ttc" id="astructdir_html_a8dd32a6728f1490b3a2f7701a908337c"><div class="ttname"><a href="structdir.html#a8dd32a6728f1490b3a2f7701a908337c">dir::init</a></div><div class="ttdeci">void init(dir d)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00562">three.asy:562</a></div></div>
<div class="ttc" id="astructdir_html_a90a7b6b82b0605f11640ded0a88b3b88"><div class="ttname"><a href="structdir.html#a90a7b6b82b0605f11640ded0a88b3b88">dir::Curl</a></div><div class="ttdeci">bool Curl</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00550">three.asy:550</a></div></div>
<div class="ttc" id="astructdir_html_abe05132bb579c96fe12d0d8757a37526"><div class="ttname"><a href="structdir.html#abe05132bb579c96fe12d0d8757a37526">dir::dir</a></div><div class="ttdeci">triple dir</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00548">three.asy:548</a></div></div>
<div class="ttc" id="astructdir_html_ae673b8a90a96f2be1240b5a941cded47"><div class="ttname"><a href="structdir.html#ae673b8a90a96f2be1240b5a941cded47">dir::active</a></div><div class="ttdeci">bool active()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00551">three.asy:551</a></div></div>
<div class="ttc" id="astructdir_html_af2cf0d2d0c265b8cf336e8c26037b1b9"><div class="ttname"><a href="structdir.html#af2cf0d2d0c265b8cf336e8c26037b1b9">dir::init</a></div><div class="ttdeci">void init(real gamma)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00557">three.asy:557</a></div></div>
<div class="ttc" id="astructevaluatedpoint_html"><div class="ttname"><a href="structevaluatedpoint.html">evaluatedpoint</a></div><div class="ttdef"><b>Definition:</b> <a href="smoothcontour3_8asy_source.html#l01003">smoothcontour3.asy:1003</a></div></div>
<div class="ttc" id="astructfilltype_html"><div class="ttname"><a href="structfilltype.html">filltype</a></div><div class="ttdef"><b>Definition:</b> <a href="plain__filldraw_8asy_source.html#l00091">plain_filldraw.asy:92</a></div></div>
<div class="ttc" id="astructflatguide3_html"><div class="ttname"><a href="structflatguide3.html">flatguide3</a></div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00614">three.asy:614</a></div></div>
<div class="ttc" id="astructflatguide3_html_a0384d17a988470ada821df7146d0fe78"><div class="ttname"><a href="structflatguide3.html#a0384d17a988470ada821df7146d0fe78">flatguide3::control</a></div><div class="ttdeci">control[] control</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00617">three.asy:617</a></div></div>
<div class="ttc" id="astructflatguide3_html_a044bd7329b3b6a58894af7caf1bade93"><div class="ttname"><a href="structflatguide3.html#a044bd7329b3b6a58894af7caf1bade93">flatguide3::out</a></div><div class="ttdeci">void out(triple v)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00655">three.asy:655</a></div></div>
<div class="ttc" id="astructflatguide3_html_a0f880e6b4b71335f32d0adbb81531fdb"><div class="ttname"><a href="structflatguide3.html#a0f880e6b4b71335f32d0adbb81531fdb">flatguide3::out</a></div><div class="ttdeci">void out(real gamma)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00667">three.asy:667</a></div></div>
<div class="ttc" id="astructflatguide3_html_a18f91385defcb01e91d81fcccf791229"><div class="ttname"><a href="structflatguide3.html#a18f91385defcb01e91d81fcccf791229">flatguide3::nodes</a></div><div class="ttdeci">triple[] nodes</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00615">three.asy:615</a></div></div>
<div class="ttc" id="astructflatguide3_html_a2505cd3696b406221886a0e673aff90e"><div class="ttname"><a href="structflatguide3.html#a2505cd3696b406221886a0e673aff90e">flatguide3::precyclic</a></div><div class="ttdeci">bool precyclic()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00622">three.asy:622</a></div></div>
<div class="ttc" id="astructflatguide3_html_a25af5058dad32afc853a7386dd319988"><div class="ttname"><a href="structflatguide3.html#a25af5058dad32afc853a7386dd319988">flatguide3::cyclic</a></div><div class="ttdeci">bool cyclic()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00621">three.asy:621</a></div></div>
<div class="ttc" id="astructflatguide3_html_a33ce2b105988a7e96227d2d7ebc805f7"><div class="ttname"><a href="structflatguide3.html#a33ce2b105988a7e96227d2d7ebc805f7">flatguide3::solved</a></div><div class="ttdeci">bool solved(int i)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00679">three.asy:679</a></div></div>
<div class="ttc" id="astructflatguide3_html_a4d43211e91c0ca54cae8a5fb7918603e"><div class="ttname"><a href="structflatguide3.html#a4d43211e91c0ca54cae8a5fb7918603e">flatguide3::node</a></div><div class="ttdeci">void node(triple v, bool b=false)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00628">three.asy:628</a></div></div>
<div class="ttc" id="astructflatguide3_html_a6517c4ba78c61107bfbcde0fac81a65d"><div class="ttname"><a href="structflatguide3.html#a6517c4ba78c61107bfbcde0fac81a65d">flatguide3::size</a></div><div class="ttdeci">int size()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00624">three.asy:624</a></div></div>
<div class="ttc" id="astructflatguide3_html_a7a6ab1d572d2817b5af68ef698e5463b"><div class="ttname"><a href="structflatguide3.html#a7a6ab1d572d2817b5af68ef698e5463b">flatguide3::cyclic</a></div><div class="ttdeci">bool[] cyclic</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00616">three.asy:616</a></div></div>
<div class="ttc" id="astructflatguide3_html_a83ca1b801cef17315f3ead1d835df5fd"><div class="ttname"><a href="structflatguide3.html#a83ca1b801cef17315f3ead1d835df5fd">flatguide3::cycleToken</a></div><div class="ttdeci">void cycleToken()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00673">three.asy:673</a></div></div>
<div class="ttc" id="astructflatguide3_html_a9d2ee470fc197cee9455b6cce94db593"><div class="ttname"><a href="structflatguide3.html#a9d2ee470fc197cee9455b6cce94db593">flatguide3::in</a></div><div class="ttdeci">dir[] in</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00619">three.asy:619</a></div></div>
<div class="ttc" id="astructflatguide3_html_aa4938a08856f5b5de7c95feafa69b6af"><div class="ttname"><a href="structflatguide3.html#aa4938a08856f5b5de7c95feafa69b6af">flatguide3::control</a></div><div class="ttdeci">void control(triple post, triple pre)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00637">three.asy:637</a></div></div>
<div class="ttc" id="astructflatguide3_html_abdee3c8459d6f31c376ad2bab0f6fd7e"><div class="ttname"><a href="structflatguide3.html#abdee3c8459d6f31c376ad2bab0f6fd7e">flatguide3::in</a></div><div class="ttdeci">void in(triple v)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00649">three.asy:649</a></div></div>
<div class="ttc" id="astructflatguide3_html_ac430fbe70e9c1aab40f2b67afc73ba71"><div class="ttname"><a href="structflatguide3.html#ac430fbe70e9c1aab40f2b67afc73ba71">flatguide3::in</a></div><div class="ttdeci">void in(real gamma)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00661">three.asy:661</a></div></div>
<div class="ttc" id="astructflatguide3_html_ada186800710b3b2ff51aef2140aec1fb"><div class="ttname"><a href="structflatguide3.html#ada186800710b3b2ff51aef2140aec1fb">flatguide3::Tension</a></div><div class="ttdeci">void Tension(real out, real in, bool atLeast)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00644">three.asy:644</a></div></div>
<div class="ttc" id="astructflatguide3_html_ae92fc71caab01150cf7891dca129fd91"><div class="ttname"><a href="structflatguide3.html#ae92fc71caab01150cf7891dca129fd91">flatguide3::out</a></div><div class="ttdeci">dir[] out</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00619">three.asy:619</a></div></div>
<div class="ttc" id="astructflatguide3_html_af61c1a3547574390a0e9835837867aca"><div class="ttname"><a href="structflatguide3.html#af61c1a3547574390a0e9835837867aca">flatguide3::Tension</a></div><div class="ttdeci">Tension[] Tension</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00618">three.asy:618</a></div></div>
<div class="ttc" id="astructinteraction_html"><div class="ttname"><a href="structinteraction.html">interaction</a></div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00026">three.asy:27</a></div></div>
<div class="ttc" id="astructinteraction_html_a666aa8997c9b1375f0c676d69be0608b"><div class="ttname"><a href="structinteraction.html#a666aa8997c9b1375f0c676d69be0608b">interaction::center</a></div><div class="ttdeci">triple center</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00029">three.asy:29</a></div></div>
<div class="ttc" id="astructinteraction_html_a72ef8e8630dc115d0969afb1bb0c833a"><div class="ttname"><a href="structinteraction.html#a72ef8e8630dc115d0969afb1bb0c833a">interaction::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00028">three.asy:28</a></div></div>
<div class="ttc" id="astructinteraction_html_a7dde8aa95e90117a2a8f160529dc10f8"><div class="ttname"><a href="structinteraction.html#a7dde8aa95e90117a2a8f160529dc10f8">interaction::defaultinteraction</a></div><div class="ttdeci">static interaction defaultinteraction</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00031">three.asy:31</a></div></div>
<div class="ttc" id="astructinteraction_html_ab1514c70020d58c465c09846c8a78ef9"><div class="ttname"><a href="structinteraction.html#ab1514c70020d58c465c09846c8a78ef9">interaction::targetsize</a></div><div class="ttdeci">bool targetsize</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00030">three.asy:30</a></div></div>
<div class="ttc" id="astructkey_html"><div class="ttname"><a href="structkey.html">key</a></div><div class="ttdef"><b>Definition:</b> <a href="binarytree_8asy_source.html#l00251">binarytree.asy:251</a></div></div>
<div class="ttc" id="astructlight_html"><div class="ttname"><a href="structlight.html">light</a></div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00162">plain_prethree.asy:162</a></div></div>
<div class="ttc" id="astructlight_html_a360b43199b82776069fc9d8b1307e150"><div class="ttname"><a href="structlight.html#a360b43199b82776069fc9d8b1307e150">light::background</a></div><div class="ttdeci">pen background</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00165">plain_prethree.asy:165</a></div></div>
<div class="ttc" id="astructlight_html_a5cf8dde6a4c13463d5d7f58af20c0a84"><div class="ttname"><a href="structlight.html#a5cf8dde6a4c13463d5d7f58af20c0a84">light::on</a></div><div class="ttdeci">bool on()</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00171">plain_prethree.asy:171</a></div></div>
<div class="ttc" id="astructlight_html_a5d461a48497d05aaa04607aecdf9df6e"><div class="ttname"><a href="structlight.html#a5d461a48497d05aaa04607aecdf9df6e">light::diffuse</a></div><div class="ttdeci">real[][] diffuse</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00163">plain_prethree.asy:163</a></div></div>
<div class="ttc" id="astructlight_html_a96c8a859f11f3eaad95f14df3003a758"><div class="ttname"><a href="structlight.html#a96c8a859f11f3eaad95f14df3003a758">light::position</a></div><div class="ttdeci">triple[] position</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00167">plain_prethree.asy:167</a></div></div>
<div class="ttc" id="astructlight_html_aecc649ac707d09260da6a11a8db74872"><div class="ttname"><a href="structlight.html#aecc649ac707d09260da6a11a8db74872">light::specular</a></div><div class="ttdeci">real[][] specular</div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00164">plain_prethree.asy:164</a></div></div>
<div class="ttc" id="astructline_html_a4b7ef2c5a3a6b1f30ba3a06db5c8e2fd"><div class="ttname"><a href="structline.html#a4b7ef2c5a3a6b1f30ba3a06db5c8e2fd">line::init</a></div><div class="ttdeci">void init(point A, bool extendA=true, point B, bool extendB=true)</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l01482">geometry.asy:1482</a></div></div>
<div class="ttc" id="astructmarginT3_html"><div class="ttname"><a href="structmarginT3.html">marginT3</a></div><div class="ttdef"><b>Definition:</b> <a href="three__margins_8asy_source.html#l00001">three_margins.asy:1</a></div></div>
<div class="ttc" id="astructmaterial_html"><div class="ttname"><a href="structmaterial.html">material</a></div><div class="ttdef"><b>Definition:</b> <a href="three__light_8asy_source.html#l00001">three_light.asy:1</a></div></div>
<div class="ttc" id="astructpicture_1_1bounds3_html_af61cbc05804515e2ee0f9853cc90d1da"><div class="ttname"><a href="structpicture_1_1bounds3.html#af61cbc05804515e2ee0f9853cc90d1da">picture::bounds3::exact</a></div><div class="ttdeci">bool exact</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00229">plain_picture.asy:229</a></div></div>
<div class="ttc" id="astructpicture_html"><div class="ttname"><a href="structpicture.html">picture</a></div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00203">plain_picture.asy:203</a></div></div>
<div class="ttc" id="astructpicture_html_a063a4c9802a28b10741f1a3458378630"><div class="ttname"><a href="structpicture.html#a063a4c9802a28b10741f1a3458378630">picture::ysize</a></div><div class="ttdeci">real ysize</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00264">plain_picture.asy:264</a></div></div>
<div class="ttc" id="astructpicture_html_a0b1f1a4cc86e77785ba017e5f804666d"><div class="ttname"><a href="structpicture.html#a0b1f1a4cc86e77785ba017e5f804666d">picture::calculateTransform3</a></div><div class="ttdeci">transform3 calculateTransform3(real xsize=xsize3, real ysize=ysize3, real zsize=zsize3, bool keepAspect=true, bool warn=true, projection P=currentprojection)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00829">plain_picture.asy:829</a></div></div>
<div class="ttc" id="astructpicture_html_a0fa3f33515d5c46dcb9102c6f183cee7"><div class="ttname"><a href="structpicture.html#a0fa3f33515d5c46dcb9102c6f183cee7">picture::add</a></div><div class="ttdeci">void add(drawerBound d, bool exact=false, bool above=true)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00471">plain_picture.asy:471</a></div></div>
<div class="ttc" id="astructpicture_html_a15d04e7c34539715a30ca86680b84fc3"><div class="ttname"><a href="structpicture.html#a15d04e7c34539715a30ca86680b84fc3">picture::zsize3</a></div><div class="ttdeci">real zsize3</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00266">plain_picture.asy:266</a></div></div>
<div class="ttc" id="astructpicture_html_a2bfd91575a9b4a41c25c4ddba93da796"><div class="ttname"><a href="structpicture.html#a2bfd91575a9b4a41c25c4ddba93da796">picture::queueErase</a></div><div class="ttdeci">bool queueErase</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00224">plain_picture.asy:224</a></div></div>
<div class="ttc" id="astructpicture_html_a35767312b27a444577085e059da904f7"><div class="ttname"><a href="structpicture.html#a35767312b27a444577085e059da904f7">picture::fit</a></div><div class="ttdeci">frame fit(transform t, transform T0=T, pair m, pair M)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00703">plain_picture.asy:703</a></div></div>
<div class="ttc" id="astructpicture_html_a47db8175dd43ef0b7142a431f7b114f9"><div class="ttname"><a href="structpicture.html#a47db8175dd43ef0b7142a431f7b114f9">picture::queueErase3</a></div><div class="ttdeci">bool queueErase3</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00225">plain_picture.asy:225</a></div></div>
<div class="ttc" id="astructpicture_html_a4a0a5fc1d6bd06e966db9407652a85ee"><div class="ttname"><a href="structpicture.html#a4a0a5fc1d6bd06e966db9407652a85ee">picture::fitter</a></div><div class="ttdeci">static frame fitter(string, picture, string, real, real, bool, bool, string, string, light, projection)</div></div>
<div class="ttc" id="astructpicture_html_a5fa4b87d4c26b3a27db7ee3b9c836ffd"><div class="ttname"><a href="structpicture.html#a5fa4b87d4c26b3a27db7ee3b9c836ffd">picture::xsize</a></div><div class="ttdeci">real xsize</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00264">plain_picture.asy:264</a></div></div>
<div class="ttc" id="astructpicture_html_a610f47f2bb8253cac25eccd24b72aa49"><div class="ttname"><a href="structpicture.html#a610f47f2bb8253cac25eccd24b72aa49">picture::scaling</a></div><div class="ttdeci">transform scaling(real xsize, real ysize, bool keepAspect=true, bool warn=true)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00648">plain_picture.asy:648</a></div></div>
<div class="ttc" id="astructpicture_html_a61e2445a994fac003ff86eb035bef04e"><div class="ttname"><a href="structpicture.html#a61e2445a994fac003ff86eb035bef04e">picture::min</a></div><div class="ttdeci">pair min(transform t)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00583">plain_picture.asy:583</a></div></div>
<div class="ttc" id="astructpicture_html_a636a2c8061042c9fe2e186005dabb14a"><div class="ttname"><a href="structpicture.html#a636a2c8061042c9fe2e186005dabb14a">picture::keepAspect</a></div><div class="ttdeci">bool keepAspect</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00273">plain_picture.asy:273</a></div></div>
<div class="ttc" id="astructpicture_html_a678fe85cda339828cd0240316b954eaa"><div class="ttname"><a href="structpicture.html#a678fe85cda339828cd0240316b954eaa">picture::scale3</a></div><div class="ttdeci">transform3 scale3(frame f, real xsize3=this.xsize3, real ysize3=this.ysize3, real zsize3=this.zsize3, bool keepaspect=this.keepAspect)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00795">plain_picture.asy:795</a></div></div>
<div class="ttc" id="astructpicture_html_a6bb4b71f3a51f2fcb23b87516af7d71a"><div class="ttname"><a href="structpicture.html#a6bb4b71f3a51f2fcb23b87516af7d71a">picture::max</a></div><div class="ttdeci">pair max(transform t)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00588">plain_picture.asy:588</a></div></div>
<div class="ttc" id="astructpicture_html_a7cf88eaf9ad2b856a61edfcec75529d3"><div class="ttname"><a href="structpicture.html#a7cf88eaf9ad2b856a61edfcec75529d3">picture::max3</a></div><div class="ttdeci">triple max3(real xsize=this.xsize3, real ysize=this.ysize3, real zsize=this.zsize3, bool keepAspect=this.keepAspect, bool warn=true, projection P)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00855">plain_picture.asy:855</a></div></div>
<div class="ttc" id="astructpicture_html_a7d0767153966f29fc3532c44a779d3ca"><div class="ttname"><a href="structpicture.html#a7d0767153966f29fc3532c44a779d3ca">picture::bounds3</a></div><div class="ttdeci">bounds3 bounds3</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00246">plain_picture.asy:246</a></div></div>
<div class="ttc" id="astructpicture_html_a8c15e299005c1b76ecfc9da72fd0c328"><div class="ttname"><a href="structpicture.html#a8c15e299005c1b76ecfc9da72fd0c328">picture::erase</a></div><div class="ttdeci">void erase()</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00299">plain_picture.asy:299</a></div></div>
<div class="ttc" id="astructpicture_html_a9cbea463e893a4a39c7dfe82e12dca07"><div class="ttname"><a href="structpicture.html#a9cbea463e893a4a39c7dfe82e12dca07">picture::min3</a></div><div class="ttdeci">triple min3(real xsize=this.xsize3, real ysize=this.ysize3, real zsize=this.zsize3, bool keepAspect=this.keepAspect, bool warn=true, projection P)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00849">plain_picture.asy:849</a></div></div>
<div class="ttc" id="astructpicture_html_aa9affe5070cf69c83c2001543df93425"><div class="ttname"><a href="structpicture.html#aa9affe5070cf69c83c2001543df93425">picture::fit3</a></div><div class="ttdeci">frame fit3(transform3 t, transform3 T0=T3, picture pic, projection P, triple m, triple M)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00712">plain_picture.asy:712</a></div></div>
<div class="ttc" id="astructpicture_html_ab4f1a6fea69a753feb07619a8d111584"><div class="ttname"><a href="structpicture.html#ab4f1a6fea69a753feb07619a8d111584">picture::addBox</a></div><div class="ttdeci">void addBox(pair userMin, pair userMax, pair trueMin=0, pair trueMax=0)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00543">plain_picture.asy:543</a></div></div>
<div class="ttc" id="astructpicture_html_abebf8d92371ff2703d653cba44360185"><div class="ttname"><a href="structpicture.html#abebf8d92371ff2703d653cba44360185">picture::ysize3</a></div><div class="ttdeci">real ysize3</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00266">plain_picture.asy:266</a></div></div>
<div class="ttc" id="astructpicture_html_ad0fd3813a69a274540658abc9f20f84e"><div class="ttname"><a href="structpicture.html#ad0fd3813a69a274540658abc9f20f84e">picture::xsize3</a></div><div class="ttdeci">real xsize3</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00266">plain_picture.asy:266</a></div></div>
<div class="ttc" id="astructpicture_html_ad1fdb8bbf045b167160dbbb6557e1d87"><div class="ttname"><a href="structpicture.html#ad1fdb8bbf045b167160dbbb6557e1d87">picture::empty3</a></div><div class="ttdeci">bool empty3()</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00313">plain_picture.asy:313</a></div></div>
<div class="ttc" id="astructpicture_html_ad36006069527c3fb139e770a296c006f"><div class="ttname"><a href="structpicture.html#ad36006069527c3fb139e770a296c006f">picture::fit2</a></div><div class="ttdeci">frame fit2(real xsize=this.xsize, real ysize=this.ysize, bool keepAspect=this.keepAspect)</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00863">plain_picture.asy:863</a></div></div>
<div class="ttc" id="astructpicture_html_ae1e05ff68ae4320190dd55861322bc93"><div class="ttname"><a href="structpicture.html#ae1e05ff68ae4320190dd55861322bc93">picture::userMin</a></div><div class="ttdeci">pairOrTriple userMin()</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00364">plain_picture.asy:364</a></div></div>
<div class="ttc" id="astructpicture_html_ae98ba8b0d0c3df6b8b613c2dd3ace140"><div class="ttname"><a href="structpicture.html#ae98ba8b0d0c3df6b8b613c2dd3ace140">picture::bounds</a></div><div class="ttdeci">struct picture::bounds3 bounds</div></div>
<div class="ttc" id="astructpicture_html_aee862fa937e9f2d95f7d9ce0d80c0b66"><div class="ttname"><a href="structpicture.html#aee862fa937e9f2d95f7d9ce0d80c0b66">picture::userMax</a></div><div class="ttdeci">pairOrTriple userMax()</div><div class="ttdef"><b>Definition:</b> <a href="plain__picture_8asy_source.html#l00367">plain_picture.asy:367</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l00424">geometry.asy:425</a></div></div>
<div class="ttc" id="astructpoint_html_a70bbe74de30933e284583d37c5936fc9"><div class="ttname"><a href="structpoint.html#a70bbe74de30933e284583d37c5936fc9">point::y</a></div><div class="ttdeci">restricted real y</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l00431">geometry.asy:431</a></div></div>
<div class="ttc" id="astructpoint_html_ac15e6fcd1d7b4df9ec42d89ee24c8475"><div class="ttname"><a href="structpoint.html#ac15e6fcd1d7b4df9ec42d89ee24c8475">point::x</a></div><div class="ttdeci">restricted real x</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l00431">geometry.asy:431</a></div></div>
<div class="ttc" id="astructprimitive_html"><div class="ttname"><a href="structprimitive.html">primitive</a></div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l00752">three_surface.asy:752</a></div></div>
<div class="ttc" id="astructrender_html"><div class="ttname"><a href="structrender.html">render</a></div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00047">three.asy:48</a></div></div>
<div class="ttc" id="astructrender_html_a67199de9ebd4de57b65b1965d77ad31b"><div class="ttname"><a href="structrender.html#a67199de9ebd4de57b65b1965d77ad31b">render::partnames</a></div><div class="ttdeci">bool partnames</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00064">three.asy:64</a></div></div>
<div class="ttc" id="astructrender_html_a7a59966bb9224345d729b9011d5da2de"><div class="ttname"><a href="structrender.html#a7a59966bb9224345d729b9011d5da2de">render::interaction</a></div><div class="ttdeci">interaction interaction</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00066">three.asy:66</a></div></div>
<div class="ttc" id="astructrender_html_a99770ae7aa9852966ff08ef38d4a8695"><div class="ttname"><a href="structrender.html#a99770ae7aa9852966ff08ef38d4a8695">render::defaultnames</a></div><div class="ttdeci">bool defaultnames</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00065">three.asy:65</a></div></div>
<div class="ttc" id="astructrender_html_aa50461c2d29e6aa6b73a41dcc0b09494"><div class="ttname"><a href="structrender.html#aa50461c2d29e6aa6b73a41dcc0b09494">render::sphere</a></div><div class="ttdeci">int sphere</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00060">three.asy:60</a></div></div>
<div class="ttc" id="astructrender_html_aae585969b3a072887a2d16d8fb960705"><div class="ttname"><a href="structrender.html#aae585969b3a072887a2d16d8fb960705">render::compression</a></div><div class="ttdeci">real compression</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00049">three.asy:49</a></div></div>
<div class="ttc" id="astructrender_html_ad7b10b80e28f0a36cf1d63f34c71ae5b"><div class="ttname"><a href="structrender.html#ad7b10b80e28f0a36cf1d63f34c71ae5b">render::margin</a></div><div class="ttdeci">real margin</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00063">three.asy:63</a></div></div>
<div class="ttc" id="astructrender_html_adb1274ce52a0ae100b141b1f3eb85839"><div class="ttname"><a href="structrender.html#adb1274ce52a0ae100b141b1f3eb85839">render::granularity</a></div><div class="ttdeci">real granularity</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00050">three.asy:50</a></div></div>
<div class="ttc" id="astructrender_html_add912c17887eece946eea8895f0104b1"><div class="ttname"><a href="structrender.html#add912c17887eece946eea8895f0104b1">render::merge</a></div><div class="ttdeci">bool3 merge</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00056">three.asy:56</a></div></div>
<div class="ttc" id="astructrender_html_ae8b60262da9a14f7f86cda727f4fe360"><div class="ttname"><a href="structrender.html#ae8b60262da9a14f7f86cda727f4fe360">render::tessellate</a></div><div class="ttdeci">bool tessellate</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00054">three.asy:54</a></div></div>
<div class="ttc" id="astructrender_html_aef18ed23f6452bff96d792943b4dd8a3"><div class="ttname"><a href="structrender.html#aef18ed23f6452bff96d792943b4dd8a3">render::closed</a></div><div class="ttdeci">bool closed</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00052">three.asy:52</a></div></div>
<div class="ttc" id="astructrender_html_afb7efd97dbc3f2dbd0d3cfe71131a7c4"><div class="ttname"><a href="structrender.html#afb7efd97dbc3f2dbd0d3cfe71131a7c4">render::defaultrender</a></div><div class="ttdeci">static render defaultrender</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00068">three.asy:68</a></div></div>
<div class="ttc" id="astructscene_html"><div class="ttname"><a href="structscene.html">scene</a></div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02649">three.asy:2650</a></div></div>
<div class="ttc" id="astructscene_html_a213fa96de5a98d02e819928221360fda"><div class="ttname"><a href="structscene.html#a213fa96de5a98d02e819928221360fda">scene::f</a></div><div class="ttdeci">frame f</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02651">three.asy:2651</a></div></div>
<div class="ttc" id="astructscene_html_a40aad0fb3b74f4168560d24840efa783"><div class="ttname"><a href="structscene.html#a40aad0fb3b74f4168560d24840efa783">scene::height</a></div><div class="ttdeci">real height</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02655">three.asy:2655</a></div></div>
<div class="ttc" id="astructscene_html_a4f2011d85c97c77fbc43d5f197b40ab1"><div class="ttname"><a href="structscene.html#a4f2011d85c97c77fbc43d5f197b40ab1">scene::adjusted</a></div><div class="ttdeci">bool adjusted</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02654">three.asy:2654</a></div></div>
<div class="ttc" id="astructscene_html_a4fee01ecdf38c8ccf9e770429edd6bfe"><div class="ttname"><a href="structscene.html#a4fee01ecdf38c8ccf9e770429edd6bfe">scene::width</a></div><div class="ttdeci">real width</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02655">three.asy:2655</a></div></div>
<div class="ttc" id="astructscene_html_a7dec2a99effbf47040bf5eb6833e525f"><div class="ttname"><a href="structscene.html#a7dec2a99effbf47040bf5eb6833e525f">scene::angle</a></div><div class="ttdeci">real angle(projection P)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02756">three.asy:2756</a></div></div>
<div class="ttc" id="astructscene_html_a9ba29b791f10b4a744d098bc4faf1f8d"><div class="ttname"><a href="structscene.html#a9ba29b791f10b4a744d098bc4faf1f8d">scene::keepAspect</a></div><div class="ttdeci">bool keepAspect</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02659">three.asy:2659</a></div></div>
<div class="ttc" id="astructscene_html_aa06e9ec69c0b519d7ac61dd1e963453f"><div class="ttname"><a href="structscene.html#aa06e9ec69c0b519d7ac61dd1e963453f">scene::T</a></div><div class="ttdeci">transform3 T</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02657">three.asy:2657</a></div></div>
<div class="ttc" id="astructscene_html_aa5128d045f78bc831b4085f740548a7d"><div class="ttname"><a href="structscene.html#aa5128d045f78bc831b4085f740548a7d">scene::t</a></div><div class="ttdeci">transform3 t</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02652">three.asy:2652</a></div></div>
<div class="ttc" id="astructscene_html_acf9cb725ed035f85ca597c8f525887c8"><div class="ttname"><a href="structscene.html#acf9cb725ed035f85ca597c8f525887c8">scene::P</a></div><div class="ttdeci">projection P</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02653">three.asy:2653</a></div></div>
<div class="ttc" id="astructscene_html_ad7cd4b61bd5033d0111cccc015682a66"><div class="ttname"><a href="structscene.html#ad7cd4b61bd5033d0111cccc015682a66">scene::pic2</a></div><div class="ttdeci">picture pic2</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02658">three.asy:2658</a></div></div>
<div class="ttc" id="astructscene_html_ae21be85c4932ef2167e6e3ee4a2d98d3"><div class="ttname"><a href="structscene.html#ae21be85c4932ef2167e6e3ee4a2d98d3">scene::viewportmargin</a></div><div class="ttdeci">pair viewportmargin</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02656">three.asy:2656</a></div></div>
<div class="ttc" id="astructside_html"><div class="ttname"><a href="structside.html">side</a></div><div class="ttdef"><b>Definition:</b> <a href="geometry_8asy_source.html#l05721">geometry.asy:5722</a></div></div>
<div class="ttc" id="astructtransformation_html"><div class="ttname"><a href="structtransformation.html">transformation</a></div><div class="ttdef"><b>Definition:</b> <a href="plain__prethree_8asy_source.html#l00035">plain_prethree.asy:35</a></div></div>
<div class="ttc" id="astructtube_html"><div class="ttname"><a href="structtube.html">tube</a></div><div class="ttdef"><b>Definition:</b> <a href="three__tube_8asy_source.html#l00157">three_tube.asy:158</a></div></div>
<div class="ttc" id="astructviewpoint_html"><div class="ttname"><a href="structviewpoint.html">viewpoint</a></div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02484">three.asy:2484</a></div></div>
<div class="ttc" id="astructviewpoint_html_a2a371cd53a8fa8e144c817b0d6c79090"><div class="ttname"><a href="structviewpoint.html#a2a371cd53a8fa8e144c817b0d6c79090">viewpoint::angle</a></div><div class="ttdeci">real angle</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02486">three.asy:2486</a></div></div>
<div class="ttc" id="astructviewpoint_html_a90f440e0d3f71ed41138697d7b4b21f3"><div class="ttname"><a href="structviewpoint.html#a90f440e0d3f71ed41138697d7b4b21f3">viewpoint::target</a></div><div class="ttdeci">triple target</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02485">three.asy:2485</a></div></div>
<div class="ttc" id="astructviewpoint_html_ae754d7ca26ef2966f6e0ffd515fa09c9"><div class="ttname"><a href="structviewpoint.html#ae754d7ca26ef2966f6e0ffd515fa09c9">viewpoint::camera</a></div><div class="ttdeci">triple camera</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02485">three.asy:2485</a></div></div>
<div class="ttc" id="astructviewpoint_html_aeddcee27f91dcf7a4f0861eae052315b"><div class="ttname"><a href="structviewpoint.html#aeddcee27f91dcf7a4f0861eae052315b">viewpoint::up</a></div><div class="ttdeci">triple up</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02485">three.asy:2485</a></div></div>
<div class="ttc" id="asyzygy_8asy_html_a80b7064823b814472bab69329c4219b9"><div class="ttname"><a href="syzygy_8asy.html#a80b7064823b814472bab69329c4219b9">phi</a></div><div class="ttdeci">Component phi</div><div class="ttdef"><b>Definition:</b> <a href="syzygy_8asy_source.html#l00103">syzygy.asy:103</a></div></div>
<div class="ttc" id="atexcolors_8asy_html_a8a9b0f63c23fd243b7e6baadcf0478b2"><div class="ttname"><a href="texcolors_8asy.html#a8a9b0f63c23fd243b7e6baadcf0478b2">Tan</a></div><div class="ttdeci">pen Tan</div><div class="ttdef"><b>Definition:</b> <a href="texcolors_8asy_source.html#l00065">texcolors.asy:65</a></div></div>
<div class="ttc" id="athree_8asy_html_a04dd3c759085ab55136c0af8e6bad847"><div class="ttname"><a href="three_8asy.html#a04dd3c759085ab55136c0af8e6bad847">FrontView</a></div><div class="ttdeci">projection FrontView</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00430">three.asy:430</a></div></div>
<div class="ttc" id="athree_8asy_html_a0735a027f1e84a47e8a70f4a7f47f444"><div class="ttname"><a href="three_8asy.html#a0735a027f1e84a47e8a70f4a7f47f444">length</a></div><div class="ttdeci">int length(guide3 g)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01083">three.asy:1083</a></div></div>
<div class="ttc" id="athree_8asy_html_a0793b863a0694b2988852f61b387d14d"><div class="ttname"><a href="three_8asy.html#a0793b863a0694b2988852f61b387d14d">defaultembed3Dscript</a></div><div class="ttdeci">string defaultembed3Dscript</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00119">three.asy:119</a></div></div>
<div class="ttc" id="athree_8asy_html_a08ce4bf58bf6d85ee17275ff1163e2fb"><div class="ttname"><a href="three_8asy.html#a08ce4bf58bf6d85ee17275ff1163e2fb">maxangleiterations</a></div><div class="ttdeci">int maxangleiterations</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00116">three.asy:116</a></div></div>
<div class="ttc" id="athree_8asy_html_a090b38e905a42d66877194e8ea0657ff"><div class="ttname"><a href="three_8asy.html#a090b38e905a42d66877194e8ea0657ff">BottomView</a></div><div class="ttdeci">projection BottomView</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00432">three.asy:432</a></div></div>
<div class="ttc" id="athree_8asy_html_a0912952c82882677e2f45ceb808fbf4d"><div class="ttname"><a href="three_8asy.html#a0912952c82882677e2f45ceb808fbf4d">zscale3</a></div><div class="ttdeci">transform3 zscale3(real z)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00172">three.asy:172</a></div></div>
<div class="ttc" id="athree_8asy_html_a099e62b7b7b192d4ff2cacc77195d025"><div class="ttname"><a href="three_8asy.html#a099e62b7b7b192d4ff2cacc77195d025">operator*</a></div><div class="ttdeci">projection operator*(transform3 t, projection P)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00285">three.asy:285</a></div></div>
<div class="ttc" id="athree_8asy_html_a0a2af7b733e2eaa7c8d88d2e3903b2cf"><div class="ttname"><a href="three_8asy.html#a0a2af7b733e2eaa7c8d88d2e3903b2cf">absorthographic</a></div><div class="ttdeci">projection absorthographic(triple camera=Z, triple target=O, real roll=0)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02532">three.asy:2532</a></div></div>
<div class="ttc" id="athree_8asy_html_a0af47104b8693cfd407e9757ae6b50ec"><div class="ttname"><a href="three_8asy.html#a0af47104b8693cfd407e9757ae6b50ec">in</a></div><div class="ttdeci">real in</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00531">three.asy:531</a></div></div>
<div class="ttc" id="athree_8asy_html_a0c86eac1452a5ebd3676783f885567ba"><div class="ttname"><a href="three_8asy.html#a0c86eac1452a5ebd3676783f885567ba">dir</a></div><div class="ttdeci">triple dir</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00581">three.asy:581</a></div></div>
<div class="ttc" id="athree_8asy_html_a0e9f565c561ad6641ef71fdc4254f32d"><div class="ttname"><a href="three_8asy.html#a0e9f565c561ad6641ef71fdc4254f32d">Tension</a></div><div class="ttdeci">Tension[] Tension</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00688">three.asy:688</a></div></div>
<div class="ttc" id="athree_8asy_html_a132ba0be29d856fb725f9425b629eb9b"><div class="ttname"><a href="three_8asy.html#a132ba0be29d856fb725f9425b629eb9b">embed</a></div><div class="ttdeci">struct scene embed(string prefix=outprefix(), string label=prefix, string text=label, scene S, string format=&quot;&quot;, bool view=true, string options=&quot;&quot;, string script=&quot;&quot;, light light=currentlight)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02592">three.asy:2794</a></div></div>
<div class="ttc" id="athree_8asy_html_a1404287ffd8f0742abd02dff1719a741"><div class="ttname"><a href="three_8asy.html#a1404287ffd8f0742abd02dff1719a741">truepoint</a></div><div class="ttdeci">triple truepoint(picture pic=currentpicture, triple dir, bool user=true, projection P=currentprojection)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02465">three.asy:2465</a></div></div>
<div class="ttc" id="athree_8asy_html_a14115539b3ae645388882263ac121c0d"><div class="ttname"><a href="three_8asy.html#a14115539b3ae645388882263ac121c0d">intersectionpoint</a></div><div class="ttdeci">triple intersectionpoint(path3 p, path3 q, real fuzz=-1)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01795">three.asy:1795</a></div></div>
<div class="ttc" id="athree_8asy_html_a14b7d94a249addedbeef7726aaeebf74"><div class="ttname"><a href="three_8asy.html#a14b7d94a249addedbeef7726aaeebf74">max</a></div><div class="ttdeci">triple max(explicit path3[] p)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01991">three.asy:1991</a></div></div>
<div class="ttc" id="athree_8asy_html_a1792f1b11f913edf64860e8a932b1731"><div class="ttname"><a href="three_8asy.html#a1792f1b11f913edf64860e8a932b1731">interp</a></div><div class="ttdeci">path3 interp(path3 a, path3 b, real t)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01164">three.asy:1164</a></div></div>
<div class="ttc" id="athree_8asy_html_a1797852af8291e23d291fee5b0c0e236"><div class="ttname"><a href="three_8asy.html#a1797852af8291e23d291fee5b0c0e236">project</a></div><div class="ttdeci">triple project(triple u, triple v)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00230">three.asy:230</a></div></div>
<div class="ttc" id="athree_8asy_html_a183482bd3a0b727b4339dce71d714959"><div class="ttname"><a href="three_8asy.html#a183482bd3a0b727b4339dce71d714959">partname</a></div><div class="ttdeci">string partname(int i, render render=defaultrender)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00122">three.asy:122</a></div></div>
<div class="ttc" id="athree_8asy_html_a1896fb50bc4a56e2e025002d4bf3aee3"><div class="ttname"><a href="three_8asy.html#a1896fb50bc4a56e2e025002d4bf3aee3">embed3D</a></div><div class="ttdeci">string embed3D(string prefix, string label=prefix, string text=label, frame f, string format=&quot;&quot;, real width=0, real height=0, string options=&quot;&quot;, string script=&quot;&quot;, light light=currentlight, projection P=currentprojection, real viewplanesize=0)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02592">three.asy:2592</a></div></div>
<div class="ttc" id="athree_8asy_html_a1b6305556d53a16324f5258191c481af"><div class="ttname"><a href="three_8asy.html#a1b6305556d53a16324f5258191c481af">currentprojection</a></div><div class="ttdeci">currentprojection</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00435">three.asy:435</a></div></div>
<div class="ttc" id="athree_8asy_html_a1e85b1619007224764c10dce3b590fe6"><div class="ttname"><a href="three_8asy.html#a1e85b1619007224764c10dce3b590fe6">size</a></div><div class="ttdeci">int size()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00694">three.asy:694</a></div></div>
<div class="ttc" id="athree_8asy_html_a230ae788e9424997f43f1dee2a944132"><div class="ttname"><a href="three_8asy.html#a230ae788e9424997f43f1dee2a944132">PRCsphere</a></div><div class="ttdeci">restricted int PRCsphere</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00023">three.asy:23</a></div></div>
<div class="ttc" id="athree_8asy_html_a234c53f773c9563f1c573961e480053a"><div class="ttname"><a href="three_8asy.html#a234c53f773c9563f1c573961e480053a">reflect</a></div><div class="ttdeci">transform3 reflect(triple u, triple v, triple w)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00215">three.asy:215</a></div></div>
<div class="ttc" id="athree_8asy_html_a25547c00657626c0263c90cab1c21cf7"><div class="ttname"><a href="three_8asy.html#a25547c00657626c0263c90cab1c21cf7">three_surface</a></div><div class="ttdeci">include three_surface</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02163">three.asy:2163</a></div></div>
<div class="ttc" id="athree_8asy_html_a256afafa04029ab8a3404748278b1497"><div class="ttname"><a href="three_8asy.html#a256afafa04029ab8a3404748278b1497">box</a></div><div class="ttdeci">path3[] box(triple v1, triple v2)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02013">three.asy:2013</a></div></div>
<div class="ttc" id="athree_8asy_html_a25b0dbd5e57abf3fc953767dec9674e9"><div class="ttname"><a href="three_8asy.html#a25b0dbd5e57abf3fc953767dec9674e9">planeproject</a></div><div class="ttdeci">transform3 planeproject(triple n, triple O=O, triple dir=n)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01626">three.asy:1626</a></div></div>
<div class="ttc" id="athree_8asy_html_a265f24135f0b658ea37b7ef25df35265"><div class="ttname"><a href="three_8asy.html#a265f24135f0b658ea37b7ef25df35265">nurb</a></div><div class="ttdeci">path nurb(path3 p, projection P, int ninterpolate=P.ninterpolate)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01375">three.asy:1375</a></div></div>
<div class="ttc" id="athree_8asy_html_a274a3975356c248309caefbf77b4953e"><div class="ttname"><a href="three_8asy.html#a274a3975356c248309caefbf77b4953e">control</a></div><div class="ttdeci">control[] control</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00687">three.asy:687</a></div></div>
<div class="ttc" id="athree_8asy_html_a2764a32fa4dd65548be28379bcc748e5"><div class="ttname"><a href="three_8asy.html#a2764a32fa4dd65548be28379bcc748e5">camera</a></div><div class="ttdeci">triple camera</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02524">three.asy:2524</a></div></div>
<div class="ttc" id="athree_8asy_html_a296b5e024862ae6c80e068507dd51669"><div class="ttname"><a href="three_8asy.html#a296b5e024862ae6c80e068507dd51669">fit</a></div><div class="ttdeci">fit</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03221">three.asy:3221</a></div></div>
<div class="ttc" id="athree_8asy_html_a2b4cb2ea6966c0368fd98e3a4d52d7ce"><div class="ttname"><a href="three_8asy.html#a2b4cb2ea6966c0368fd98e3a4d52d7ce">target</a></div><div class="ttdeci">triple target</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02524">three.asy:2524</a></div></div>
<div class="ttc" id="athree_8asy_html_a2d278ba4d3deaf95bb43407b62a65cf6"><div class="ttname"><a href="three_8asy.html#a2d278ba4d3deaf95bb43407b62a65cf6">solve</a></div><div class="ttdeci">path3 solve(flatguide3 g)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01260">three.asy:1260</a></div></div>
<div class="ttc" id="athree_8asy_html_a2d9fb2c6f554e147a066dfeed2c71a8e"><div class="ttname"><a href="three_8asy.html#a2d9fb2c6f554e147a066dfeed2c71a8e">addSaveFunction</a></div><div class="ttdeci">addSaveFunction(new restoreThunk() { projection P=currentprojection.copy();return new void() { currentprojection=P;};})</div></div>
<div class="ttc" id="athree_8asy_html_a2e187de1e29110652cd7a9bdc4745acb"><div class="ttname"><a href="three_8asy.html#a2e187de1e29110652cd7a9bdc4745acb">obliqueY</a></div><div class="ttdeci">projection obliqueY</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00426">three.asy:426</a></div></div>
<div class="ttc" id="athree_8asy_html_a2e6a6df0f0d9e4b288f05d84916f9a14"><div class="ttname"><a href="three_8asy.html#a2e6a6df0f0d9e4b288f05d84916f9a14">three_tube</a></div><div class="ttdeci">include three_tube</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02223">three.asy:2223</a></div></div>
<div class="ttc" id="athree_8asy_html_a2ebc202f403e9b6fb9c54f52c4fc0d1d"><div class="ttname"><a href="three_8asy.html#a2ebc202f403e9b6fb9c54f52c4fc0d1d">cross</a></div><div class="ttdeci">struct Controls cross(triple d0, triple d1, triple reference)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00834">three.asy:862</a></div></div>
<div class="ttc" id="athree_8asy_html_a3033fa652ae41fb2c96eaa236541554a"><div class="ttname"><a href="three_8asy.html#a3033fa652ae41fb2c96eaa236541554a">operator^^</a></div><div class="ttdeci">path3[] operator^^(path3 p, path3 q)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01942">three.asy:1942</a></div></div>
<div class="ttc" id="athree_8asy_html_a3149167f9f62db990833bf1eb75038c6"><div class="ttname"><a href="three_8asy.html#a3149167f9f62db990833bf1eb75038c6">orthographic</a></div><div class="ttdeci">projection orthographic(triple camera, triple up=Z, triple target=O, real zoom=1, pair viewportshift=0, bool showtarget=true, bool center=true)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00347">three.asy:347</a></div></div>
<div class="ttc" id="athree_8asy_html_a3207f641271772ae1b1cb606aaced0e9"><div class="ttname"><a href="three_8asy.html#a3207f641271772ae1b1cb606aaced0e9">Format</a></div><div class="ttdeci">private string Format(real x)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02557">three.asy:2557</a></div></div>
<div class="ttc" id="athree_8asy_html_a3273bb4638145a17df2548a2b519a0ec"><div class="ttname"><a href="three_8asy.html#a3273bb4638145a17df2548a2b519a0ec">defaultmetallic</a></div><div class="ttdeci">real defaultmetallic</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00110">three.asy:110</a></div></div>
<div class="ttc" id="athree_8asy_html_a32c8ff06e7206680a924b3ba4f80b5a2"><div class="ttname"><a href="three_8asy.html#a32c8ff06e7206680a924b3ba4f80b5a2">T</a></div><div class="ttdeci">transform3 T</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02801">three.asy:2801</a></div></div>
<div class="ttc" id="athree_8asy_html_a349ab7af971a4dba55c235814bbc3a9b"><div class="ttname"><a href="three_8asy.html#a349ab7af971a4dba55c235814bbc3a9b">draw</a></div><div class="ttdeci">draw</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02225">three.asy:2225</a></div></div>
<div class="ttc" id="athree_8asy_html_a3a0d5afaf5ff0c4d11398d447acc91e9"><div class="ttname"><a href="three_8asy.html#a3a0d5afaf5ff0c4d11398d447acc91e9">height</a></div><div class="ttdeci">real height</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02799">three.asy:2799</a></div></div>
<div class="ttc" id="athree_8asy_html_a3abd8e7267de24b912bbcfc3e796edb9"><div class="ttname"><a href="three_8asy.html#a3abd8e7267de24b912bbcfc3e796edb9">gamma</a></div><div class="ttdeci">real gamma</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00582">three.asy:582</a></div></div>
<div class="ttc" id="athree_8asy_html_a3d6f87cb9e824ea635a87787ab0a3e73"><div class="ttname"><a href="three_8asy.html#a3d6f87cb9e824ea635a87787ab0a3e73">plane</a></div><div class="ttdeci">path3 plane(triple u, triple v, triple O=O)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02116">three.asy:2116</a></div></div>
<div class="ttc" id="athree_8asy_html_a3d92a39a7d2c49aba23f45f9b4e7aeb2"><div class="ttname"><a href="three_8asy.html#a3d92a39a7d2c49aba23f45f9b4e7aeb2">endpoint</a></div><div class="ttdeci">triple endpoint(path3 p)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01138">three.asy:1138</a></div></div>
<div class="ttc" id="athree_8asy_html_a3f725ad4e6923fe3e1ae31f1179a3870"><div class="ttname"><a href="three_8asy.html#a3f725ad4e6923fe3e1ae31f1179a3870">absperspective</a></div><div class="ttdeci">projection absperspective(triple camera=Z, triple target=O, real roll=0, real angle=30)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02545">three.asy:2545</a></div></div>
<div class="ttc" id="athree_8asy_html_a4156cfe0300377e9610f8631051c7e60"><div class="ttname"><a href="three_8asy.html#a4156cfe0300377e9610f8631051c7e60">atLeast</a></div><div class="ttdeci">bool atLeast</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00532">three.asy:532</a></div></div>
<div class="ttc" id="athree_8asy_html_a41b648be96938404cb7479427550f510"><div class="ttname"><a href="three_8asy.html#a41b648be96938404cb7479427550f510">angleprecision</a></div><div class="ttdeci">real angleprecision</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00115">three.asy:115</a></div></div>
<div class="ttc" id="athree_8asy_html_a4412fbe290b815a868138db3e43edd51"><div class="ttname"><a href="three_8asy.html#a4412fbe290b815a868138db3e43edd51">defaultfresnel0</a></div><div class="ttdeci">real defaultfresnel0</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00111">three.asy:111</a></div></div>
<div class="ttc" id="athree_8asy_html_a4675c100246960b926c68f25e1119fba"><div class="ttname"><a href="three_8asy.html#a4675c100246960b926c68f25e1119fba">ThreeViews</a></div><div class="ttdeci">projection[][] ThreeViews</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03075">three.asy:3075</a></div></div>
<div class="ttc" id="athree_8asy_html_a474268a491f19c963f850331aff962c4"><div class="ttname"><a href="three_8asy.html#a474268a491f19c963f850331aff962c4">theta</a></div><div class="ttdeci">real[] theta(triple[] v, real[] alpha, real[] beta, triple dir0, triple dirn, real g0, real gn, triple reference)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00887">three.asy:887</a></div></div>
<div class="ttc" id="athree_8asy_html_a4a09807bd2a92e73e6b78bbf4320b4ff"><div class="ttname"><a href="three_8asy.html#a4a09807bd2a92e73e6b78bbf4320b4ff">endgroup3</a></div><div class="ttdeci">void endgroup3(picture pic=currentpicture)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02147">three.asy:2147</a></div></div>
<div class="ttc" id="athree_8asy_html_a4d6de2542c177bf3215760214ac2f4a4"><div class="ttname"><a href="three_8asy.html#a4d6de2542c177bf3215760214ac2f4a4">c1</a></div><div class="ttdeci">triple c1</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00863">three.asy:863</a></div></div>
<div class="ttc" id="athree_8asy_html_a4f26e29e600bb06ebda28216e975dcd1"><div class="ttname"><a href="three_8asy.html#a4f26e29e600bb06ebda28216e975dcd1">arc</a></div><div class="ttdeci">path3 arc(triple c, triple v1, triple v2, triple normal=O, bool direction=CCW)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02047">three.asy:2047</a></div></div>
<div class="ttc" id="athree_8asy_html_a50bc7c1c684e4fd5e050c87fb319f51d"><div class="ttname"><a href="three_8asy.html#a50bc7c1c684e4fd5e050c87fb319f51d">Z</a></div><div class="ttdeci">triple Z</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00128">three.asy:128</a></div></div>
<div class="ttc" id="athree_8asy_html_a526f087da4b11d25da892b57db14d5cf"><div class="ttname"><a href="three_8asy.html#a526f087da4b11d25da892b57db14d5cf">size3</a></div><div class="ttdeci">triple size3(picture pic, bool user=false, projection P=currentprojection)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02440">three.asy:2440</a></div></div>
<div class="ttc" id="athree_8asy_html_a5295cc282e6ca8cbb947e71aeb951ca3"><div class="ttname"><a href="three_8asy.html#a5295cc282e6ca8cbb947e71aeb951ca3">operator--</a></div><div class="ttdeci">guide3 operator--(... guide3[] g)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00771">three.asy:771</a></div></div>
<div class="ttc" id="athree_8asy_html_a53f3ce9ff3df616eb44a3cd60e40e0b4"><div class="ttname"><a href="three_8asy.html#a53f3ce9ff3df616eb44a3cd60e40e0b4">oblique</a></div><div class="ttdeci">projection oblique</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00425">three.asy:425</a></div></div>
<div class="ttc" id="athree_8asy_html_a5485cc6c93e3b65f2ed99cb8f67bd8a3"><div class="ttname"><a href="three_8asy.html#a5485cc6c93e3b65f2ed99cb8f67bd8a3">up</a></div><div class="ttdeci">triple up</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02524">three.asy:2524</a></div></div>
<div class="ttc" id="athree_8asy_html_a54d7798bd1a01f70ef1b03cd08c35865"><div class="ttname"><a href="three_8asy.html#a54d7798bd1a01f70ef1b03cd08c35865">relpoint</a></div><div class="ttdeci">triple relpoint(path3 p, real l)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01114">three.asy:1114</a></div></div>
<div class="ttc" id="athree_8asy_html_a5636d7e7ac88a19e83f0a575cb715469"><div class="ttname"><a href="three_8asy.html#a5636d7e7ac88a19e83f0a575cb715469">asin1</a></div><div class="ttdeci">real asin1(real x)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00828">three.asy:828</a></div></div>
<div class="ttc" id="athree_8asy_html_a5700f8e1a7a6da46419a9b40322d1162"><div class="ttname"><a href="three_8asy.html#a5700f8e1a7a6da46419a9b40322d1162">checkEmpty</a></div><div class="ttdeci">void checkEmpty(int n)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00596">three.asy:596</a></div></div>
<div class="ttc" id="athree_8asy_html_a579fcf7c84f5d6c1028794be30a315c0"><div class="ttname"><a href="three_8asy.html#a579fcf7c84f5d6c1028794be30a315c0">XY</a></div><div class="ttdeci">restricted transform3 XY</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01569">three.asy:1569</a></div></div>
<div class="ttc" id="athree_8asy_html_a5ab5427664790aae3d1de54c5765f23a"><div class="ttname"><a href="three_8asy.html#a5ab5427664790aae3d1de54c5765f23a">math</a></div><div class="ttdeci">private import math</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00001">three.asy:1</a></div></div>
<div class="ttc" id="athree_8asy_html_a5af38ef8a878c8476e26baee7872545e"><div class="ttname"><a href="three_8asy.html#a5af38ef8a878c8476e26baee7872545e">addViews</a></div><div class="ttdeci">void addViews(picture dest, picture src, projection[][] views=SixViewsUS, bool group=true, filltype filltype=NoFill)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03080">three.asy:3080</a></div></div>
<div class="ttc" id="athree_8asy_html_a608da67416508f65b940331a4e989fa8"><div class="ttname"><a href="three_8asy.html#a608da67416508f65b940331a4e989fa8">perspective</a></div><div class="ttdeci">projection perspective(triple camera, triple up=Z, triple target=O, real zoom=1, real angle=0, pair viewportshift=0, bool showtarget=true, bool autoadjust=true, bool center=autoadjust)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00324">three.asy:324</a></div></div>
<div class="ttc" id="athree_8asy_html_a639d9902aac773fe5af9550a5511fa3c"><div class="ttname"><a href="three_8asy.html#a639d9902aac773fe5af9550a5511fa3c">point</a></div><div class="ttdeci">triple point(explicit guide3 g, int t)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01706">three.asy:1706</a></div></div>
<div class="ttc" id="athree_8asy_html_a640339e027bb365c02f39859f3e3cb16"><div class="ttname"><a href="three_8asy.html#a640339e027bb365c02f39859f3e3cb16">xypart</a></div><div class="ttdeci">pair xypart(triple v)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00476">three.asy:476</a></div></div>
<div class="ttc" id="athree_8asy_html_a650c96d7cb4b7a2a10b79fb63d95c843"><div class="ttname"><a href="three_8asy.html#a650c96d7cb4b7a2a10b79fb63d95c843">path</a></div><div class="ttdeci">path path(path3 p, pair P(triple)=xypart)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01193">three.asy:1193</a></div></div>
<div class="ttc" id="athree_8asy_html_a673af2d5c665d3c44fa387b3a3104955"><div class="ttname"><a href="three_8asy.html#a673af2d5c665d3c44fa387b3a3104955">min</a></div><div class="ttdeci">triple min(explicit path3[] p)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01982">three.asy:1982</a></div></div>
<div class="ttc" id="athree_8asy_html_a677294a0c989ca3914ac6cc53e057ece"><div class="ttname"><a href="three_8asy.html#a677294a0c989ca3914ac6cc53e057ece">unitbox</a></div><div class="ttdeci">restricted path3[] unitbox</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02034">three.asy:2034</a></div></div>
<div class="ttc" id="athree_8asy_html_a679176903329024a179c6c97ac48eae4"><div class="ttname"><a href="three_8asy.html#a679176903329024a179c6c97ac48eae4">distort</a></div><div class="ttdeci">transform3 distort(triple v)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00275">three.asy:275</a></div></div>
<div class="ttc" id="athree_8asy_html_a67add78c9520d756fddff7c6b3116f55"><div class="ttname"><a href="three_8asy.html#a67add78c9520d756fddff7c6b3116f55">width</a></div><div class="ttdeci">real width</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02799">three.asy:2799</a></div></div>
<div class="ttc" id="athree_8asy_html_a6b44b62eb2ab154030549fb3804ce7a8"><div class="ttname"><a href="three_8asy.html#a6b44b62eb2ab154030549fb3804ce7a8">Single</a></div><div class="ttdeci">restricted real Single</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00018">three.asy:18</a></div></div>
<div class="ttc" id="athree_8asy_html_a6b46e4bb02871549c82f931f7fe2e06e"><div class="ttname"><a href="three_8asy.html#a6b46e4bb02871549c82f931f7fe2e06e">angle</a></div><div class="ttdeci">real angle</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02525">three.asy:2525</a></div></div>
<div class="ttc" id="athree_8asy_html_a6b5581d67354e194b93265fbd682f551"><div class="ttname"><a href="three_8asy.html#a6b5581d67354e194b93265fbd682f551">ZY</a></div><div class="ttdeci">restricted transform3 ZY</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01572">three.asy:1572</a></div></div>
<div class="ttc" id="athree_8asy_html_a6db3826025d3ad02b251a73bd3a4826a"><div class="ttname"><a href="three_8asy.html#a6db3826025d3ad02b251a73bd3a4826a">fit3</a></div><div class="ttdeci">frame[] fit3(string prefix=&quot;&quot;, picture[] pictures, picture all, string format=&quot;&quot;, bool view=true, string options=&quot;&quot;, string script=&quot;&quot;, light light=currentlight, projection P=currentprojection)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03177">three.asy:3177</a></div></div>
<div class="ttc" id="athree_8asy_html_a6e962d69c03afcf13d612668ac46e57b"><div class="ttname"><a href="three_8asy.html#a6e962d69c03afcf13d612668ac46e57b">Zero</a></div><div class="ttdeci">restricted real Zero</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00017">three.asy:17</a></div></div>
<div class="ttc" id="athree_8asy_html_a6f4ecbd746182fcaa3f619935322c1c6"><div class="ttname"><a href="three_8asy.html#a6f4ecbd746182fcaa3f619935322c1c6">curlSpecifier</a></div><div class="ttdeci">real[] curlSpecifier(guide3 g, int t)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01748">three.asy:1748</a></div></div>
<div class="ttc" id="athree_8asy_html_a70caa8252b02b2466261db02ae81cb61"><div class="ttname"><a href="three_8asy.html#a70caa8252b02b2466261db02ae81cb61">normal</a></div><div class="ttdeci">triple normal(path3 p)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01477">three.asy:1477</a></div></div>
<div class="ttc" id="athree_8asy_html_a71f02d5e5350d19a88a37634f8d771c5"><div class="ttname"><a href="three_8asy.html#a71f02d5e5350d19a88a37634f8d771c5">out</a></div><div class="ttdeci">real out</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00531">three.asy:531</a></div></div>
<div class="ttc" id="athree_8asy_html_a74d708555781e4ddf65c0b688349d55b"><div class="ttname"><a href="three_8asy.html#a74d708555781e4ddf65c0b688349d55b">reverse</a></div><div class="ttdeci">guide3 reverse(guide3 g)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01759">three.asy:1759</a></div></div>
<div class="ttc" id="athree_8asy_html_a751859b513ff50479863c1bf07508cd0"><div class="ttname"><a href="three_8asy.html#a751859b513ff50479863c1bf07508cd0">flip</a></div><div class="ttdeci">private transform3 flip(transform3 t, triple X, triple Y, triple Z, projection P)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01576">three.asy:1576</a></div></div>
<div class="ttc" id="athree_8asy_html_a7544c5a4bf80c17933edaf85405afe29"><div class="ttname"><a href="three_8asy.html#a7544c5a4bf80c17933edaf85405afe29">reltime</a></div><div class="ttdeci">real reltime(path3 p, real l)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01108">three.asy:1108</a></div></div>
<div class="ttc" id="athree_8asy_html_a75d2f2705b4385496c485a426f00e951"><div class="ttname"><a href="three_8asy.html#a75d2f2705b4385496c485a426f00e951">nullpath3</a></div><div class="ttdeci">restricted void nullpath3(flatguide3)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00715">three.asy:715</a></div></div>
<div class="ttc" id="athree_8asy_html_a7646635b3012be894971178146b07808"><div class="ttname"><a href="three_8asy.html#a7646635b3012be894971178146b07808">reference</a></div><div class="ttdeci">triple reference(triple[] v, int n, triple d0, triple d1)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00948">three.asy:948</a></div></div>
<div class="ttc" id="athree_8asy_html_a78d67b94700bbe5a6eada331dac49cb1"><div class="ttname"><a href="three_8asy.html#a78d67b94700bbe5a6eada331dac49cb1">nocontrol</a></div><div class="ttdeci">struct control nocontrol</div></div>
<div class="ttc" id="athree_8asy_html_a7ab7d27df9eba0b3744763e1b779fbd5"><div class="ttname"><a href="three_8asy.html#a7ab7d27df9eba0b3744763e1b779fbd5">obliqueX</a></div><div class="ttdeci">projection obliqueX</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00426">three.asy:426</a></div></div>
<div class="ttc" id="athree_8asy_html_a7ae3d98b058eca613cf8f47f4292bf3a"><div class="ttname"><a href="three_8asy.html#a7ae3d98b058eca613cf8f47f4292bf3a">Fuzz</a></div><div class="ttdeci">private real Fuzz</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01075">three.asy:1075</a></div></div>
<div class="ttc" id="athree_8asy_html_a7e1007889e40156a69a3b7607a70d088"><div class="ttname"><a href="three_8asy.html#a7e1007889e40156a69a3b7607a70d088">arcdir</a></div><div class="ttdeci">triple arcdir(path3 p, real L)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01102">three.asy:1102</a></div></div>
<div class="ttc" id="athree_8asy_html_a7eb97ec7b8f3f5b25a30d316ba644370"><div class="ttname"><a href="three_8asy.html#a7eb97ec7b8f3f5b25a30d316ba644370">randompath3</a></div><div class="ttdeci">path3 randompath3(int n, bool cumulate=true, interpolate3 join=operator..)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02000">three.asy:2000</a></div></div>
<div class="ttc" id="athree_8asy_html_a7f0b1b65a9e3ab048823394b8b217aa6"><div class="ttname"><a href="three_8asy.html#a7f0b1b65a9e3ab048823394b8b217aa6">reldir</a></div><div class="ttdeci">triple reldir(path3 p, real l)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01120">three.asy:1120</a></div></div>
<div class="ttc" id="athree_8asy_html_a7f811c6aff5cd18ce346e6b44e6fcbb0"><div class="ttname"><a href="three_8asy.html#a7f811c6aff5cd18ce346e6b44e6fcbb0">ZX</a></div><div class="ttdeci">restricted transform3 ZX</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01573">three.asy:1573</a></div></div>
<div class="ttc" id="athree_8asy_html_a826871947ddd4692641d9ab377f85697"><div class="ttname"><a href="three_8asy.html#a826871947ddd4692641d9ab377f85697">pic2</a></div><div class="ttdeci">picture pic2</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02802">three.asy:2802</a></div></div>
<div class="ttc" id="athree_8asy_html_a8364aea949840919df2cbefd32928c0d"><div class="ttname"><a href="three_8asy.html#a8364aea949840919df2cbefd32928c0d">max3</a></div><div class="ttdeci">triple max3(picture pic, projection P=currentprojection)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02435">three.asy:2435</a></div></div>
<div class="ttc" id="athree_8asy_html_a87a5ef7618ae6611f9ab510375c8dfd5"><div class="ttname"><a href="three_8asy.html#a87a5ef7618ae6611f9ab510375c8dfd5">High</a></div><div class="ttdeci">restricted real High</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00021">three.asy:21</a></div></div>
<div class="ttc" id="athree_8asy_html_a87af75a7a824d0477918662a73553ec9"><div class="ttname"><a href="three_8asy.html#a87af75a7a824d0477918662a73553ec9">margin</a></div><div class="ttdeci">real margin</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00110">three.asy:110</a></div></div>
<div class="ttc" id="athree_8asy_html_a8d238183ea0f15ba49786527ef8d7b1b"><div class="ttname"><a href="three_8asy.html#a8d238183ea0f15ba49786527ef8d7b1b">min3</a></div><div class="ttdeci">triple min3(picture pic, projection P=currentprojection)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02430">three.asy:2430</a></div></div>
<div class="ttc" id="athree_8asy_html_a8d75464e2307b29469558c9e6a998876"><div class="ttname"><a href="three_8asy.html#a8d75464e2307b29469558c9e6a998876">add</a></div><div class="ttdeci">void add(picture pic=currentpicture, void d(picture, transform3), bool exact=false)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02378">three.asy:2378</a></div></div>
<div class="ttc" id="athree_8asy_html_a8db08c7cbf0ffd31111ddd510d603142"><div class="ttname"><a href="three_8asy.html#a8db08c7cbf0ffd31111ddd510d603142">begingroup3</a></div><div class="ttdeci">void begingroup3(frame f, string name=&quot;&quot;, render render=defaultrender)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02129">three.asy:2129</a></div></div>
<div class="ttc" id="athree_8asy_html_a8edb93cfa0336957de8a62f1563f2201"><div class="ttname"><a href="three_8asy.html#a8edb93cfa0336957de8a62f1563f2201">transform3</a></div><div class="ttdeci">transform3 transform3(triple u, triple v, triple w=cross(u, v))</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01877">three.asy:1877</a></div></div>
<div class="ttc" id="athree_8asy_html_a913dc3e38c21b4228f214a1c31a08e24"><div class="ttname"><a href="three_8asy.html#a913dc3e38c21b4228f214a1c31a08e24">unitcircle3</a></div><div class="ttdeci">restricted path3 unitcircle3</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02035">three.asy:2035</a></div></div>
<div class="ttc" id="athree_8asy_html_a91e87defe143ed1fcddb707c568d0c53"><div class="ttname"><a href="three_8asy.html#a91e87defe143ed1fcddb707c568d0c53">LeftView</a></div><div class="ttdeci">projection LeftView</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00428">three.asy:428</a></div></div>
<div class="ttc" id="athree_8asy_html_a962408c5b996cd5c17e1a6f155257f1e"><div class="ttname"><a href="three_8asy.html#a962408c5b996cd5c17e1a6f155257f1e">circle</a></div><div class="ttdeci">path3 circle(triple c, real r, triple normal=Z)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02038">three.asy:2038</a></div></div>
<div class="ttc" id="athree_8asy_html_a992908e213f4458a79376617d353e42e"><div class="ttname"><a href="three_8asy.html#a992908e213f4458a79376617d353e42e">dirSpecifier</a></div><div class="ttdeci">triple[] dirSpecifier(guide3 g, int t)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01713">three.asy:1713</a></div></div>
<div class="ttc" id="athree_8asy_html_a99c5c7063dfeebfd8ccb31ad42a782cf"><div class="ttname"><a href="three_8asy.html#a99c5c7063dfeebfd8ccb31ad42a782cf">beginpoint</a></div><div class="ttdeci">triple beginpoint(path3 p)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01126">three.asy:1126</a></div></div>
<div class="ttc" id="athree_8asy_html_a9e6cefa39a2af3b45b0a4511ac4d141e"><div class="ttname"><a href="three_8asy.html#a9e6cefa39a2af3b45b0a4511ac4d141e">f</a></div><div class="ttdeci">frame f</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02795">three.asy:2795</a></div></div>
<div class="ttc" id="athree_8asy_html_aa023a84f1ba53f790e4bedb6d139a7f9"><div class="ttname"><a href="three_8asy.html#aa023a84f1ba53f790e4bedb6d139a7f9">keepAspect</a></div><div class="ttdeci">bool keepAspect</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02803">three.asy:2803</a></div></div>
<div class="ttc" id="athree_8asy_html_aa3af8e82ca47a26dec6d81832c8902a9"><div class="ttname"><a href="three_8asy.html#aa3af8e82ca47a26dec6d81832c8902a9">cycleToken</a></div><div class="ttdeci">void cycleToken()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00743">three.asy:743</a></div></div>
<div class="ttc" id="athree_8asy_html_aa3c9d4407a88cc2d2805694f2b4b8857"><div class="ttname"><a href="three_8asy.html#aa3c9d4407a88cc2d2805694f2b4b8857">invert</a></div><div class="ttdeci">triple invert(pair z, triple normal, triple point, projection P=currentprojection)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00452">three.asy:452</a></div></div>
<div class="ttc" id="athree_8asy_html_aa5855ee49b0b427c8ed09b5203bb83e4"><div class="ttname"><a href="three_8asy.html#aa5855ee49b0b427c8ed09b5203bb83e4">embedder</a></div><div class="ttdeci">frame embedder(object embedder(string prefix, string format), string prefix, string format, bool view, light light)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03004">three.asy:3004</a></div></div>
<div class="ttc" id="athree_8asy_html_aa6d9f76ab525e400004f4a3008fade9e"><div class="ttname"><a href="three_8asy.html#aa6d9f76ab525e400004f4a3008fade9e">shift</a></div><div class="ttdeci">transform3 shift(triple v)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00131">three.asy:131</a></div></div>
<div class="ttc" id="athree_8asy_html_aa76e815eeb8712bc3a03d24ab98aad6b"><div class="ttname"><a href="three_8asy.html#aa76e815eeb8712bc3a03d24ab98aad6b">ThreeViewsUS</a></div><div class="ttdeci">projection[][] ThreeViewsUS</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03061">three.asy:3061</a></div></div>
<div class="ttc" id="athree_8asy_html_aa7b19ad43ffd9deb52d9eb4055c651bb"><div class="ttname"><a href="three_8asy.html#aa7b19ad43ffd9deb52d9eb4055c651bb">scale</a></div><div class="ttdeci">transform3 scale(triple v, real s)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00180">three.asy:180</a></div></div>
<div class="ttc" id="athree_8asy_html_aa8391140ca5c4a284e82dfe80866854b"><div class="ttname"><a href="three_8asy.html#aa8391140ca5c4a284e82dfe80866854b">perp</a></div><div class="ttdeci">triple perp(triple v)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00237">three.asy:237</a></div></div>
<div class="ttc" id="athree_8asy_html_aa962d35788e1d56ea71a63ee469ae0e2"><div class="ttname"><a href="three_8asy.html#aa962d35788e1d56ea71a63ee469ae0e2">yscale3</a></div><div class="ttdeci">transform3 yscale3(real y)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00164">three.asy:164</a></div></div>
<div class="ttc" id="athree_8asy_html_aa9a4932ecb8b5079921b169f5b9fd66c"><div class="ttname"><a href="three_8asy.html#aa9a4932ecb8b5079921b169f5b9fd66c">SixViewsFR</a></div><div class="ttdeci">projection[][] SixViewsFR</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03071">three.asy:3071</a></div></div>
<div class="ttc" id="athree_8asy_html_aaa04d5b69d813bdbe247e1abaeeb0d35"><div class="ttname"><a href="three_8asy.html#aaa04d5b69d813bdbe247e1abaeeb0d35">unitsquare3</a></div><div class="ttdeci">restricted path3 unitsquare3</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02036">three.asy:2036</a></div></div>
<div class="ttc" id="athree_8asy_html_aaae8f09b424c3338d327b1f0d0aafaf8"><div class="ttname"><a href="three_8asy.html#aaae8f09b424c3338d327b1f0d0aafaf8">cyclic</a></div><div class="ttdeci">bool[] cyclic</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00686">three.asy:686</a></div></div>
<div class="ttc" id="athree_8asy_html_aab41a86ee3b2410042f44438d1a406d8"><div class="ttname"><a href="three_8asy.html#aab41a86ee3b2410042f44438d1a406d8">XYplane</a></div><div class="ttdeci">triple XYplane(pair z)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01077">three.asy:1077</a></div></div>
<div class="ttc" id="athree_8asy_html_aad9dbc63807ae89447641c1b757b08ff"><div class="ttname"><a href="three_8asy.html#aad9dbc63807ae89447641c1b757b08ff">TopView</a></div><div class="ttdeci">projection TopView</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00433">three.asy:433</a></div></div>
<div class="ttc" id="athree_8asy_html_aae99a6a52376fb310d8476caec7adac7"><div class="ttname"><a href="three_8asy.html#aae99a6a52376fb310d8476caec7adac7">tensionSpecifier</a></div><div class="ttdeci">tensionSpecifier tensionSpecifier(guide3 g, int t)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01736">three.asy:1736</a></div></div>
<div class="ttc" id="athree_8asy_html_aaeb67a7f2cd94af42e796ba1f9b8f695"><div class="ttname"><a href="three_8asy.html#aaeb67a7f2cd94af42e796ba1f9b8f695">intersectionpoints</a></div><div class="ttdeci">triple[] intersectionpoints(path3 p, path3 q, real fuzz=-1)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01803">three.asy:1803</a></div></div>
<div class="ttc" id="athree_8asy_html_aaff652dd01e6a39d2b788c6aedbcb46f"><div class="ttname"><a href="three_8asy.html#aaff652dd01e6a39d2b788c6aedbcb46f">init</a></div><div class="ttdeci">struct render init()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00045">three.asy:95</a></div></div>
<div class="ttc" id="athree_8asy_html_ab0f5597ac205bcf2d72b9ffd5d637878"><div class="ttname"><a href="three_8asy.html#ab0f5597ac205bcf2d72b9ffd5d637878">arcpoint</a></div><div class="ttdeci">triple arcpoint(path3 p, real L)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01096">three.asy:1096</a></div></div>
<div class="ttc" id="athree_8asy_html_ab17dc7da202119a308b31b6f177a327a"><div class="ttname"><a href="three_8asy.html#ab17dc7da202119a308b31b6f177a327a">defaultembed3Doptions</a></div><div class="ttdeci">string defaultembed3Doptions</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00118">three.asy:118</a></div></div>
<div class="ttc" id="athree_8asy_html_ab243779d5c184c0e38d585bc27ea7a51"><div class="ttname"><a href="three_8asy.html#ab243779d5c184c0e38d585bc27ea7a51">obliqueZ</a></div><div class="ttdeci">projection obliqueZ</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00426">three.asy:426</a></div></div>
<div class="ttc" id="athree_8asy_html_ab28c457ce357833c0d5cfc7348de9386"><div class="ttname"><a href="three_8asy.html#ab28c457ce357833c0d5cfc7348de9386">exitfunction</a></div><div class="ttdeci">void exitfunction()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03257">three.asy:3257</a></div></div>
<div class="ttc" id="athree_8asy_html_ab5f17629b80d659c01afc5255425572e"><div class="ttname"><a href="three_8asy.html#ab5f17629b80d659c01afc5255425572e">aim</a></div><div class="ttdeci">void aim(flatguide3 g, int N)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00979">three.asy:979</a></div></div>
<div class="ttc" id="athree_8asy_html_ab6a0d1b55976bbde7f5970a7f7bbcf06"><div class="ttname"><a href="three_8asy.html#ab6a0d1b55976bbde7f5970a7f7bbcf06">epsilon</a></div><div class="ttdeci">private real epsilon</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02113">three.asy:2113</a></div></div>
<div class="ttc" id="athree_8asy_html_ab777a134f994f499210b0c3017513ae9"><div class="ttname"><a href="three_8asy.html#ab777a134f994f499210b0c3017513ae9">noTension</a></div><div class="ttdeci">Tension noTension</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00535">three.asy:535</a></div></div>
<div class="ttc" id="athree_8asy_html_ab83ed239bf57f8300b278fe1de60ae96"><div class="ttname"><a href="three_8asy.html#ab83ed239bf57f8300b278fe1de60ae96">XZ</a></div><div class="ttdeci">restricted transform3 XZ</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01574">three.asy:1574</a></div></div>
<div class="ttc" id="athree_8asy_html_ab984e00f617968b185b4b2f66c1840f1"><div class="ttname"><a href="three_8asy.html#ab984e00f617968b185b4b2f66c1840f1">projection</a></div><div class="ttdeci">projection projection()</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00437">three.asy:437</a></div></div>
<div class="ttc" id="athree_8asy_html_aba06a7e758df61847f213c837aa5f2d7"><div class="ttname"><a href="three_8asy.html#aba06a7e758df61847f213c837aa5f2d7">ThreeViewsFR</a></div><div class="ttdeci">projection[][] ThreeViewsFR</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03068">three.asy:3068</a></div></div>
<div class="ttc" id="athree_8asy_html_abaaef1e13a62fb83b1886f26b24ef90a"><div class="ttname"><a href="three_8asy.html#abaaef1e13a62fb83b1886f26b24ef90a">format</a></div><div class="ttdeci">private string format(triple v, string sep=&quot; &quot;)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02573">three.asy:2573</a></div></div>
<div class="ttc" id="athree_8asy_html_abb04af740a1a1bfd49004348a79af27a"><div class="ttname"><a href="three_8asy.html#abb04af740a1a1bfd49004348a79af27a">addStereoViews</a></div><div class="ttdeci">void addStereoViews(picture dest, picture src, bool group=true, filltype filltype=NoFill, real eyetoview=defaulteyetoview, bool leftright=true, projection P=currentprojection)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03151">three.asy:3151</a></div></div>
<div class="ttc" id="athree_8asy_html_abd267d35d7ae68009c7c0703c23956ba"><div class="ttname"><a href="three_8asy.html#abd267d35d7ae68009c7c0703c23956ba">ZXplane</a></div><div class="ttdeci">triple ZXplane(pair z)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01079">three.asy:1079</a></div></div>
<div class="ttc" id="athree_8asy_html_abf4434cb369054c1908f82fbbf912d33"><div class="ttname"><a href="three_8asy.html#abf4434cb369054c1908f82fbbf912d33">viewportmargin</a></div><div class="ttdeci">pair viewportmargin</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02800">three.asy:2800</a></div></div>
<div class="ttc" id="athree_8asy_html_ac10b37ed6384bd0b015e4caca6eda589"><div class="ttname"><a href="three_8asy.html#ac10b37ed6384bd0b015e4caca6eda589">Embedded</a></div><div class="ttdeci">restricted interaction Embedded</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00044">three.asy:44</a></div></div>
<div class="ttc" id="athree_8asy_html_ac26ee8668a10aea7b60fa314517bf7fd"><div class="ttname"><a href="three_8asy.html#ac26ee8668a10aea7b60fa314517bf7fd">Y</a></div><div class="ttdeci">triple Y</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00128">three.asy:128</a></div></div>
<div class="ttc" id="athree_8asy_html_ac307300085cd370c404b1146f7aa1fc8"><div class="ttname"><a href="three_8asy.html#ac307300085cd370c404b1146f7aa1fc8">operator&amp;</a></div><div class="ttdeci">path3 operator&amp;(path3 p, cycleToken tok)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01819">three.asy:1819</a></div></div>
<div class="ttc" id="athree_8asy_html_ac367fc571cbf4114b8f977c3c7ebec53"><div class="ttname"><a href="three_8asy.html#ac367fc571cbf4114b8f977c3c7ebec53">NURBSsphere</a></div><div class="ttdeci">restricted int NURBSsphere</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00024">three.asy:24</a></div></div>
<div class="ttc" id="athree_8asy_html_ac5219ad03b683e4110fdd779932350b3"><div class="ttname"><a href="three_8asy.html#ac5219ad03b683e4110fdd779932350b3">Medium</a></div><div class="ttdeci">restricted real Medium</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00020">three.asy:20</a></div></div>
<div class="ttc" id="athree_8asy_html_ac538d6ce7cfd001f160d3f7eb279eda3"><div class="ttname"><a href="three_8asy.html#ac538d6ce7cfd001f160d3f7eb279eda3">path3</a></div><div class="ttdeci">path3 path3(triple v)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01143">three.asy:1143</a></div></div>
<div class="ttc" id="athree_8asy_html_ac59632327e55aad0db2f48cec1040e09"><div class="ttname"><a href="three_8asy.html#ac59632327e55aad0db2f48cec1040e09">three_light</a></div><div class="ttdeci">include three_light</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02123">three.asy:2123</a></div></div>
<div class="ttc" id="athree_8asy_html_ac691e2730a5947d44e408a6e1948223a"><div class="ttname"><a href="three_8asy.html#ac691e2730a5947d44e408a6e1948223a">defaulteyetoview</a></div><div class="ttdeci">real defaulteyetoview</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00120">three.asy:120</a></div></div>
<div class="ttc" id="athree_8asy_html_ac735f7134cb6bfb17e044c727f079c5b"><div class="ttname"><a href="three_8asy.html#ac735f7134cb6bfb17e044c727f079c5b">align</a></div><div class="ttdeci">transform3 align(triple u)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01888">three.asy:1888</a></div></div>
<div class="ttc" id="athree_8asy_html_acc09a7dc14371048f782d578e1fbbb25"><div class="ttname"><a href="three_8asy.html#acc09a7dc14371048f782d578e1fbbb25">X</a></div><div class="ttdeci">triple X</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00128">three.asy:128</a></div></div>
<div class="ttc" id="athree_8asy_html_acc0eefc6522d8ba0d19cad5b3d09c7aa"><div class="ttname"><a href="three_8asy.html#acc0eefc6522d8ba0d19cad5b3d09c7aa">c0</a></div><div class="ttdeci">triple c0</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00863">three.asy:863</a></div></div>
<div class="ttc" id="athree_8asy_html_acc3f70c0155a91346ee5d39e7f2d356a"><div class="ttname"><a href="three_8asy.html#acc3f70c0155a91346ee5d39e7f2d356a">transform</a></div><div class="ttdeci">transform transform(triple u, triple v, triple O=O, projection P=currentprojection)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01648">three.asy:1648</a></div></div>
<div class="ttc" id="athree_8asy_html_acc66c35faa330cfec81321634c133340"><div class="ttname"><a href="three_8asy.html#acc66c35faa330cfec81321634c133340">rotate</a></div><div class="ttdeci">transform3 rotate(real angle, triple v)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00193">three.asy:193</a></div></div>
<div class="ttc" id="athree_8asy_html_acdafb953bb894cd5384929f89b576bb2"><div class="ttname"><a href="three_8asy.html#acdafb953bb894cd5384929f89b576bb2">BackView</a></div><div class="ttdeci">projection BackView</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00431">three.asy:431</a></div></div>
<div class="ttc" id="athree_8asy_html_acdbdfdb61b81df401112a469975b36b0"><div class="ttname"><a href="three_8asy.html#acdbdfdb61b81df401112a469975b36b0">interpolate3</a></div><div class="ttdeci">guide3 interpolate3(... guide3[])</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00793">three.asy:793</a></div></div>
<div class="ttc" id="athree_8asy_html_acdc3f8c4a383bb898f470a07aa4ffac8"><div class="ttname"><a href="three_8asy.html#acdc3f8c4a383bb898f470a07aa4ffac8">relative</a></div><div class="ttdeci">real relative(Label L, path3 g)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01871">three.asy:1871</a></div></div>
<div class="ttc" id="athree_8asy_html_ad011ab9d1ca635a6f0a1cab7d95c2b6c"><div class="ttname"><a href="three_8asy.html#ad011ab9d1ca635a6f0a1cab7d95c2b6c">defaultshininess</a></div><div class="ttdeci">real defaultshininess</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00109">three.asy:109</a></div></div>
<div class="ttc" id="athree_8asy_html_ad5fe5c0b1d430fa877b30df1641d4921"><div class="ttname"><a href="three_8asy.html#ad5fe5c0b1d430fa877b30df1641d4921">O</a></div><div class="ttdeci">triple O</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00127">three.asy:127</a></div></div>
<div class="ttc" id="athree_8asy_html_ad667346bdeaeb4d03146dd71f52d9b0c"><div class="ttname"><a href="three_8asy.html#ad667346bdeaeb4d03146dd71f52d9b0c">P</a></div><div class="ttdeci">projection P</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02797">three.asy:2797</a></div></div>
<div class="ttc" id="athree_8asy_html_ad7309eb240525b9850cdc3c2b4add7e6"><div class="ttname"><a href="three_8asy.html#ad7309eb240525b9850cdc3c2b4add7e6">join3</a></div><div class="ttdeci">interpolate3 join3(tensionSpecifier t)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00795">three.asy:795</a></div></div>
<div class="ttc" id="athree_8asy_html_ad75c80188a531711e51712cf86c370d7"><div class="ttname"><a href="three_8asy.html#ad75c80188a531711e51712cf86c370d7">xscale3</a></div><div class="ttdeci">transform3 xscale3(real x)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00156">three.asy:156</a></div></div>
<div class="ttc" id="athree_8asy_html_ad7dbc7e52a6e6b6e02eeafa7c879997f"><div class="ttname"><a href="three_8asy.html#ad7dbc7e52a6e6b6e02eeafa7c879997f">t</a></div><div class="ttdeci">transform3 t</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02796">three.asy:2796</a></div></div>
<div class="ttc" id="athree_8asy_html_ad9f74a3cdb8907252783e04021638480"><div class="ttname"><a href="three_8asy.html#ad9f74a3cdb8907252783e04021638480">controlSpecifier</a></div><div class="ttdeci">triple[] controlSpecifier(guide3 g, int t)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01724">three.asy:1724</a></div></div>
<div class="ttc" id="athree_8asy_html_adabc08f22375da96f33422227ebfc65a"><div class="ttname"><a href="three_8asy.html#adabc08f22375da96f33422227ebfc65a">YZ</a></div><div class="ttdeci">restricted transform3 YZ</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01571">three.asy:1571</a></div></div>
<div class="ttc" id="athree_8asy_html_add3ac243d40b0717b0196b13e23ce799"><div class="ttname"><a href="three_8asy.html#add3ac243d40b0717b0196b13e23ce799">look</a></div><div class="ttdeci">transform3 look(triple eye, triple up=Z, triple target=O)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00252">three.asy:252</a></div></div>
<div class="ttc" id="athree_8asy_html_addb7f38fef828c454e9e04e8c3a06bae"><div class="ttname"><a href="three_8asy.html#addb7f38fef828c454e9e04e8c3a06bae">triples</a></div><div class="ttdeci">triple[] triples(real[] x, real[] y, real[] z)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01925">three.asy:1925</a></div></div>
<div class="ttc" id="athree_8asy_html_ade17844a9ce3ab074f5401c4fed31347"><div class="ttname"><a href="three_8asy.html#ade17844a9ce3ab074f5401c4fed31347">guide3</a></div><div class="ttdeci">void guide3(flatguide3)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00713">three.asy:713</a></div></div>
<div class="ttc" id="athree_8asy_html_ade8d507acf6080b28fad392a46db3aba"><div class="ttname"><a href="three_8asy.html#ade8d507acf6080b28fad392a46db3aba">SixViews</a></div><div class="ttdeci">projection[][] SixViews</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03077">three.asy:3077</a></div></div>
<div class="ttc" id="athree_8asy_html_adf0678152c62ca03f0d0e09841664e96"><div class="ttname"><a href="three_8asy.html#adf0678152c62ca03f0d0e09841664e96">three_arrows</a></div><div class="ttdeci">include three_arrows</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02342">three.asy:2342</a></div></div>
<div class="ttc" id="athree_8asy_html_ae25e8142eeea956e3b80e492fc89c4e5"><div class="ttname"><a href="three_8asy.html#ae25e8142eeea956e3b80e492fc89c4e5">interaction</a></div><div class="ttdeci">interaction interaction</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00113">three.asy:113</a></div></div>
<div class="ttc" id="athree_8asy_html_ae2b00089aa974e9aa1b2bf2c08e99bd5"><div class="ttname"><a href="three_8asy.html#ae2b00089aa974e9aa1b2bf2c08e99bd5">SixViewsUS</a></div><div class="ttdeci">projection[][] SixViewsUS</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03064">three.asy:3064</a></div></div>
<div class="ttc" id="athree_8asy_html_ae6a66c2d9597c100ad27ce7647223bbe"><div class="ttname"><a href="three_8asy.html#ae6a66c2d9597c100ad27ce7647223bbe">YX</a></div><div class="ttdeci">restricted transform3 YX</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01570">three.asy:1570</a></div></div>
<div class="ttc" id="athree_8asy_html_ae808fcae7981b91babc3b7f7a4236192"><div class="ttname"><a href="three_8asy.html#ae808fcae7981b91babc3b7f7a4236192">Billboard</a></div><div class="ttdeci">restricted interaction Billboard</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00045">three.asy:45</a></div></div>
<div class="ttc" id="athree_8asy_html_ae881ac9bcbfa62725de2c4bd6fd3d177"><div class="ttname"><a href="three_8asy.html#ae881ac9bcbfa62725de2c4bd6fd3d177">write</a></div><div class="ttdeci">void write(file file, control c)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00505">three.asy:505</a></div></div>
<div class="ttc" id="athree_8asy_html_aea16aaa21631609c1951dc27d2152a89"><div class="ttname"><a href="three_8asy.html#aea16aaa21631609c1951dc27d2152a89">three_margins</a></div><div class="ttdeci">include three_margins</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02164">three.asy:2164</a></div></div>
<div class="ttc" id="athree_8asy_html_aefad8d38db827b74d78363f4fd681cc2"><div class="ttname"><a href="three_8asy.html#aefad8d38db827b74d78363f4fd681cc2">addPath</a></div><div class="ttdeci">void addPath(picture pic, path3 g, pen p)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02157">three.asy:2157</a></div></div>
<div class="ttc" id="athree_8asy_html_af051f4805886fff0efe1b296f6e51c00"><div class="ttname"><a href="three_8asy.html#af051f4805886fff0efe1b296f6e51c00">acos1</a></div><div class="ttdeci">real acos1(real x)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00834">three.asy:834</a></div></div>
<div class="ttc" id="athree_8asy_html_af0a343e370ab3aeb7ab3b361e4fa2b86"><div class="ttname"><a href="three_8asy.html#af0a343e370ab3aeb7ab3b361e4fa2b86">midpoint</a></div><div class="ttdeci">triple midpoint(path3 p)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01132">three.asy:1132</a></div></div>
<div class="ttc" id="athree_8asy_html_af336ef7d658957164dc1bc3d2e81cae8"><div class="ttname"><a href="three_8asy.html#af336ef7d658957164dc1bc3d2e81cae8">operator..</a></div><div class="ttdeci">guide3 operator..(... guide3[] g)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00785">three.asy:785</a></div></div>
<div class="ttc" id="athree_8asy_html_af5b892ba4c2317293012f1691c11f808"><div class="ttname"><a href="three_8asy.html#af5b892ba4c2317293012f1691c11f808">RightView</a></div><div class="ttdeci">projection RightView</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00429">three.asy:429</a></div></div>
<div class="ttc" id="athree_8asy_html_af65bbba9f42cea8e903a1e504700fe04"><div class="ttname"><a href="three_8asy.html#af65bbba9f42cea8e903a1e504700fe04">adjustedIndex</a></div><div class="ttdeci">int adjustedIndex(int i, int n, bool cycles)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00601">three.asy:601</a></div></div>
<div class="ttc" id="athree_8asy_html_af776f50dbb03f81930fe6128399d4b8d"><div class="ttname"><a href="three_8asy.html#af776f50dbb03f81930fe6128399d4b8d">embed3</a></div><div class="ttdeci">embed3</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02999">three.asy:2999</a></div></div>
<div class="ttc" id="athree_8asy_html_af97fd74d078b2b01e16d896c9c3b3790"><div class="ttname"><a href="three_8asy.html#af97fd74d078b2b01e16d896c9c3b3790">YZplane</a></div><div class="ttdeci">triple YZplane(pair z)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l01078">three.asy:1078</a></div></div>
<div class="ttc" id="athree_8asy_html_afbdf0675a7e647dbd93358876439d170"><div class="ttname"><a href="three_8asy.html#afbdf0675a7e647dbd93358876439d170">Low</a></div><div class="ttdeci">restricted real Low</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l00019">three.asy:19</a></div></div>
<div class="ttc" id="athree_8asy_html_afc6947c5cc90cc324098e40b4e350ac9"><div class="ttname"><a href="three_8asy.html#afc6947c5cc90cc324098e40b4e350ac9">currentexitfunction</a></div><div class="ttdeci">exitfcn currentexitfunction</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l03255">three.asy:3255</a></div></div>
<div class="ttc" id="athree_8asy_html_afcb6414b811a6c3663a055f61298a25c"><div class="ttname"><a href="three_8asy.html#afcb6414b811a6c3663a055f61298a25c">atexit</a></div><div class="ttdeci">atexit(exitfunction)</div></div>
<div class="ttc" id="athree_8asy_html_afe8d63455146766b2b3e2fd45a0ac7b5"><div class="ttname"><a href="three_8asy.html#afe8d63455146766b2b3e2fd45a0ac7b5">arrow</a></div><div class="ttdeci">void arrow(picture pic=currentpicture, Label L=&quot;&quot;, triple b, triple dir, real length=arrowlength, align align=NoAlign, pen p=currentpen, arrowbar3 arrow=Arrow3, margin3 margin=EndMargin3, light light=nolight, light arrowheadlight=currentlight, string name=&quot;&quot;, render render=defaultrender)</div><div class="ttdef"><b>Definition:</b> <a href="three_8asy_source.html#l02402">three.asy:2402</a></div></div>
<div class="ttc" id="athree__arrows_8asy_html_a2795530e5d3ea7bbed9ad6589e33fd9e"><div class="ttname"><a href="three__arrows_8asy.html#a2795530e5d3ea7bbed9ad6589e33fd9e">Arrow3</a></div><div class="ttdeci">arrowbar3 Arrow3</div><div class="ttdef"><b>Definition:</b> <a href="three__arrows_8asy_source.html#l00714">three_arrows.asy:714</a></div></div>
<div class="ttc" id="athree__arrows_8asy_html_ab81e67f0bd8341ee23ba2802efa9d6e7"><div class="ttname"><a href="three__arrows_8asy.html#ab81e67f0bd8341ee23ba2802efa9d6e7">arrowbar3</a></div><div class="ttdeci">bool arrowbar3(picture, path3, material, margin3, light, light)</div><div class="ttdef"><b>Definition:</b> <a href="three__arrows_8asy_source.html#l00550">three_arrows.asy:550</a></div></div>
<div class="ttc" id="athree__light_8asy_html_a49d15a9c975d2bbe359ede05c0620335"><div class="ttname"><a href="three__light_8asy.html#a49d15a9c975d2bbe359ede05c0620335">nolight</a></div><div class="ttdeci">light nolight</div><div class="ttdef"><b>Definition:</b> <a href="three__light_8asy_source.html#l00133">three_light.asy:133</a></div></div>
<div class="ttc" id="athree__light_8asy_html_a6311e5a20b46dec86fe654cd7a213cff"><div class="ttname"><a href="three__light_8asy.html#a6311e5a20b46dec86fe654cd7a213cff">opacity</a></div><div class="ttdeci">real opacity</div><div class="ttdef"><b>Definition:</b> <a href="three__light_8asy_source.html#l00039">three_light.asy:39</a></div></div>
<div class="ttc" id="athree__margins_8asy_html_a8c7158f75fa53eb5fe3240a16512bd60"><div class="ttname"><a href="three__margins_8asy.html#a8c7158f75fa53eb5fe3240a16512bd60">EndMargin3</a></div><div class="ttdeci">margin3 EndMargin3</div><div class="ttdef"><b>Definition:</b> <a href="three__margins_8asy_source.html#l00091">three_margins.asy:91</a></div></div>
<div class="ttc" id="athree__margins_8asy_html_a8e17a18a2fd6374b183837dd4da5e64a"><div class="ttname"><a href="three__margins_8asy.html#a8e17a18a2fd6374b183837dd4da5e64a">margin3</a></div><div class="ttdeci">marginT3 margin3(path3, pen)</div><div class="ttdef"><b>Definition:</b> <a href="three__margins_8asy_source.html#l00006">three_margins.asy:6</a></div></div>
<div class="ttc" id="athree__margins_8asy_html_afeb7d1eefe0ea30f91c3995adcd5a44b"><div class="ttname"><a href="three__margins_8asy.html#afeb7d1eefe0ea30f91c3995adcd5a44b">NoMargin3</a></div><div class="ttdeci">margin3 NoMargin3</div><div class="ttdef"><b>Definition:</b> <a href="three__margins_8asy_source.html#l00088">three_margins.asy:88</a></div></div>
<div class="ttc" id="athree__surface_8asy_html_a0241d0beaf4ca15e19512a50f636827e"><div class="ttname"><a href="three__surface_8asy.html#a0241d0beaf4ca15e19512a50f636827e">unitdisk</a></div><div class="ttdeci">restricted surface unitdisk</div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l02348">three_surface.asy:2348</a></div></div>
<div class="ttc" id="athree__surface_8asy_html_a025286b0b6b4704800487c9f7215eab1"><div class="ttname"><a href="three__surface_8asy.html#a025286b0b6b4704800487c9f7215eab1">minbound</a></div><div class="ttdeci">pair minbound(triple[] A, projection P)</div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l02521">three_surface.asy:2521</a></div></div>
<div class="ttc" id="athree__surface_8asy_html_a0ed578f475a0bfa13e11cd4dd92a4ca0"><div class="ttname"><a href="three__surface_8asy.html#a0ed578f475a0bfa13e11cd4dd92a4ca0">maxbound</a></div><div class="ttdeci">pair maxbound(triple[] A, projection P)</div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l02529">three_surface.asy:2529</a></div></div>
<div class="ttc" id="athree__surface_8asy_html_a2a2902c82f84d2cc2b20ec95b68d6cf3"><div class="ttname"><a href="three__surface_8asy.html#a2a2902c82f84d2cc2b20ec95b68d6cf3">t1</a></div><div class="ttdeci">private transform3 t1</div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l02238">three_surface.asy:2238</a></div></div>
<div class="ttc" id="athree__surface_8asy_html_a4133aae837366539aea64e158fbc93c8"><div class="ttname"><a href="three__surface_8asy.html#a4133aae837366539aea64e158fbc93c8">primitive</a></div><div class="ttdeci">primitive primitive</div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l00767">three_surface.asy:767</a></div></div>
<div class="ttc" id="athree__surface_8asy_html_a4cb85b10fd0d693de4231ceee493f061"><div class="ttname"><a href="three__surface_8asy.html#a4cb85b10fd0d693de4231ceee493f061">unitsphere</a></div><div class="ttdeci">restricted surface unitsphere</div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l02273">three_surface.asy:2273</a></div></div>
<div class="ttc" id="athree__surface_8asy_html_a68c7fde0cf4f1a4081f4aadd1db2bbf7"><div class="ttname"><a href="three__surface_8asy.html#a68c7fde0cf4f1a4081f4aadd1db2bbf7">t2</a></div><div class="ttdeci">private transform3 t2</div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l02239">three_surface.asy:2239</a></div></div>
<div class="ttc" id="athree__surface_8asy_html_ac475324f2bf6bc3d55f274d8c3d6b10c"><div class="ttname"><a href="three__surface_8asy.html#ac475324f2bf6bc3d55f274d8c3d6b10c">unithemisphere</a></div><div class="ttdeci">restricted surface unithemisphere</div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l02271">three_surface.asy:2271</a></div></div>
<div class="ttc" id="athree__surface_8asy_html_ac9f9b9e33f4127824d0ab473f28df545"><div class="ttname"><a href="three__surface_8asy.html#ac9f9b9e33f4127824d0ab473f28df545">i</a></div><div class="ttdeci">private transform3 i</div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l02241">three_surface.asy:2241</a></div></div>
<div class="ttc" id="athree__surface_8asy_html_ad79bdbdcfde11c250d5d6a139108727d"><div class="ttname"><a href="three__surface_8asy.html#ad79bdbdcfde11c250d5d6a139108727d">straight</a></div><div class="ttdeci">bool straight</div><div class="ttdef"><b>Definition:</b> <a href="three__surface_8asy_source.html#l00460">three_surface.asy:460</a></div></div>
<div class="ttc" id="athree__tube_8asy_html_ad1e8ff0e642e5add0af43ecf1a10e7eb"><div class="ttname"><a href="three__tube_8asy.html#ad1e8ff0e642e5add0af43ecf1a10e7eb">tube</a></div><div class="ttdeci">surface tube(triple z0, triple c0, triple c1, triple z1, real w)</div><div class="ttdef"><b>Definition:</b> <a href="three__tube_8asy_source.html#l00114">three_tube.asy:114</a></div></div>
<div class="ttc" id="atube_8asy_html_a3aa19d4e0f2b0932b080b8dfb1c2e096"><div class="ttname"><a href="tube_8asy.html#a3aa19d4e0f2b0932b080b8dfb1c2e096">render</a></div><div class="ttdeci">void render(path3 s, real r, void f(path3, real))</div><div class="ttdef"><b>Definition:</b> <a href="tube_8asy_source.html#l00014">tube.asy:14</a></div></div>
<div class="ttc" id="av3d_8asy_html_aec502adcaade532d075d75056f17ca0f"><div class="ttname"><a href="v3d_8asy.html#aec502adcaade532d075d75056f17ca0f">light</a></div><div class="ttdeci">light light</div><div class="ttdef"><b>Definition:</b> <a href="v3d_8asy_source.html#l00072">v3d.asy:72</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://raw.githubusercontent.com/felixfuchsff/asymptote-doc/refs/heads/master/doxygen.conf"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
